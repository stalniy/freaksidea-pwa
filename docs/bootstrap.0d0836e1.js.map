{"version":3,"file":"bootstrap.0d0836e1.js","sources":["../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/global.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/fails.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/descriptors.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/object-property-is-enumerable.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/create-property-descriptor.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/classof-raw.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/indexed-object.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/to-indexed-object.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/require-object-coercible.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/is-object.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/to-primitive.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/has.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/document-create-element.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/ie8-dom-define.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/object-get-own-property-descriptor.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/an-object.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/object-define-property.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/create-non-enumerable-property.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/set-global.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/shared-store.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/inspect-source.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/internal-state.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/shared-key.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/native-weak-map.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/shared.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/uid.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/hidden-keys.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/task.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/redefine.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/path.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/get-built-in.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/to-integer.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/to-length.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/to-absolute-index.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/array-includes.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/object-keys-internal.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/object-get-own-property-names.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/enum-bug-keys.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/object-get-own-property-symbols.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/own-keys.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/copy-constructor-properties.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/is-forced.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/export.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/html.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/engine-user-agent.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/engine-is-ios.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/function-bind-context.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/internals/a-function.js","../node_modules/.pnpm/core-js@3.6.5/node_modules/core-js/modules/web.immediate.js","../node_modules/.pnpm/lit-html@1.3.0/node_modules/lit-html/lib/dom.js","../node_modules/.pnpm/lit-html@1.3.0/node_modules/lit-html/lib/template.js","../node_modules/.pnpm/lit-html@1.3.0/node_modules/lit-html/lib/modify-template.js","../node_modules/.pnpm/lit-html@1.3.0/node_modules/lit-html/lib/directive.js","../node_modules/.pnpm/lit-html@1.3.0/node_modules/lit-html/lib/part.js","../node_modules/.pnpm/lit-html@1.3.0/node_modules/lit-html/lib/template-instance.js","../node_modules/.pnpm/lit-html@1.3.0/node_modules/lit-html/lib/template-result.js","../node_modules/.pnpm/lit-html@1.3.0/node_modules/lit-html/lib/parts.js","../node_modules/.pnpm/lit-html@1.3.0/node_modules/lit-html/lib/template-factory.js","../node_modules/.pnpm/lit-html@1.3.0/node_modules/lit-html/lib/render.js","../node_modules/.pnpm/lit-html@1.3.0/node_modules/lit-html/lib/default-template-processor.js","../node_modules/.pnpm/lit-html@1.3.0/node_modules/lit-html/lit-html.js","../node_modules/.pnpm/lit-html@1.3.0/node_modules/lit-html/lib/shady-render.js","../node_modules/.pnpm/lit-element@2.4.0/node_modules/lit-element/lib/updating-element.js","../node_modules/.pnpm/lit-element@2.4.0/node_modules/lit-element/lib/css-tag.js","../node_modules/.pnpm/lit-element@2.4.0/node_modules/lit-element/lit-element.js","../node_modules/.pnpm/path-to-regexp@2.4.0/node_modules/path-to-regexp/index.js","../node_modules/.pnpm/@curi/router@2.1.2/node_modules/@curi/router/dist/curi-router.es.js","../node_modules/.pnpm/@hickory/location-utils@2.1.0/node_modules/@hickory/location-utils/dist/hickory-location-utils.es.js","../node_modules/.pnpm/@hickory/root@2.1.0/node_modules/@hickory/root/dist/hickory-root.es.js","../node_modules/.pnpm/@hickory/dom-utils@2.1.0/node_modules/@hickory/dom-utils/dist/hickory-dom-utils.es.js","../node_modules/.pnpm/@hickory/browser@2.1.0/node_modules/@hickory/browser/dist/hickory-browser.es.js","../node_modules/.pnpm/minisearch@2.5.1/node_modules/minisearch/dist/es/index.js","../src/config/app.js","../src/services/http.js","../src/services/error.js","../src/services/utils.js","../src/config/search.js","../src/services/ContentType.js","../CONTENT_2:/home/runner/work/freaksidea-pwa/freaksidea-pwa/src/content/pages","../CONTENT_2:/home/runner/work/freaksidea-pwa/freaksidea-pwa/src/content/articles","../src/services/content.js","../src/services/pageController.js","../node_modules/.pnpm/lit-translate@1.2.1/node_modules/lit-translate/helpers.js","../node_modules/.pnpm/lit-translate@1.2.1/node_modules/lit-translate/util.js","../node_modules/.pnpm/lit-translate@1.2.1/node_modules/lit-translate/config.js","../node_modules/.pnpm/lit-translate@1.2.1/node_modules/lit-translate/cleanup.js","../node_modules/.pnpm/lit-translate@1.2.1/node_modules/lit-translate/directive.js","../node_modules/.pnpm/lit-html@1.3.0/node_modules/lit-html/directives/unsafe-html.js","../CONTENT_1:/home/runner/work/freaksidea-pwa/freaksidea-pwa/src/content/app","../src/services/i18n.js","../src/config/controllers.js","../src/services/querystring.js","../src/services/router.js","../node_modules/.pnpm/@curi/interactions@2.0.3/node_modules/@curi/interactions/dist/curi-interactions.es.js","../src/styles/grid.js","../src/components/App.js","../src/directives/i18n.js","../node_modules/.pnpm/lit-translate@1.2.1/node_modules/lit-translate/directives/translate.js","../src/components/AppNotification.js","../src/styles/block.js","../src/styles/md.js","../src/components/AppBlock.js","../src/components/AppFooter.js","../src/assets/footer.jpg","../src/styles/article.js","../src/styles/form.js","../src/styles/icons.js","../src/assets/icon/idea.jpg","../src/styles/page.js","../src/styles/code.js","../src/components/AppHeader.js","../src/assets/main.jpg","../src/components/AppLink.js","../src/components/AppMenu.js","../src/components/ArticleDetails.js","../src/components/ContactForm.js","../src/components/I18nElement.js","../src/services/meta.js","../src/hooks/scrollToSection.js","../src/components/Page.js","../src/components/PageAbout.js","../src/components/PageArticle.js","../src/components/PageArticles.js","../src/components/Pager.js","../src/assets/arrs.jpg","../src/components/PopularArticles.js","../src/components/PopularTags.js","../src/components/SimilarArticles.js","../src/assets/arrow-right.jpg","../src/components/LangPicker.js","../src/app.js","../src/serviceWorker.js","../src/bootstrap.js"],"sourcesContent":["var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","module.exports = {};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    !fails(post) &&\n    location.protocol !== 'file:'\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","exports.f = Object.getOwnPropertySymbols;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar task = require('../internals/task');\n\nvar FORCED = !global.setImmediate || !global.clearImmediate;\n\n// http://w3c.github.io/setImmediate/\n$({ global: true, bind: true, enumerable: true, forced: FORCED }, {\n  // `setImmediate` method\n  // http://w3c.github.io/setImmediate/#si-setImmediate\n  setImmediate: task.set,\n  // `clearImmediate` method\n  // http://w3c.github.io/setImmediate/#si-clearImmediate\n  clearImmediate: task.clear\n});\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = typeof window !== 'undefined' &&\n    window.customElements != null &&\n    window.customElements.polyfillWrapFlushCallback !==\n        undefined;\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes = (container, start, end = null, before = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.insertBefore(start, before);\n        start = n;\n    }\n};\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes = (container, start, end = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.removeChild(start);\n        start = n;\n    }\n};\n//# sourceMappingURL=dom.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n/**\n * An updatable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const nodesToRemove = [];\n        const stack = [];\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        // Keeps track of the last index associated with a part. We try to delete\n        // unnecessary nodes, but we never want to associate two different parts\n        // to the same index. They must have a constant node between.\n        let lastPartIndex = 0;\n        let index = -1;\n        let partIndex = 0;\n        const { strings, values: { length } } = result;\n        while (partIndex < length) {\n            const node = walker.nextNode();\n            if (node === null) {\n                // We've exhausted the content inside a nested template element.\n                // Because we still have parts (the outer for-loop), we know:\n                // - There is a template in the stack\n                // - The walker will find a nextNode outside the template\n                walker.currentNode = stack.pop();\n                continue;\n            }\n            index++;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (node.hasAttributes()) {\n                    const attributes = node.attributes;\n                    const { length } = attributes;\n                    // Per\n                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                    // attributes are not guaranteed to be returned in document order.\n                    // In particular, Edge/IE can return them out of order, so we cannot\n                    // assume a correspondence between part index and attribute index.\n                    let count = 0;\n                    for (let i = 0; i < length; i++) {\n                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n                            count++;\n                        }\n                    }\n                    while (count-- > 0) {\n                        // Get the template literal section leading up to the first\n                        // expression in this attribute\n                        const stringForPart = strings[partIndex];\n                        // Find the attribute name\n                        const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                        // Find the corresponding attribute\n                        // All bound attributes have had a suffix added in\n                        // TemplateResult#getHTML to opt out of special attribute\n                        // handling. To look up the attribute value we also need to add\n                        // the suffix.\n                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;\n                        const attributeValue = node.getAttribute(attributeLookupName);\n                        node.removeAttribute(attributeLookupName);\n                        const statics = attributeValue.split(markerRegex);\n                        this.parts.push({ type: 'attribute', index, name, strings: statics });\n                        partIndex += statics.length - 1;\n                    }\n                }\n                if (node.tagName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const data = node.data;\n                if (data.indexOf(marker) >= 0) {\n                    const parent = node.parentNode;\n                    const strings = data.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        let insert;\n                        let s = strings[i];\n                        if (s === '') {\n                            insert = createMarker();\n                        }\n                        else {\n                            const match = lastAttributeNameRegex.exec(s);\n                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                                s = s.slice(0, match.index) + match[1] +\n                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n                            }\n                            insert = document.createTextNode(s);\n                        }\n                        parent.insertBefore(insert, node);\n                        this.parts.push({ type: 'node', index: ++index });\n                    }\n                    // If there's no text, we must insert a comment to mark our place.\n                    // Else, we can trust it will stick around after cloning.\n                    if (strings[lastIndex] === '') {\n                        parent.insertBefore(createMarker(), node);\n                        nodesToRemove.push(node);\n                    }\n                    else {\n                        node.data = strings[lastIndex];\n                    }\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                }\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                if (node.data === marker) {\n                    const parent = node.parentNode;\n                    // Add a new marker node to be the startNode of the Part if any of\n                    // the following are true:\n                    //  * We don't have a previousSibling\n                    //  * The previousSibling is already the start of a previous part\n                    if (node.previousSibling === null || index === lastPartIndex) {\n                        index++;\n                        parent.insertBefore(createMarker(), node);\n                    }\n                    lastPartIndex = index;\n                    this.parts.push({ type: 'node', index });\n                    // If we don't have a nextSibling, keep this node so we have an end.\n                    // Else, we can remove it to save future costs.\n                    if (node.nextSibling === null) {\n                        node.data = '';\n                    }\n                    else {\n                        nodesToRemove.push(node);\n                        index--;\n                    }\n                    partIndex++;\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        // TODO (justinfagnani): consider whether it's even worth it to\n                        // make bindings in comments work\n                        this.parts.push({ type: 'node', index: -1 });\n                        partIndex++;\n                    }\n                }\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nconst endsWith = (str, suffix) => {\n    const index = str.length - suffix.length;\n    return index >= 0 && str.slice(index) === suffix;\n};\nexport const isTemplatePartActive = (part) => part.index !== -1;\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex = \n// eslint-disable-next-line no-control-regex\n/([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n//# sourceMappingURL=template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isTemplatePartActive } from './template.js';\nconst walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(template, nodesToRemove) {\n    const { element: { content }, parts } = template;\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let part = parts[partIndex];\n    let nodeIndex = -1;\n    let removeCount = 0;\n    const nodesToRemoveInTemplate = [];\n    let currentRemovingNode = null;\n    while (walker.nextNode()) {\n        nodeIndex++;\n        const node = walker.currentNode;\n        // End removal if stepped past the removing node\n        if (node.previousSibling === currentRemovingNode) {\n            currentRemovingNode = null;\n        }\n        // A node to remove was found in the template\n        if (nodesToRemove.has(node)) {\n            nodesToRemoveInTemplate.push(node);\n            // Track node we're removing\n            if (currentRemovingNode === null) {\n                currentRemovingNode = node;\n            }\n        }\n        // When removing, increment count by which to adjust subsequent part indices\n        if (currentRemovingNode !== null) {\n            removeCount++;\n        }\n        while (part !== undefined && part.index === nodeIndex) {\n            // If part is in a removed node deactivate it by setting index to -1 or\n            // adjust the index as needed.\n            part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n            // go to the next active part.\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n            part = parts[partIndex];\n        }\n    }\n    nodesToRemoveInTemplate.forEach((n) => n.parentNode.removeChild(n));\n}\nconst countNodes = (node) => {\n    let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;\n    const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);\n    while (walker.nextNode()) {\n        count++;\n    }\n    return count;\n};\nconst nextActiveIndexInTemplateParts = (parts, startIndex = -1) => {\n    for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n            return i;\n        }\n    }\n    return -1;\n};\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(template, node, refNode = null) {\n    const { element: { content }, parts } = template;\n    // If there's no refNode, then put node at end of template.\n    // No part indices need to be shifted in this case.\n    if (refNode === null || refNode === undefined) {\n        content.appendChild(node);\n        return;\n    }\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let insertCount = 0;\n    let walkerIndex = -1;\n    while (walker.nextNode()) {\n        walkerIndex++;\n        const walkerNode = walker.currentNode;\n        if (walkerNode === refNode) {\n            insertCount = countNodes(node);\n            refNode.parentNode.insertBefore(node, refNode);\n        }\n        while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n            // If we've inserted the node, simply adjust all subsequent parts\n            if (insertCount > 0) {\n                while (partIndex !== -1) {\n                    parts[partIndex].index += insertCount;\n                    partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n                }\n                return;\n            }\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n    }\n}\n//# sourceMappingURL=modify-template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst directives = new WeakMap();\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = (f) => ((...args) => {\n    const d = f(...args);\n    directives.set(d, true);\n    return d;\n});\nexport const isDirective = (o) => {\n    return typeof o === 'function' && directives.has(o);\n};\n//# sourceMappingURL=directive.js.map","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n//# sourceMappingURL=part.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isCEPolyfill } from './dom.js';\nimport { isTemplatePartActive } from './template.js';\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n    constructor(template, processor, options) {\n        this.__parts = [];\n        this.template = template;\n        this.processor = processor;\n        this.options = options;\n    }\n    update(values) {\n        let i = 0;\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.setValue(values[i]);\n            }\n            i++;\n        }\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.commit();\n            }\n        }\n    }\n    _clone() {\n        // There are a number of steps in the lifecycle of a template instance's\n        // DOM fragment:\n        //  1. Clone - create the instance fragment\n        //  2. Adopt - adopt into the main document\n        //  3. Process - find part markers and create parts\n        //  4. Upgrade - upgrade custom elements\n        //  5. Update - set node, attribute, property, etc., values\n        //  6. Connect - connect to the document. Optional and outside of this\n        //     method.\n        //\n        // We have a few constraints on the ordering of these steps:\n        //  * We need to upgrade before updating, so that property values will pass\n        //    through any property setters.\n        //  * We would like to process before upgrading so that we're sure that the\n        //    cloned fragment is inert and not disturbed by self-modifying DOM.\n        //  * We want custom elements to upgrade even in disconnected fragments.\n        //\n        // Given these constraints, with full custom elements support we would\n        // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n        //\n        // But Safari does not implement CustomElementRegistry#upgrade, so we\n        // can not implement that order and still have upgrade-before-update and\n        // upgrade disconnected fragments. So we instead sacrifice the\n        // process-before-upgrade constraint, since in Custom Elements v1 elements\n        // must not modify their light DOM in the constructor. We still have issues\n        // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n        // that don't strictly adhere to the no-modification rule because shadow\n        // DOM, which may be created in the constructor, is emulated by being placed\n        // in the light DOM.\n        //\n        // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n        // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n        // in one step.\n        //\n        // The Custom Elements v1 polyfill supports upgrade(), so the order when\n        // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n        // Connect.\n        const fragment = isCEPolyfill ?\n            this.template.element.content.cloneNode(true) :\n            document.importNode(this.template.element.content, true);\n        const stack = [];\n        const parts = this.template.parts;\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        let partIndex = 0;\n        let nodeIndex = 0;\n        let part;\n        let node = walker.nextNode();\n        // Loop through all the nodes and parts of a template\n        while (partIndex < parts.length) {\n            part = parts[partIndex];\n            if (!isTemplatePartActive(part)) {\n                this.__parts.push(undefined);\n                partIndex++;\n                continue;\n            }\n            // Progress the tree walker until we find our next part's node.\n            // Note that multiple parts may share the same node (attribute parts\n            // on a single element), so this loop may not run at all.\n            while (nodeIndex < part.index) {\n                nodeIndex++;\n                if (node.nodeName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n                if ((node = walker.nextNode()) === null) {\n                    // We've exhausted the content inside a nested template element.\n                    // Because we still have parts (the outer for-loop), we know:\n                    // - There is a template in the stack\n                    // - The walker will find a nextNode outside the template\n                    walker.currentNode = stack.pop();\n                    node = walker.nextNode();\n                }\n            }\n            // We've arrived at our part's node.\n            if (part.type === 'node') {\n                const part = this.processor.handleTextExpression(this.options);\n                part.insertAfterNode(node.previousSibling);\n                this.__parts.push(part);\n            }\n            else {\n                this.__parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options));\n            }\n            partIndex++;\n        }\n        if (isCEPolyfill) {\n            document.adoptNode(fragment);\n            customElements.upgrade(fragment);\n        }\n        return fragment;\n    }\n}\n//# sourceMappingURL=template-instance.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { reparentNodes } from './dom.js';\nimport { boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker } from './template.js';\n/**\n * Our TrustedTypePolicy for HTML which is declared using the html template\n * tag function.\n *\n * That HTML is a developer-authored constant, and is parsed with innerHTML\n * before any untrusted expressions have been mixed in. Therefor it is\n * considered safe by construction.\n */\nconst policy = window.trustedTypes &&\n    trustedTypes.createPolicy('lit-html', { createHTML: (s) => s });\nconst commentMarker = ` ${marker} `;\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isCommentBinding = false;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            // For each binding we want to determine the kind of marker to insert\n            // into the template source before it's parsed by the browser's HTML\n            // parser. The marker type is based on whether the expression is in an\n            // attribute, text, or comment position.\n            //   * For node-position bindings we insert a comment with the marker\n            //     sentinel as its text content, like <!--{{lit-guid}}-->.\n            //   * For attribute bindings we insert just the marker sentinel for the\n            //     first binding, so that we support unquoted attribute bindings.\n            //     Subsequent bindings can use a comment marker because multi-binding\n            //     attributes must be quoted.\n            //   * For comment bindings we insert just the marker sentinel so we don't\n            //     close the comment.\n            //\n            // The following code scans the template source, but is *not* an HTML\n            // parser. We don't need to track the tree structure of the HTML, only\n            // whether a binding is inside a comment, and if not, if it appears to be\n            // the first binding in an attribute.\n            const commentOpen = s.lastIndexOf('<!--');\n            // We're in comment position if we have a comment open with no following\n            // comment close. Because <-- can appear in an attribute value there can\n            // be false positives.\n            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n                s.indexOf('-->', commentOpen + 1) === -1;\n            // Check to see if we have an attribute-like sequence preceding the\n            // expression. This can match \"name=value\" like structures in text,\n            // comments, and attribute values, so there can be false-positives.\n            const attributeMatch = lastAttributeNameRegex.exec(s);\n            if (attributeMatch === null) {\n                // We're only in this branch if we don't have a attribute-like\n                // preceding sequence. For comments, this guards against unusual\n                // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n                // below.\n                html += s + (isCommentBinding ? commentMarker : nodeMarker);\n            }\n            else {\n                // For attributes we use just a marker sentinel, and also append a\n                // $lit$ suffix to the name to opt-out of attribute-specific parsing\n                // that IE and Edge do for style and certain SVG attributes.\n                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n                    attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n                    marker;\n            }\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = document.createElement('template');\n        let value = this.getHTML();\n        if (policy !== undefined) {\n            // this is secure because `this.strings` is a TemplateStringsArray.\n            // TODO: validate this when\n            // https://github.com/tc39/proposal-array-is-template-object is\n            // implemented.\n            value = policy.createHTML(value);\n        }\n        template.innerHTML = value;\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n//# sourceMappingURL=template-result.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isDirective } from './directive.js';\nimport { removeNodes } from './dom.js';\nimport { noChange, nothing } from './part.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { TemplateResult } from './template-result.js';\nimport { createMarker } from './template.js';\nexport const isPrimitive = (value) => {\n    return (value === null ||\n        !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value) => {\n    return Array.isArray(value) ||\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        !!(value && value[Symbol.iterator]);\n};\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attribute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n    constructor(element, name, strings) {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const l = strings.length - 1;\n        const parts = this.parts;\n        // If we're assigning an attribute via syntax like:\n        //    attr=\"${foo}\"  or  attr=${foo}\n        // but not\n        //    attr=\"${foo} ${bar}\" or attr=\"${foo} baz\"\n        // then we don't want to coerce the attribute value into one long\n        // string. Instead we want to just return the value itself directly,\n        // so that sanitizeDOMValue can get the actual value rather than\n        // String(value)\n        // The exception is if v is an array, in which case we do want to smash\n        // it together into a string without calling String() on the array.\n        //\n        // This also allows trusted values (when using TrustedTypes) being\n        // assigned to DOM sinks without being stringified in the process.\n        if (l === 1 && strings[0] === '' && strings[1] === '') {\n            const v = parts[0].value;\n            if (typeof v === 'symbol') {\n                return String(v);\n            }\n            if (typeof v === 'string' || !isIterable(v)) {\n                return v;\n            }\n        }\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (isPrimitive(v) || !isIterable(v)) {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n                else {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            this.element.setAttribute(this.name, this._getValue());\n        }\n    }\n}\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart {\n    constructor(committer) {\n        this.value = undefined;\n        this.committer = committer;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            directive(this);\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart {\n    constructor(options) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.options = options;\n    }\n    /**\n     * Appends this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n     * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n     * such as those that appear in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part.__insert(this.startNode = createMarker());\n        part.__insert(this.endNode = createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref.__insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        if (this.startNode.parentNode === null) {\n            return;\n        }\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        const value = this.__pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this.__commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this.__commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this.__commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this.__commitIterable(value);\n        }\n        else if (value === nothing) {\n            this.value = nothing;\n            this.clear();\n        }\n        else {\n            // Fallback, will render the string representation\n            this.__commitText(value);\n        }\n    }\n    __insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    __commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this.__insert(value);\n        this.value = value;\n    }\n    __commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        // If `value` isn't already a string, we explicitly convert it here in case\n        // it can't be implicitly converted - i.e. it's a symbol.\n        const valueAsString = typeof value === 'string' ? value : String(value);\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === 3 /* Node.TEXT_NODE */) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            // TODO(justinfagnani): Can we just check if this.value is primitive?\n            node.data = valueAsString;\n        }\n        else {\n            this.__commitNode(document.createTextNode(valueAsString));\n        }\n        this.value = value;\n    }\n    __commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value instanceof TemplateInstance &&\n            this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this.__commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    __commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const value = !!this.__pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n            this.value = value;\n        }\n        this.__pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings) {\n        super(element, name, strings);\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.element[this.name] = this._getValue();\n        }\n    }\n}\nexport class PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the third\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n// Wrap into an IIFE because MS Edge <= v41 does not support having try/catch\n// blocks right into the body of a module\n(() => {\n    try {\n        const options = {\n            get capture() {\n                eventOptionsSupported = true;\n                return false;\n            }\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.addEventListener('test', options, options);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.removeEventListener('test', options, options);\n    }\n    catch (_e) {\n        // event options not supported\n    }\n})();\nexport class EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this.__boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const newListener = this.__pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        if (shouldAddListener) {\n            this.__options = getOptions(newListener);\n            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        this.value = newListener;\n        this.__pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n//# sourceMappingURL=parts.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { marker, Template } from './template.js';\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    // If the TemplateStringsArray is new, generate a key from the strings\n    // This key is shared between all templates with identical content\n    const key = result.strings.join(marker);\n    // Check if we already have a Template for this key\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        // If we have not seen this key before, create a new Template\n        template = new Template(result, result.getTemplateElement());\n        // Cache the Template for this key\n        templateCache.keyString.set(key, template);\n    }\n    // Cache all future queries for this TemplateStringsArray\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n}\nexport const templateCaches = new Map();\n//# sourceMappingURL=template-factory.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { removeNodes } from './dom.js';\nimport { NodePart } from './parts.js';\nimport { templateFactory } from './template-factory.js';\nexport const parts = new WeakMap();\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render = (result, container, options) => {\n    let part = parts.get(container);\n    if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart(Object.assign({ templateFactory }, options)));\n        part.appendInto(container);\n    }\n    part.setValue(result);\n    part.commit();\n};\n//# sourceMappingURL=render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter } from './parts.js';\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor {\n    /**\n     * Create parts for an attribute-position binding, given the event, attribute\n     * name, and string literals.\n     *\n     * @param element The element containing the binding\n     * @param name  The attribute name\n     * @param strings The string literals. There are always at least two strings,\n     *   event for fully-controlled bindings with a single expression.\n     */\n    handleAttributeExpressions(element, name, strings, options) {\n        const prefix = name[0];\n        if (prefix === '.') {\n            const committer = new PropertyCommitter(element, name.slice(1), strings);\n            return committer.parts;\n        }\n        if (prefix === '@') {\n            return [new EventPart(element, name.slice(1), options.eventContext)];\n        }\n        if (prefix === '?') {\n            return [new BooleanAttributePart(element, name.slice(1), strings)];\n        }\n        const committer = new AttributeCommitter(element, name, strings);\n        return committer.parts;\n    }\n    /**\n     * Create parts for a text-position binding.\n     * @param templateFactory\n     */\n    handleTextExpression(options) {\n        return new NodePart(options);\n    }\n}\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n//# sourceMappingURL=default-template-processor.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @packageDocumentation\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { defaultTemplateProcessor } from './lib/default-template-processor.js';\nimport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { DefaultTemplateProcessor, defaultTemplateProcessor } from './lib/default-template-processor.js';\nexport { directive, isDirective } from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport { removeNodes, reparentNodes } from './lib/dom.js';\nexport { noChange, nothing } from './lib/part.js';\nexport { AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart } from './lib/parts.js';\nexport { parts, render } from './lib/render.js';\nexport { templateCaches, templateFactory } from './lib/template-factory.js';\nexport { TemplateInstance } from './lib/template-instance.js';\nexport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { createMarker, isTemplatePartActive, Template } from './lib/template.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\nif (typeof window !== 'undefined') {\n    (window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.3.0');\n}\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n//# sourceMappingURL=lit-html.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * Module to add shady DOM/shady CSS polyfill support to lit-html template\n * rendering. See the [[render]] method for details.\n *\n * @packageDocumentation\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { removeNodes } from './dom.js';\nimport { insertNodeIntoTemplate, removeNodesFromTemplate } from './modify-template.js';\nimport { parts, render as litRender } from './render.js';\nimport { templateCaches } from './template-factory.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { marker, Template } from './template.js';\nexport { html, svg, TemplateResult } from '../lit-html.js';\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type, scopeName) => `${type}--${scopeName}`;\nlet compatibleShadyCSSVersion = true;\nif (typeof window.ShadyCSS === 'undefined') {\n    compatibleShadyCSSVersion = false;\n}\nelse if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n    console.warn(`Incompatible ShadyCSS version detected. ` +\n        `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +\n        `@webcomponents/shadycss@1.3.1.`);\n    compatibleShadyCSSVersion = false;\n}\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nexport const shadyTemplateFactory = (scopeName) => (result) => {\n    const cacheKey = getTemplateCacheKey(result.type, scopeName);\n    let templateCache = templateCaches.get(cacheKey);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(cacheKey, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    const key = result.strings.join(marker);\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n            window.ShadyCSS.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.keyString.set(key, template);\n    }\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n};\nconst TEMPLATE_TYPES = ['html', 'svg'];\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nconst removeStylesFromLitTemplates = (scopeName) => {\n    TEMPLATE_TYPES.forEach((type) => {\n        const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n        if (templates !== undefined) {\n            templates.keyString.forEach((template) => {\n                const { element: { content } } = template;\n                // IE 11 doesn't support the iterable param Set constructor\n                const styles = new Set();\n                Array.from(content.querySelectorAll('style')).forEach((s) => {\n                    styles.add(s);\n                });\n                removeNodesFromTemplate(template, styles);\n            });\n        }\n    });\n};\nconst shadyRenderSet = new Set();\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles = (scopeName, renderedDOM, template) => {\n    shadyRenderSet.add(scopeName);\n    // If `renderedDOM` is stamped from a Template, then we need to edit that\n    // Template's underlying template element. Otherwise, we create one here\n    // to give to ShadyCSS, which still requires one while scoping.\n    const templateElement = !!template ? template.element : document.createElement('template');\n    // Move styles out of rendered DOM and store.\n    const styles = renderedDOM.querySelectorAll('style');\n    const { length } = styles;\n    // If there are no styles, skip unnecessary work\n    if (length === 0) {\n        // Ensure prepareTemplateStyles is called to support adding\n        // styles via `prepareAdoptedCssText` since that requires that\n        // `prepareTemplateStyles` is called.\n        //\n        // ShadyCSS will only update styles containing @apply in the template\n        // given to `prepareTemplateStyles`. If no lit Template was given,\n        // ShadyCSS will not be able to update uses of @apply in any relevant\n        // template. However, this is not a problem because we only create the\n        // template for the purpose of supporting `prepareAdoptedCssText`,\n        // which doesn't support @apply at all.\n        window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n        return;\n    }\n    const condensedStyle = document.createElement('style');\n    // Collect styles into a single style. This helps us make sure ShadyCSS\n    // manipulations will not prevent us from being able to fix up template\n    // part indices.\n    // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n    // currently does this anyway. When it does not, this should be changed.\n    for (let i = 0; i < length; i++) {\n        const style = styles[i];\n        style.parentNode.removeChild(style);\n        condensedStyle.textContent += style.textContent;\n    }\n    // Remove styles from nested templates in this scope.\n    removeStylesFromLitTemplates(scopeName);\n    // And then put the condensed style into the \"root\" template passed in as\n    // `template`.\n    const content = templateElement.content;\n    if (!!template) {\n        insertNodeIntoTemplate(template, condensedStyle, content.firstChild);\n    }\n    else {\n        content.insertBefore(condensedStyle, content.firstChild);\n    }\n    // Note, it's important that ShadyCSS gets the template that `lit-html`\n    // will actually render so that it can update the style inside when\n    // needed (e.g. @apply native Shadow DOM case).\n    window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n    const style = content.querySelector('style');\n    if (window.ShadyCSS.nativeShadow && style !== null) {\n        // When in native Shadow DOM, ensure the style created by ShadyCSS is\n        // included in initially rendered output (`renderedDOM`).\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n    }\n    else if (!!template) {\n        // When no style is left in the template, parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // There can be no style in the template in 2 cases (1) when Shady DOM\n        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM\n        // is in use ShadyCSS removes the style if it contains no content.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        content.insertBefore(condensedStyle, content.firstChild);\n        const removes = new Set();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n    }\n};\n/**\n * Extension to the standard `render` method which supports rendering\n * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)\n * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used\n * or when the webcomponentsjs\n * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.\n *\n * Adds a `scopeName` option which is used to scope element DOM and stylesheets\n * when native ShadowDOM is unavailable. The `scopeName` will be added to\n * the class attribute of all rendered DOM. In addition, any style elements will\n * be automatically re-written with this `scopeName` selector and moved out\n * of the rendered DOM and into the document `<head>`.\n *\n * It is common to use this render method in conjunction with a custom element\n * which renders a shadowRoot. When this is done, typically the element's\n * `localName` should be used as the `scopeName`.\n *\n * In addition to DOM scoping, ShadyCSS also supports a basic shim for css\n * custom properties (needed only on older browsers like IE11) and a shim for\n * a deprecated feature called `@apply` that supports applying a set of css\n * custom properties to a given location.\n *\n * Usage considerations:\n *\n * * Part values in `<style>` elements are only applied the first time a given\n * `scopeName` renders. Subsequent changes to parts in style elements will have\n * no effect. Because of this, parts in style elements should only be used for\n * values that will never change, for example parts that set scope-wide theme\n * values or parts which render shared style elements.\n *\n * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a\n * custom element's `constructor` is not supported. Instead rendering should\n * either done asynchronously, for example at microtask timing (for example\n * `Promise.resolve()`), or be deferred until the first time the element's\n * `connectedCallback` runs.\n *\n * Usage considerations when using shimmed custom properties or `@apply`:\n *\n * * Whenever any dynamic changes are made which affect\n * css custom properties, `ShadyCSS.styleElement(element)` must be called\n * to update the element. There are two cases when this is needed:\n * (1) the element is connected to a new parent, (2) a class is added to the\n * element that causes it to match different custom properties.\n * To address the first case when rendering a custom element, `styleElement`\n * should be called in the element's `connectedCallback`.\n *\n * * Shimmed custom properties may only be defined either for an entire\n * shadowRoot (for example, in a `:host` rule) or via a rule that directly\n * matches an element with a shadowRoot. In other words, instead of flowing from\n * parent to child as do native css custom properties, shimmed custom properties\n * flow only from shadowRoots to nested shadowRoots.\n *\n * * When using `@apply` mixing css shorthand property names with\n * non-shorthand names (for example `border` and `border-width`) is not\n * supported.\n */\nexport const render = (result, container, options) => {\n    if (!options || typeof options !== 'object' || !options.scopeName) {\n        throw new Error('The `scopeName` option is required.');\n    }\n    const scopeName = options.scopeName;\n    const hasRendered = parts.has(container);\n    const needsScoping = compatibleShadyCSSVersion &&\n        container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&\n        !!container.host;\n    // Handle first render to a scope specially...\n    const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);\n    // On first scope render, render into a fragment; this cannot be a single\n    // fragment that is reused since nested renders can occur synchronously.\n    const renderContainer = firstScopeRender ? document.createDocumentFragment() : container;\n    litRender(result, renderContainer, Object.assign({ templateFactory: shadyTemplateFactory(scopeName) }, options));\n    // When performing first scope render,\n    // (1) We've rendered into a fragment so that there's a chance to\n    // `prepareTemplateStyles` before sub-elements hit the DOM\n    // (which might cause them to render based on a common pattern of\n    // rendering in a custom element's `connectedCallback`);\n    // (2) Scope the template with ShadyCSS one time only for this scope.\n    // (3) Render the fragment into the container and make sure the\n    // container knows its `part` is the one we just rendered. This ensures\n    // DOM will be re-used on subsequent renders.\n    if (firstScopeRender) {\n        const part = parts.get(renderContainer);\n        parts.delete(renderContainer);\n        // ShadyCSS might have style sheets (e.g. from `prepareAdoptedCssText`)\n        // that should apply to `renderContainer` even if the rendered value is\n        // not a TemplateInstance. However, it will only insert scoped styles\n        // into the document if `prepareTemplateStyles` has already been called\n        // for the given scope name.\n        const template = part.value instanceof TemplateInstance ?\n            part.value.template :\n            undefined;\n        prepareTemplateStyles(scopeName, renderContainer, template);\n        removeNodes(container, container.firstChild);\n        container.appendChild(renderContainer);\n        parts.set(container, part);\n    }\n    // After elements have hit the DOM, update styling if this is the\n    // initial render to this container.\n    // This is needed whenever dynamic changes are made so it would be\n    // safest to do every render; however, this would regress performance\n    // so we leave it up to the user to call `ShadyCSS.styleElement`\n    // for dynamic changes.\n    if (!hasRendered && needsScoping) {\n        window.ShadyCSS.styleElement(container.host);\n    }\n};\n//# sourceMappingURL=shady-render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nvar _a;\n/**\n * Use this module if you want to create your own base class extending\n * [[UpdatingElement]].\n * @packageDocumentation\n */\n/*\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\nwindow.JSCompiler_renameProperty =\n    (prop, _obj) => prop;\nexport const defaultConverter = {\n    toAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value ? '' : null;\n            case Object:\n            case Array:\n                // if the value is `null` or `undefined` pass this through\n                // to allow removing/no change behavior.\n                return value == null ? value : JSON.stringify(value);\n        }\n        return value;\n    },\n    fromAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value !== null;\n            case Number:\n                return value === null ? null : Number(value);\n            case Object:\n            case Array:\n                return JSON.parse(value);\n        }\n        return value;\n    }\n};\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual = (value, old) => {\n    // This ensures (old==NaN, value==NaN) always returns false\n    return old !== value && (old === old || value === value);\n};\nconst defaultPropertyDeclaration = {\n    attribute: true,\n    type: String,\n    converter: defaultConverter,\n    reflect: false,\n    hasChanged: notEqual\n};\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;\nconst STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;\n/**\n * The Closure JS Compiler doesn't currently have good support for static\n * property semantics where \"this\" is dynamic (e.g.\n * https://github.com/google/closure-compiler/issues/3177 and others) so we use\n * this hack to bypass any rewriting by the compiler.\n */\nconst finalized = 'finalized';\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n * @noInheritDoc\n */\nexport class UpdatingElement extends HTMLElement {\n    constructor() {\n        super();\n        this.initialize();\n    }\n    /**\n     * Returns a list of attributes corresponding to the registered properties.\n     * @nocollapse\n     */\n    static get observedAttributes() {\n        // note: piggy backing on this to ensure we're finalized.\n        this.finalize();\n        const attributes = [];\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this._classProperties.forEach((v, p) => {\n            const attr = this._attributeNameForProperty(p, v);\n            if (attr !== undefined) {\n                this._attributeToPropertyMap.set(attr, p);\n                attributes.push(attr);\n            }\n        });\n        return attributes;\n    }\n    /**\n     * Ensures the private `_classProperties` property metadata is created.\n     * In addition to `finalize` this is also called in `createProperty` to\n     * ensure the `@property` decorator can add property metadata.\n     */\n    /** @nocollapse */\n    static _ensureClassProperties() {\n        // ensure private storage for property declarations.\n        if (!this.hasOwnProperty(JSCompiler_renameProperty('_classProperties', this))) {\n            this._classProperties = new Map();\n            // NOTE: Workaround IE11 not supporting Map constructor argument.\n            const superProperties = Object.getPrototypeOf(this)._classProperties;\n            if (superProperties !== undefined) {\n                superProperties.forEach((v, k) => this._classProperties.set(k, v));\n            }\n        }\n    }\n    /**\n     * Creates a property accessor on the element prototype if one does not exist\n     * and stores a PropertyDeclaration for the property with the given options.\n     * The property setter calls the property's `hasChanged` property option\n     * or uses a strict identity check to determine whether or not to request\n     * an update.\n     *\n     * This method may be overridden to customize properties; however,\n     * when doing so, it's important to call `super.createProperty` to ensure\n     * the property is setup correctly. This method calls\n     * `getPropertyDescriptor` internally to get a descriptor to install.\n     * To customize what properties do when they are get or set, override\n     * `getPropertyDescriptor`. To customize the options for a property,\n     * implement `createProperty` like this:\n     *\n     * static createProperty(name, options) {\n     *   options = Object.assign(options, {myOption: true});\n     *   super.createProperty(name, options);\n     * }\n     *\n     * @nocollapse\n     */\n    static createProperty(name, options = defaultPropertyDeclaration) {\n        // Note, since this can be called by the `@property` decorator which\n        // is called before `finalize`, we ensure storage exists for property\n        // metadata.\n        this._ensureClassProperties();\n        this._classProperties.set(name, options);\n        // Do not generate an accessor if the prototype already has one, since\n        // it would be lost otherwise and that would never be the user's intention;\n        // Instead, we expect users to call `requestUpdate` themselves from\n        // user-defined accessors. Note that if the super has an accessor we will\n        // still overwrite it\n        if (options.noAccessor || this.prototype.hasOwnProperty(name)) {\n            return;\n        }\n        const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n        const descriptor = this.getPropertyDescriptor(name, key, options);\n        if (descriptor !== undefined) {\n            Object.defineProperty(this.prototype, name, descriptor);\n        }\n    }\n    /**\n     * Returns a property descriptor to be defined on the given named property.\n     * If no descriptor is returned, the property will not become an accessor.\n     * For example,\n     *\n     *   class MyElement extends LitElement {\n     *     static getPropertyDescriptor(name, key, options) {\n     *       const defaultDescriptor =\n     *           super.getPropertyDescriptor(name, key, options);\n     *       const setter = defaultDescriptor.set;\n     *       return {\n     *         get: defaultDescriptor.get,\n     *         set(value) {\n     *           setter.call(this, value);\n     *           // custom action.\n     *         },\n     *         configurable: true,\n     *         enumerable: true\n     *       }\n     *     }\n     *   }\n     *\n     * @nocollapse\n     */\n    static getPropertyDescriptor(name, key, options) {\n        return {\n            // tslint:disable-next-line:no-any no symbol in index\n            get() {\n                return this[key];\n            },\n            set(value) {\n                const oldValue = this[name];\n                this[key] = value;\n                this\n                    .requestUpdateInternal(name, oldValue, options);\n            },\n            configurable: true,\n            enumerable: true\n        };\n    }\n    /**\n     * Returns the property options associated with the given property.\n     * These options are defined with a PropertyDeclaration via the `properties`\n     * object or the `@property` decorator and are registered in\n     * `createProperty(...)`.\n     *\n     * Note, this method should be considered \"final\" and not overridden. To\n     * customize the options for a given property, override `createProperty`.\n     *\n     * @nocollapse\n     * @final\n     */\n    static getPropertyOptions(name) {\n        return this._classProperties && this._classProperties.get(name) ||\n            defaultPropertyDeclaration;\n    }\n    /**\n     * Creates property accessors for registered properties and ensures\n     * any superclasses are also finalized.\n     * @nocollapse\n     */\n    static finalize() {\n        // finalize any superclasses\n        const superCtor = Object.getPrototypeOf(this);\n        if (!superCtor.hasOwnProperty(finalized)) {\n            superCtor.finalize();\n        }\n        this[finalized] = true;\n        this._ensureClassProperties();\n        // initialize Map populated in observedAttributes\n        this._attributeToPropertyMap = new Map();\n        // make any properties\n        // Note, only process \"own\" properties since this element will inherit\n        // any properties defined on the superClass, and finalization ensures\n        // the entire prototype chain is finalized.\n        if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n            const props = this.properties;\n            // support symbols in properties (IE11 does not support this)\n            const propKeys = [\n                ...Object.getOwnPropertyNames(props),\n                ...(typeof Object.getOwnPropertySymbols === 'function') ?\n                    Object.getOwnPropertySymbols(props) :\n                    []\n            ];\n            // This for/of is ok because propKeys is an array\n            for (const p of propKeys) {\n                // note, use of `any` is due to TypeSript lack of support for symbol in\n                // index types\n                // tslint:disable-next-line:no-any no symbol in index\n                this.createProperty(p, props[p]);\n            }\n        }\n    }\n    /**\n     * Returns the property name for the given attribute `name`.\n     * @nocollapse\n     */\n    static _attributeNameForProperty(name, options) {\n        const attribute = options.attribute;\n        return attribute === false ?\n            undefined :\n            (typeof attribute === 'string' ?\n                attribute :\n                (typeof name === 'string' ? name.toLowerCase() : undefined));\n    }\n    /**\n     * Returns true if a property should request an update.\n     * Called when a property value is set and uses the `hasChanged`\n     * option for the property if present or a strict identity check.\n     * @nocollapse\n     */\n    static _valueHasChanged(value, old, hasChanged = notEqual) {\n        return hasChanged(value, old);\n    }\n    /**\n     * Returns the property value for the given attribute value.\n     * Called via the `attributeChangedCallback` and uses the property's\n     * `converter` or `converter.fromAttribute` property option.\n     * @nocollapse\n     */\n    static _propertyValueFromAttribute(value, options) {\n        const type = options.type;\n        const converter = options.converter || defaultConverter;\n        const fromAttribute = (typeof converter === 'function' ? converter : converter.fromAttribute);\n        return fromAttribute ? fromAttribute(value, type) : value;\n    }\n    /**\n     * Returns the attribute value for the given property value. If this\n     * returns undefined, the property will *not* be reflected to an attribute.\n     * If this returns null, the attribute will be removed, otherwise the\n     * attribute will be set to the value.\n     * This uses the property's `reflect` and `type.toAttribute` property options.\n     * @nocollapse\n     */\n    static _propertyValueToAttribute(value, options) {\n        if (options.reflect === undefined) {\n            return;\n        }\n        const type = options.type;\n        const converter = options.converter;\n        const toAttribute = converter && converter.toAttribute ||\n            defaultConverter.toAttribute;\n        return toAttribute(value, type);\n    }\n    /**\n     * Performs element initialization. By default captures any pre-set values for\n     * registered properties.\n     */\n    initialize() {\n        this._updateState = 0;\n        this._updatePromise =\n            new Promise((res) => this._enableUpdatingResolver = res);\n        this._changedProperties = new Map();\n        this._saveInstanceProperties();\n        // ensures first update will be caught by an early access of\n        // `updateComplete`\n        this.requestUpdateInternal();\n    }\n    /**\n     * Fixes any properties set on the instance before upgrade time.\n     * Otherwise these would shadow the accessor and break these properties.\n     * The properties are stored in a Map which is played back after the\n     * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n     * (<=41), properties created for native platform properties like (`id` or\n     * `name`) may not have default values set in the element constructor. On\n     * these browsers native properties appear on instances and therefore their\n     * default value will overwrite any element default (e.g. if the element sets\n     * this.id = 'id' in the constructor, the 'id' will become '' since this is\n     * the native platform default).\n     */\n    _saveInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this.constructor\n            ._classProperties.forEach((_v, p) => {\n            if (this.hasOwnProperty(p)) {\n                const value = this[p];\n                delete this[p];\n                if (!this._instanceProperties) {\n                    this._instanceProperties = new Map();\n                }\n                this._instanceProperties.set(p, value);\n            }\n        });\n    }\n    /**\n     * Applies previously saved instance properties.\n     */\n    _applyInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        // tslint:disable-next-line:no-any\n        this._instanceProperties.forEach((v, p) => this[p] = v);\n        this._instanceProperties = undefined;\n    }\n    connectedCallback() {\n        // Ensure first connection completes an update. Updates cannot complete\n        // before connection.\n        this.enableUpdating();\n    }\n    enableUpdating() {\n        if (this._enableUpdatingResolver !== undefined) {\n            this._enableUpdatingResolver();\n            this._enableUpdatingResolver = undefined;\n        }\n    }\n    /**\n     * Allows for `super.disconnectedCallback()` in extensions while\n     * reserving the possibility of making non-breaking feature additions\n     * when disconnecting at some point in the future.\n     */\n    disconnectedCallback() {\n    }\n    /**\n     * Synchronizes property values when attributes change.\n     */\n    attributeChangedCallback(name, old, value) {\n        if (old !== value) {\n            this._attributeToProperty(name, value);\n        }\n    }\n    _propertyToAttribute(name, value, options = defaultPropertyDeclaration) {\n        const ctor = this.constructor;\n        const attr = ctor._attributeNameForProperty(name, options);\n        if (attr !== undefined) {\n            const attrValue = ctor._propertyValueToAttribute(value, options);\n            // an undefined value does not change the attribute.\n            if (attrValue === undefined) {\n                return;\n            }\n            // Track if the property is being reflected to avoid\n            // setting the property again via `attributeChangedCallback`. Note:\n            // 1. this takes advantage of the fact that the callback is synchronous.\n            // 2. will behave incorrectly if multiple attributes are in the reaction\n            // stack at time of calling. However, since we process attributes\n            // in `update` this should not be possible (or an extreme corner case\n            // that we'd like to discover).\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;\n            if (attrValue == null) {\n                this.removeAttribute(attr);\n            }\n            else {\n                this.setAttribute(attr, attrValue);\n            }\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;\n        }\n    }\n    _attributeToProperty(name, value) {\n        // Use tracking info to avoid deserializing attribute value if it was\n        // just set from a property setter.\n        if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {\n            return;\n        }\n        const ctor = this.constructor;\n        // Note, hint this as an `AttributeMap` so closure clearly understands\n        // the type; it has issues with tracking types through statics\n        // tslint:disable-next-line:no-unnecessary-type-assertion\n        const propName = ctor._attributeToPropertyMap.get(name);\n        if (propName !== undefined) {\n            const options = ctor.getPropertyOptions(propName);\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;\n            this[propName] =\n                // tslint:disable-next-line:no-any\n                ctor._propertyValueFromAttribute(value, options);\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;\n        }\n    }\n    /**\n     * This protected version of `requestUpdate` does not access or return the\n     * `updateComplete` promise. This promise can be overridden and is therefore\n     * not free to access.\n     */\n    requestUpdateInternal(name, oldValue, options) {\n        let shouldRequestUpdate = true;\n        // If we have a property key, perform property update steps.\n        if (name !== undefined) {\n            const ctor = this.constructor;\n            options = options || ctor.getPropertyOptions(name);\n            if (ctor._valueHasChanged(this[name], oldValue, options.hasChanged)) {\n                if (!this._changedProperties.has(name)) {\n                    this._changedProperties.set(name, oldValue);\n                }\n                // Add to reflecting properties set.\n                // Note, it's important that every change has a chance to add the\n                // property to `_reflectingProperties`. This ensures setting\n                // attribute + property reflects correctly.\n                if (options.reflect === true &&\n                    !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {\n                    if (this._reflectingProperties === undefined) {\n                        this._reflectingProperties = new Map();\n                    }\n                    this._reflectingProperties.set(name, options);\n                }\n            }\n            else {\n                // Abort the request if the property should not be considered changed.\n                shouldRequestUpdate = false;\n            }\n        }\n        if (!this._hasRequestedUpdate && shouldRequestUpdate) {\n            this._updatePromise = this._enqueueUpdate();\n        }\n    }\n    /**\n     * Requests an update which is processed asynchronously. This should\n     * be called when an element should update based on some state not triggered\n     * by setting a property. In this case, pass no arguments. It should also be\n     * called when manually implementing a property setter. In this case, pass the\n     * property `name` and `oldValue` to ensure that any configured property\n     * options are honored. Returns the `updateComplete` Promise which is resolved\n     * when the update completes.\n     *\n     * @param name {PropertyKey} (optional) name of requesting property\n     * @param oldValue {any} (optional) old value of requesting property\n     * @returns {Promise} A Promise that is resolved when the update completes.\n     */\n    requestUpdate(name, oldValue) {\n        this.requestUpdateInternal(name, oldValue);\n        return this.updateComplete;\n    }\n    /**\n     * Sets up the element to asynchronously update.\n     */\n    async _enqueueUpdate() {\n        this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n        try {\n            // Ensure any previous update has resolved before updating.\n            // This `await` also ensures that property changes are batched.\n            await this._updatePromise;\n        }\n        catch (e) {\n            // Ignore any previous errors. We only care that the previous cycle is\n            // done. Any error should have been handled in the previous update.\n        }\n        const result = this.performUpdate();\n        // If `performUpdate` returns a Promise, we await it. This is done to\n        // enable coordinating updates with a scheduler. Note, the result is\n        // checked to avoid delaying an additional microtask unless we need to.\n        if (result != null) {\n            await result;\n        }\n        return !this._hasRequestedUpdate;\n    }\n    get _hasRequestedUpdate() {\n        return (this._updateState & STATE_UPDATE_REQUESTED);\n    }\n    get hasUpdated() {\n        return (this._updateState & STATE_HAS_UPDATED);\n    }\n    /**\n     * Performs an element update. Note, if an exception is thrown during the\n     * update, `firstUpdated` and `updated` will not be called.\n     *\n     * You can override this method to change the timing of updates. If this\n     * method is overridden, `super.performUpdate()` must be called.\n     *\n     * For instance, to schedule updates to occur just before the next frame:\n     *\n     * ```\n     * protected async performUpdate(): Promise<unknown> {\n     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n     *   super.performUpdate();\n     * }\n     * ```\n     */\n    performUpdate() {\n        // Abort any update if one is not pending when this is called.\n        // This can happen if `performUpdate` is called early to \"flush\"\n        // the update.\n        if (!this._hasRequestedUpdate) {\n            return;\n        }\n        // Mixin instance properties once, if they exist.\n        if (this._instanceProperties) {\n            this._applyInstanceProperties();\n        }\n        let shouldUpdate = false;\n        const changedProperties = this._changedProperties;\n        try {\n            shouldUpdate = this.shouldUpdate(changedProperties);\n            if (shouldUpdate) {\n                this.update(changedProperties);\n            }\n            else {\n                this._markUpdated();\n            }\n        }\n        catch (e) {\n            // Prevent `firstUpdated` and `updated` from running when there's an\n            // update exception.\n            shouldUpdate = false;\n            // Ensure element can accept additional updates after an exception.\n            this._markUpdated();\n            throw e;\n        }\n        if (shouldUpdate) {\n            if (!(this._updateState & STATE_HAS_UPDATED)) {\n                this._updateState = this._updateState | STATE_HAS_UPDATED;\n                this.firstUpdated(changedProperties);\n            }\n            this.updated(changedProperties);\n        }\n    }\n    _markUpdated() {\n        this._changedProperties = new Map();\n        this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n    }\n    /**\n     * Returns a Promise that resolves when the element has completed updating.\n     * The Promise value is a boolean that is `true` if the element completed the\n     * update without triggering another update. The Promise result is `false` if\n     * a property was set inside `updated()`. If the Promise is rejected, an\n     * exception was thrown during the update.\n     *\n     * To await additional asynchronous work, override the `_getUpdateComplete`\n     * method. For example, it is sometimes useful to await a rendered element\n     * before fulfilling this Promise. To do this, first await\n     * `super._getUpdateComplete()`, then any subsequent state.\n     *\n     * @returns {Promise} The Promise returns a boolean that indicates if the\n     * update resolved without triggering another update.\n     */\n    get updateComplete() {\n        return this._getUpdateComplete();\n    }\n    /**\n     * Override point for the `updateComplete` promise.\n     *\n     * It is not safe to override the `updateComplete` getter directly due to a\n     * limitation in TypeScript which means it is not possible to call a\n     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n     * This method should be overridden instead. For example:\n     *\n     *   class MyElement extends LitElement {\n     *     async _getUpdateComplete() {\n     *       await super._getUpdateComplete();\n     *       await this._myChild.updateComplete;\n     *     }\n     *   }\n     */\n    _getUpdateComplete() {\n        return this._updatePromise;\n    }\n    /**\n     * Controls whether or not `update` should be called when the element requests\n     * an update. By default, this method always returns `true`, but this can be\n     * customized to control when to update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    shouldUpdate(_changedProperties) {\n        return true;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes.\n     * It can be overridden to render and keep updated element DOM.\n     * Setting properties inside this method will *not* trigger\n     * another update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    update(_changedProperties) {\n        if (this._reflectingProperties !== undefined &&\n            this._reflectingProperties.size > 0) {\n            // Use forEach so this works even if for/of loops are compiled to for\n            // loops expecting arrays\n            this._reflectingProperties.forEach((v, k) => this._propertyToAttribute(k, this[k], v));\n            this._reflectingProperties = undefined;\n        }\n        this._markUpdated();\n    }\n    /**\n     * Invoked whenever the element is updated. Implement to perform\n     * post-updating tasks via DOM APIs, for example, focusing an element.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    updated(_changedProperties) {\n    }\n    /**\n     * Invoked when the element is first updated. Implement to perform one time\n     * work on the element after update.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    firstUpdated(_changedProperties) {\n    }\n}\n_a = finalized;\n/**\n * Marks class as having finished creating properties.\n */\nUpdatingElement[_a] = true;\n//# sourceMappingURL=updating-element.js.map","/**\n@license\nCopyright (c) 2019 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n/**\n * Whether the current browser supports `adoptedStyleSheets`.\n */\nexport const supportsAdoptingStyleSheets = (window.ShadowRoot) &&\n    (window.ShadyCSS === undefined || window.ShadyCSS.nativeShadow) &&\n    ('adoptedStyleSheets' in Document.prototype) &&\n    ('replace' in CSSStyleSheet.prototype);\nconst constructionToken = Symbol();\nexport class CSSResult {\n    constructor(cssText, safeToken) {\n        if (safeToken !== constructionToken) {\n            throw new Error('CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n        }\n        this.cssText = cssText;\n    }\n    // Note, this is a getter so that it's lazy. In practice, this means\n    // stylesheets are not created until the first element instance is made.\n    get styleSheet() {\n        if (this._styleSheet === undefined) {\n            // Note, if `supportsAdoptingStyleSheets` is true then we assume\n            // CSSStyleSheet is constructable.\n            if (supportsAdoptingStyleSheets) {\n                this._styleSheet = new CSSStyleSheet();\n                this._styleSheet.replaceSync(this.cssText);\n            }\n            else {\n                this._styleSheet = null;\n            }\n        }\n        return this._styleSheet;\n    }\n    toString() {\n        return this.cssText;\n    }\n}\n/**\n * Wrap a value for interpolation in a [[`css`]] tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nexport const unsafeCSS = (value) => {\n    return new CSSResult(String(value), constructionToken);\n};\nconst textFromCSSResult = (value) => {\n    if (value instanceof CSSResult) {\n        return value.cssText;\n    }\n    else if (typeof value === 'number') {\n        return value;\n    }\n    else {\n        throw new Error(`Value passed to 'css' function must be a 'css' function result: ${value}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`);\n    }\n};\n/**\n * Template tag which which can be used with LitElement's [[LitElement.styles |\n * `styles`]] property to set element styles. For security reasons, only literal\n * string values may be used. To incorporate non-literal values [[`unsafeCSS`]]\n * may be used inside a template string part.\n */\nexport const css = (strings, ...values) => {\n    const cssText = values.reduce((acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1], strings[0]);\n    return new CSSResult(cssText, constructionToken);\n};\n//# sourceMappingURL=css-tag.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * The main LitElement module, which defines the [[`LitElement`]] base class and\n * related APIs.\n *\n *  LitElement components can define a template and a set of observed\n * properties. Changing an observed property triggers a re-render of the\n * element.\n *\n *  Import [[`LitElement`]] and [[`html`]] from this module to create a\n * component:\n *\n *  ```js\n * import {LitElement, html} from 'lit-element';\n *\n * class MyElement extends LitElement {\n *\n *   // Declare observed properties\n *   static get properties() {\n *     return {\n *       adjective: {}\n *     }\n *   }\n *\n *   constructor() {\n *     this.adjective = 'awesome';\n *   }\n *\n *   // Define the element's template\n *   render() {\n *     return html`<p>your ${adjective} template here</p>`;\n *   }\n * }\n *\n * customElements.define('my-element', MyElement);\n * ```\n *\n * `LitElement` extends [[`UpdatingElement`]] and adds lit-html templating.\n * The `UpdatingElement` class is provided for users that want to build\n * their own custom element base classes that don't use lit-html.\n *\n * @packageDocumentation\n */\nimport { render } from 'lit-html/lib/shady-render.js';\nimport { UpdatingElement } from './lib/updating-element.js';\nexport * from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport { html, svg, TemplateResult, SVGTemplateResult } from 'lit-html/lit-html.js';\nimport { supportsAdoptingStyleSheets, unsafeCSS } from './lib/css-tag.js';\nexport * from './lib/css-tag.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litElementVersions'] || (window['litElementVersions'] = []))\n    .push('2.4.0');\n/**\n * Sentinal value used to avoid calling lit-html's render function when\n * subclasses do not implement `render`\n */\nconst renderNotImplemented = {};\n/**\n * Base element class that manages element properties and attributes, and\n * renders a lit-html template.\n *\n * To define a component, subclass `LitElement` and implement a\n * `render` method to provide the component's template. Define properties\n * using the [[`properties`]] property or the [[`property`]] decorator.\n */\nexport class LitElement extends UpdatingElement {\n    /**\n     * Return the array of styles to apply to the element.\n     * Override this method to integrate into a style management system.\n     *\n     * @nocollapse\n     */\n    static getStyles() {\n        return this.styles;\n    }\n    /** @nocollapse */\n    static _getUniqueStyles() {\n        // Only gather styles once per class\n        if (this.hasOwnProperty(JSCompiler_renameProperty('_styles', this))) {\n            return;\n        }\n        // Take care not to call `this.getStyles()` multiple times since this\n        // generates new CSSResults each time.\n        // TODO(sorvell): Since we do not cache CSSResults by input, any\n        // shared styles will generate new stylesheet objects, which is wasteful.\n        // This should be addressed when a browser ships constructable\n        // stylesheets.\n        const userStyles = this.getStyles();\n        if (Array.isArray(userStyles)) {\n            // De-duplicate styles preserving the _last_ instance in the set.\n            // This is a performance optimization to avoid duplicated styles that can\n            // occur especially when composing via subclassing.\n            // The last item is kept to try to preserve the cascade order with the\n            // assumption that it's most important that last added styles override\n            // previous styles.\n            const addStyles = (styles, set) => styles.reduceRight((set, s) => \n            // Note: On IE set.add() does not return the set\n            Array.isArray(s) ? addStyles(s, set) : (set.add(s), set), set);\n            // Array.from does not work on Set in IE, otherwise return\n            // Array.from(addStyles(userStyles, new Set<CSSResult>())).reverse()\n            const set = addStyles(userStyles, new Set());\n            const styles = [];\n            set.forEach((v) => styles.unshift(v));\n            this._styles = styles;\n        }\n        else {\n            this._styles = userStyles === undefined ? [] : [userStyles];\n        }\n        // Ensure that there are no invalid CSSStyleSheet instances here. They are\n        // invalid in two conditions.\n        // (1) the sheet is non-constructible (`sheet` of a HTMLStyleElement), but\n        //     this is impossible to check except via .replaceSync or use\n        // (2) the ShadyCSS polyfill is enabled (:. supportsAdoptingStyleSheets is\n        //     false)\n        this._styles = this._styles.map((s) => {\n            if (s instanceof CSSStyleSheet && !supportsAdoptingStyleSheets) {\n                // Flatten the cssText from the passed constructible stylesheet (or\n                // undetectable non-constructible stylesheet). The user might have\n                // expected to update their stylesheets over time, but the alternative\n                // is a crash.\n                const cssText = Array.prototype.slice.call(s.cssRules)\n                    .reduce((css, rule) => css + rule.cssText, '');\n                return unsafeCSS(cssText);\n            }\n            return s;\n        });\n    }\n    /**\n     * Performs element initialization. By default this calls\n     * [[`createRenderRoot`]] to create the element [[`renderRoot`]] node and\n     * captures any pre-set values for registered properties.\n     */\n    initialize() {\n        super.initialize();\n        this.constructor._getUniqueStyles();\n        this.renderRoot = this.createRenderRoot();\n        // Note, if renderRoot is not a shadowRoot, styles would/could apply to the\n        // element's getRootNode(). While this could be done, we're choosing not to\n        // support this now since it would require different logic around de-duping.\n        if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {\n            this.adoptStyles();\n        }\n    }\n    /**\n     * Returns the node into which the element should render and by default\n     * creates and returns an open shadowRoot. Implement to customize where the\n     * element's DOM is rendered. For example, to render into the element's\n     * childNodes, return `this`.\n     * @returns {Element|DocumentFragment} Returns a node into which to render.\n     */\n    createRenderRoot() {\n        return this.attachShadow({ mode: 'open' });\n    }\n    /**\n     * Applies styling to the element shadowRoot using the [[`styles`]]\n     * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where\n     * available and will fallback otherwise. When Shadow DOM is polyfilled,\n     * ShadyCSS scopes styles and adds them to the document. When Shadow DOM\n     * is available but `adoptedStyleSheets` is not, styles are appended to the\n     * end of the `shadowRoot` to [mimic spec\n     * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n     */\n    adoptStyles() {\n        const styles = this.constructor._styles;\n        if (styles.length === 0) {\n            return;\n        }\n        // There are three separate cases here based on Shadow DOM support.\n        // (1) shadowRoot polyfilled: use ShadyCSS\n        // (2) shadowRoot.adoptedStyleSheets available: use it\n        // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after\n        // rendering\n        if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n            window.ShadyCSS.ScopingShim.prepareAdoptedCssText(styles.map((s) => s.cssText), this.localName);\n        }\n        else if (supportsAdoptingStyleSheets) {\n            this.renderRoot.adoptedStyleSheets =\n                styles.map((s) => s instanceof CSSStyleSheet ? s : s.styleSheet);\n        }\n        else {\n            // This must be done after rendering so the actual style insertion is done\n            // in `update`.\n            this._needsShimAdoptedStyleSheets = true;\n        }\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        // Note, first update/render handles styleElement so we only call this if\n        // connected after first update.\n        if (this.hasUpdated && window.ShadyCSS !== undefined) {\n            window.ShadyCSS.styleElement(this);\n        }\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes\n     * and calls `render` to render DOM via lit-html. Setting properties inside\n     * this method will *not* trigger another update.\n     * @param _changedProperties Map of changed properties with old values\n     */\n    update(changedProperties) {\n        // Setting properties in `render` should not trigger an update. Since\n        // updates are allowed after super.update, it's important to call `render`\n        // before that.\n        const templateResult = this.render();\n        super.update(changedProperties);\n        // If render is not implemented by the component, don't call lit-html render\n        if (templateResult !== renderNotImplemented) {\n            this.constructor\n                .render(templateResult, this.renderRoot, { scopeName: this.localName, eventContext: this });\n        }\n        // When native Shadow DOM is used but adoptedStyles are not supported,\n        // insert styling after rendering to ensure adoptedStyles have highest\n        // priority.\n        if (this._needsShimAdoptedStyleSheets) {\n            this._needsShimAdoptedStyleSheets = false;\n            this.constructor._styles.forEach((s) => {\n                const style = document.createElement('style');\n                style.textContent = s.cssText;\n                this.renderRoot.appendChild(style);\n            });\n        }\n    }\n    /**\n     * Invoked on each update to perform rendering tasks. This method may return\n     * any value renderable by lit-html's `NodePart` - typically a\n     * `TemplateResult`. Setting properties inside this method will *not* trigger\n     * the element to update.\n     */\n    render() {\n        return renderNotImplemented;\n    }\n}\n/**\n * Ensure this class is marked as `finalized` as an optimization ensuring\n * it will not needlessly try to `finalize`.\n *\n * Note this property name is a string to prevent breaking Closure JS Compiler\n * optimizations. See updating-element.ts for more information.\n */\nLitElement['finalized'] = true;\n/**\n * Reference to the underlying library method used to render the element's\n * DOM. By default, points to the `render` method from lit-html's shady-render\n * module.\n *\n * **Most users will never need to touch this property.**\n *\n * This  property should not be confused with the `render` instance method,\n * which should be overridden to define a template for the element.\n *\n * Advanced users creating a new base class based on LitElement can override\n * this property to point to a custom render method with a signature that\n * matches [shady-render's `render`\n * method](https://lit-html.polymer-project.org/api/modules/shady_render.html#render).\n *\n * @nocollapse\n */\nLitElement.render = render;\n//# sourceMappingURL=lit-element.js.map","/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/'\nvar DEFAULT_DELIMITERS = './'\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n  // \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER\n  var delimiters = (options && options.delimiters) || DEFAULT_DELIMITERS\n  var pathEscaped = false\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      pathEscaped = true\n      continue\n    }\n\n    var prev = ''\n    var next = str[index]\n    var name = res[2]\n    var capture = res[3]\n    var group = res[4]\n    var modifier = res[5]\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1\n\n      if (delimiters.indexOf(path[k]) > -1) {\n        prev = path[k]\n        path = path.slice(0, k)\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n      pathEscaped = false\n    }\n\n    var partial = prev !== '' && next !== undefined && next !== prev\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = prev || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      pattern: pattern ? escapeGroup(pattern) : '[^' + escapeString(delimiter) + ']+?'\n    })\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index))\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (data, options) {\n    var path = ''\n    var encode = (options && options.encode) || encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined\n      var segment\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token)\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token)\n\n        if (!matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment\n        continue\n      }\n\n      if (token.optional) {\n        // Prepend partial segment prefixes.\n        if (token.partial) path += token.prefix\n\n        continue\n      }\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        pattern: null\n      })\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {}\n\n  var strict = options.strict\n  var start = options.start !== false\n  var end = options.end !== false\n  var delimiter = escapeString(options.delimiter || DEFAULT_DELIMITER)\n  var delimiters = options.delimiters || DEFAULT_DELIMITERS\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|')\n  var route = start ? '^' : ''\n  var isEndDelimited = tokens.length === 0\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n      isEndDelimited = i === tokens.length - 1 && delimiters.indexOf(token[token.length - 1]) > -1\n    } else {\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*'\n        : token.pattern\n\n      if (keys) keys.push(token)\n\n      if (token.optional) {\n        if (token.partial) {\n          route += escapeString(token.prefix) + '(' + capture + ')?'\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?'\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')'\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + delimiter + ')?'\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')'\n  } else {\n    if (!strict) route += '(?:' + delimiter + '(?=' + endsWith + '))?'\n    if (!isEndDelimited) route += '(?=' + delimiter + '|' + endsWith + ')'\n  }\n\n  return new RegExp(route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\n","import { pathname } from '@curi/interactions';\nimport PathToRegexp from 'path-to-regexp';\n\nvar isAsyncRoute = function (route) {\r\n    return typeof route.methods.resolve !== \"undefined\";\r\n};\r\nvar isExternalRedirect = function (redirect) {\r\n    return \"externalURL\" in redirect;\r\n};\r\nvar createRedirect = function (redirect, router) {\r\n    if (isExternalRedirect(redirect)) {\r\n        return redirect;\r\n    }\r\n    var name = redirect.name, params = redirect.params, query = redirect.query, hash = redirect.hash, state = redirect.state;\r\n    var url = \"url\" in redirect\r\n        ? redirect.url\r\n        : router.url({ name: name, params: params, query: query, hash: hash });\r\n    return {\r\n        name: name,\r\n        params: params,\r\n        query: query,\r\n        hash: hash,\r\n        state: state,\r\n        url: url\r\n    };\r\n};\r\nvar finishResponse = function (route, match, resolvedResults, router, external) {\r\n    var _a = resolvedResults || {}, _b = _a.resolved, resolved = _b === void 0 ? null : _b, _c = _a.error, error = _c === void 0 ? null : _c;\r\n    var response = {\r\n        data: undefined,\r\n        body: undefined,\r\n        meta: undefined\r\n    };\r\n    for (var key in match) {\r\n        response[key] = match[key];\r\n    }\r\n    if (!route.methods.respond) {\r\n        return response;\r\n    }\r\n    var results = route.methods.respond({\r\n        resolved: resolved,\r\n        error: error,\r\n        match: match,\r\n        external: external\r\n    });\r\n    if (!results) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            console.warn(\"\\\"\" + match.name + \"\\\"'s response function did not return anything. Did you forget to include a return statement?\");\r\n        }\r\n        return response;\r\n    }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        var validProperties_1 = {\r\n            meta: true,\r\n            body: true,\r\n            data: true,\r\n            redirect: true\r\n        };\r\n        Object.keys(results).forEach(function (property) {\r\n            if (!(property in validProperties_1)) {\r\n                console.warn(\"\\\"\" + property + \"\\\" is not a valid response property. The valid properties are:\\n\\n  \" + Object.keys(validProperties_1).join(\", \"));\r\n            }\r\n        });\r\n    }\r\n    response[\"meta\"] = results[\"meta\"];\r\n    response[\"body\"] = results[\"body\"];\r\n    response[\"data\"] = results[\"data\"];\r\n    if (results[\"redirect\"]) {\r\n        response[\"redirect\"] = createRedirect(results[\"redirect\"], router);\r\n    }\r\n    return response;\r\n};\r\nvar createRouter = function (historyConstructor, routes, options) {\r\n    var _a, _b;\r\n    if (options === void 0) { options = {}; }\r\n    var historyOptions = (_a = options.history, _a === void 0 ? {} : _a), sideEffects = options.sideEffects, external = options.external, invisibleRedirects = (_b = options.invisibleRedirects, _b === void 0 ? false : _b);\r\n    var history;\r\n    var router;\r\n    var latestResponse;\r\n    var latestNavigation;\r\n    var cancelWith;\r\n    var asyncNavNotifiers = [];\r\n    var observers = [];\r\n    var oneTimers = [];\r\n    var cancelCallback;\r\n    var finishCallback;\r\n    var resetCallbacks = function () {\r\n        cancelCallback = undefined;\r\n        finishCallback = undefined;\r\n    };\r\n    var cancelAndResetNavCallbacks = function () {\r\n        if (cancelCallback) {\r\n            cancelCallback();\r\n        }\r\n        resetCallbacks();\r\n    };\r\n    var finishAndResetNavCallbacks = function () {\r\n        if (finishCallback) {\r\n            finishCallback();\r\n        }\r\n        resetCallbacks();\r\n    };\r\n    var assignCallbacks = function (cancelled, finished) {\r\n        cancelCallback = cancelled;\r\n        finishCallback = finished;\r\n        return resetCallbacks;\r\n    };\r\n    var asyncNavComplete = function () {\r\n        if (cancelWith) {\r\n            cancelWith = undefined;\r\n            asyncNavNotifiers.forEach(function (fn) {\r\n                fn();\r\n            });\r\n        }\r\n    };\r\n    var callObservers = function (emitted) {\r\n        observers.forEach(function (fn) {\r\n            fn(emitted);\r\n        });\r\n    };\r\n    var callOneTimersAndSideEffects = function (emitted) {\r\n        oneTimers.splice(0).forEach(function (fn) {\r\n            fn(emitted);\r\n        });\r\n        if (sideEffects) {\r\n            sideEffects.forEach(function (fn) {\r\n                fn(emitted);\r\n            });\r\n        }\r\n    };\r\n    var emitImmediate = function (response, navigation) {\r\n        if (!response.redirect ||\r\n            !invisibleRedirects ||\r\n            isExternalRedirect(response.redirect)) {\r\n            latestResponse = response;\r\n            latestNavigation = navigation;\r\n            var emit = { response: response, navigation: navigation, router: router };\r\n            callObservers(emit);\r\n            callOneTimersAndSideEffects(emit);\r\n        }\r\n        if (response.redirect !== undefined &&\r\n            !isExternalRedirect(response.redirect)) {\r\n            history.navigate(response.redirect, \"replace\");\r\n        }\r\n    };\r\n    var finalizeResponseAndEmit = function (route, match, pending, navigation, resolved) {\r\n        asyncNavComplete();\r\n        pending.finish();\r\n        var response = finishResponse(route, match, resolved, router, external);\r\n        finishAndResetNavCallbacks();\r\n        emitImmediate(response, navigation);\r\n    };\r\n    // let any async navigation listeners (observers from router.cancel)\r\n    // know that there is an asynchronous navigation happening\r\n    var announceAsyncNav = function () {\r\n        if (asyncNavNotifiers.length && cancelWith === undefined) {\r\n            cancelWith = function () {\r\n                history.cancel();\r\n                asyncNavComplete();\r\n                cancelAndResetNavCallbacks();\r\n            };\r\n            asyncNavNotifiers.forEach(function (fn) {\r\n                fn(cancelWith);\r\n            });\r\n        }\r\n    };\r\n    history = historyConstructor(function (pendingNav) {\r\n        var navigation = {\r\n            action: pendingNav.action,\r\n            previous: latestResponse\r\n        };\r\n        var matched = routes.match(pendingNav.location);\r\n        if (!matched) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                console.warn(\"The current location (\" + pendingNav.location.pathname + \") has no matching route, \" +\r\n                    'so a response could not be emitted. A catch-all route ({ path: \"(.*)\" }) ' +\r\n                    \"can be used to match locations with no other matching route.\");\r\n            }\r\n            pendingNav.finish();\r\n            finishAndResetNavCallbacks();\r\n            return;\r\n        }\r\n        var route = matched.route, match = matched.match;\r\n        if (!isAsyncRoute(route)) {\r\n            finalizeResponseAndEmit(route, match, pendingNav, navigation, null);\r\n        }\r\n        else {\r\n            announceAsyncNav();\r\n            route.methods\r\n                .resolve(match, external)\r\n                .then(function (resolved) { return ({ resolved: resolved, error: null }); }, function (error) { return ({ error: error, resolved: null }); })\r\n                .then(function (resolved) {\r\n                if (pendingNav.cancelled) {\r\n                    return;\r\n                }\r\n                finalizeResponseAndEmit(route, match, pendingNav, navigation, resolved);\r\n            });\r\n        }\r\n    }, historyOptions);\r\n    router = {\r\n        route: routes.route,\r\n        history: history,\r\n        external: external,\r\n        observe: function (fn, options) {\r\n            var _a;\r\n            var initial = (_a = (options || {}).initial, _a === void 0 ? true : _a);\r\n            observers.push(fn);\r\n            if (latestResponse && initial) {\r\n                fn({\r\n                    response: latestResponse,\r\n                    navigation: latestNavigation,\r\n                    router: router\r\n                });\r\n            }\r\n            return function () {\r\n                observers = observers.filter(function (obs) {\r\n                    return obs !== fn;\r\n                });\r\n            };\r\n        },\r\n        once: function (fn, options) {\r\n            var _a;\r\n            var initial = (_a = (options || {}).initial, _a === void 0 ? true : _a);\r\n            if (latestResponse && initial) {\r\n                fn({\r\n                    response: latestResponse,\r\n                    navigation: latestNavigation,\r\n                    router: router\r\n                });\r\n            }\r\n            else {\r\n                oneTimers.push(fn);\r\n            }\r\n        },\r\n        cancel: function (fn) {\r\n            asyncNavNotifiers.push(fn);\r\n            return function () {\r\n                asyncNavNotifiers = asyncNavNotifiers.filter(function (can) {\r\n                    return can !== fn;\r\n                });\r\n            };\r\n        },\r\n        url: function (details) {\r\n            var name = details.name, params = details.params, hash = details.hash, query = details.query;\r\n            var pathname$1;\r\n            if (name) {\r\n                var route = router.route(name);\r\n                if (route) {\r\n                    pathname$1 = pathname(route, params);\r\n                }\r\n            }\r\n            return history.url({ pathname: pathname$1, hash: hash, query: query });\r\n        },\r\n        navigate: function (details) {\r\n            cancelAndResetNavCallbacks();\r\n            var url = details.url, state = details.state, method = details.method;\r\n            history.navigate({ url: url, state: state }, method);\r\n            if (details.cancelled || details.finished) {\r\n                return assignCallbacks(details.cancelled, details.finished);\r\n            }\r\n        },\r\n        current: function () {\r\n            return {\r\n                response: latestResponse,\r\n                navigation: latestNavigation\r\n            };\r\n        },\r\n        destroy: function () {\r\n            history.destroy();\r\n        }\r\n    };\r\n    history.current();\r\n    return router;\r\n};\n\nvar withLeadingSlash = function (path) {\r\n    return path.charAt(0) === \"/\" ? path : \"/\" + path;\r\n};\r\nvar withTrailingSlash = function (path) {\r\n    return path.charAt(path.length - 1) === \"/\" ? path : path + \"/\";\r\n};\r\nvar join = function (beginning, end) {\r\n    return withTrailingSlash(beginning) + end;\r\n};\r\nvar createRoute = function (props, map, parent) {\r\n    if (parent === void 0) { parent = {\r\n        path: \"\",\r\n        keys: []\r\n    }; }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        if (props.name in map) {\r\n            throw new Error(\"Multiple routes have the name \\\"\" + props.name + \"\\\". Route names must be unique.\");\r\n        }\r\n        if (props.path.charAt(0) === \"/\") {\r\n            throw new Error(\"Route paths cannot start with a forward slash (/). (Received \\\"\" + props.path + \"\\\")\");\r\n        }\r\n    }\r\n    var fullPath = withLeadingSlash(join(parent.path, props.path));\r\n    var _a = props.pathOptions || {}, _b = _a.match, matchOptions = _b === void 0 ? {} : _b, _c = _a.compile, compileOptions = _c === void 0 ? {} : _c;\r\n    // end must be false for routes with children, but we want to track its original value\r\n    var exact = matchOptions.end == null || matchOptions.end;\r\n    if (props.children && props.children.length) {\r\n        matchOptions.end = false;\r\n    }\r\n    var keys = [];\r\n    var re = PathToRegexp(withLeadingSlash(props.path), keys, matchOptions);\r\n    var keyNames = keys.map(function (key) { return key.name; });\r\n    if (parent.keys.length) {\r\n        keyNames = parent.keys.concat(keyNames);\r\n    }\r\n    var childRoutes = [];\r\n    var children = [];\r\n    if (props.children) {\r\n        for (var _i = 0, _d = props.children; _i < _d.length; _i++) {\r\n            var child = _d[_i];\r\n            var childRoute = createRoute(child, map, {\r\n                path: fullPath,\r\n                keys: keyNames\r\n            });\r\n            childRoutes.push(childRoute);\r\n            children.push(childRoute.public);\r\n        }\r\n    }\r\n    var compiled = PathToRegexp.compile(fullPath);\r\n    var route = {\r\n        public: {\r\n            name: props.name,\r\n            keys: keyNames,\r\n            parent: undefined,\r\n            children: children,\r\n            methods: {\r\n                resolve: props.resolve,\r\n                respond: props.respond,\r\n                pathname: function (params) {\r\n                    return compiled(params, compileOptions);\r\n                }\r\n            },\r\n            extra: props.extra\r\n        },\r\n        matching: {\r\n            re: re,\r\n            keys: keys,\r\n            exact: exact,\r\n            parsers: props.params || {},\r\n            children: childRoutes\r\n        }\r\n    };\r\n    map[props.name] = route.public;\r\n    if (childRoutes.length) {\r\n        childRoutes.forEach(function (child) {\r\n            child.public.parent = route.public;\r\n        });\r\n    }\r\n    return route;\r\n};\r\nvar matchRoute = function (route, pathname) {\r\n    var _a = route.matching, re = _a.re, children = _a.children, exact = _a.exact;\r\n    var regExpMatch = re.exec(pathname);\r\n    if (!regExpMatch) {\r\n        return [];\r\n    }\r\n    var matchedSegment = regExpMatch[0], parsed = regExpMatch.slice(1);\r\n    var matches = [{ route: route, parsed: parsed }];\r\n    var remainder = pathname.slice(matchedSegment.length);\r\n    if (!children.length || remainder === \"\") {\r\n        return matches;\r\n    }\r\n    // match that ends with a trailing slash strips it from the remainder\r\n    var fullSegments = withLeadingSlash(remainder);\r\n    for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\r\n        var child = children_1[_i];\r\n        var matched = matchRoute(child, fullSegments);\r\n        if (matched.length) {\r\n            return matches.concat(matched);\r\n        }\r\n    }\r\n    return exact ? [] : matches;\r\n};\r\nvar createMatch = function (routeMatches, location) {\r\n    var route = routeMatches[routeMatches.length - 1].route.public;\r\n    var params = {};\r\n    for (var _i = 0, routeMatches_1 = routeMatches; _i < routeMatches_1.length; _i++) {\r\n        var _a = routeMatches_1[_i], route_1 = _a.route, parsed = _a.parsed;\r\n        var _b = route_1.matching, keys = _b.keys, parsers = _b.parsers;\r\n        for (var i = 0, len = parsed.length; i < len; i++) {\r\n            var name_1 = keys[i].name;\r\n            var fn = parsers[name_1] || decodeURIComponent;\r\n            if (parsed[i] !== undefined) {\r\n                params[name_1] = fn(parsed[i]);\r\n            }\r\n        }\r\n    }\r\n    return {\r\n        route: route,\r\n        match: {\r\n            location: location,\r\n            name: route.name,\r\n            params: params\r\n        }\r\n    };\r\n};\r\nvar prepareRoutes = function (routes) {\r\n    var mappedRoutes = {};\r\n    var prepared = routes.map(function (route) { return createRoute(route, mappedRoutes); });\r\n    return {\r\n        match: function (location) {\r\n            for (var _i = 0, prepared_1 = prepared; _i < prepared_1.length; _i++) {\r\n                var route = prepared_1[_i];\r\n                var routeMatches = matchRoute(route, location.pathname);\r\n                if (routeMatches.length) {\r\n                    return createMatch(routeMatches, location);\r\n                }\r\n            }\r\n        },\r\n        route: function (name) {\r\n            if (process.env.NODE_ENV !== \"production\" && !(name in mappedRoutes)) {\r\n                console.warn(\"Attempting to use route \\\"\" + name + \"\\\", but no route with that name exists.\");\r\n            }\r\n            return mappedRoutes[name];\r\n        }\r\n    };\r\n};\n\nvar announce = function (fmt, mode) {\r\n    if (mode === void 0) { mode = \"assertive\"; }\r\n    var announcer = document.createElement(\"div\");\r\n    announcer.setAttribute(\"aria-live\", mode);\r\n    // https://hugogiraudel.com/2016/10/13/css-hide-and-seek/\r\n    announcer.setAttribute(\"style\", [\r\n        \"border: 0 !important;\",\r\n        \"clip: rect(1px, 1px, 1px, 1px) !important;\",\r\n        \"-webkit-clip-path: inset(50%) !important;\",\r\n        \"clip-path: inset(50%) !important;\",\r\n        \"height: 1px !important;\",\r\n        \"overflow: hidden !important;\",\r\n        \"padding: 0 !important;\",\r\n        \"position: absolute !important;\",\r\n        \"width: 1px !important;\",\r\n        \"white-space: nowrap !important;\",\r\n        \"top: 0;\"\r\n    ].join(\" \"));\r\n    document.body.appendChild(announcer);\r\n    return function (emitted) {\r\n        announcer.textContent = fmt(emitted);\r\n    };\r\n};\r\nvar scroll = function () {\r\n    return function (_a) {\r\n        var response = _a.response, navigation = _a.navigation;\r\n        if (navigation.action === \"pop\") {\r\n            return;\r\n        }\r\n        // wait until after the re-render to scroll\r\n        setTimeout(function () {\r\n            var hash = response.location.hash;\r\n            if (hash !== \"\") {\r\n                var element = document.getElementById(hash);\r\n                if (element && element.scrollIntoView) {\r\n                    element.scrollIntoView();\r\n                    return;\r\n                }\r\n            }\r\n            // if there is no hash, no element matching the hash,\r\n            // or the browser doesn't support, we will just scroll\r\n            // to the top of the page\r\n            window.scrollTo(0, 0);\r\n        }, 0);\r\n    };\r\n};\r\nvar title = function (callback) {\r\n    return function (emitted) {\r\n        document.title = callback(emitted);\r\n    };\r\n};\n\nexport { announce, createRouter, prepareRoutes, scroll, title };\n","function ensureBeginsWith(str, prefix) {\r\n    if (!str) {\r\n        return \"\";\r\n    }\r\n    return str.indexOf(prefix) === 0 ? str : prefix + str;\r\n}\r\nfunction stripPrefix(str, prefix) {\r\n    return str.indexOf(prefix) === 0 ? str.slice(prefix.length) : str;\r\n}\n\nexport { ensureBeginsWith, stripPrefix };\n","import { ensureBeginsWith } from '@hickory/location-utils';\n\nfunction defaultParseQuery(query) {\r\n    return query ? query : \"\";\r\n}\r\nfunction defaultStringifyQuery(query) {\r\n    return query ? query : \"\";\r\n}\r\nfunction locationUtils(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _a = options.query, _b = _a === void 0 ? {} : _a, _c = _b.parse, parseQuery = _c === void 0 ? defaultParseQuery : _c, _d = _b.stringify, stringifyQuery = _d === void 0 ? defaultStringifyQuery : _d, base = options.base;\r\n    return {\r\n        location: function (value, current) {\r\n            var url = value.url, state = value.state;\r\n            // special cases for empty/hash URLs\r\n            if (url === \"\" || url.charAt(0) === \"#\") {\r\n                if (!current) {\r\n                    current = { pathname: \"/\", hash: \"\", query: parseQuery() };\r\n                }\r\n                var details_1 = {\r\n                    pathname: current.pathname,\r\n                    hash: url.charAt(0) === \"#\" ? url.substring(1) : current.hash,\r\n                    query: current.query\r\n                };\r\n                if (state) {\r\n                    details_1.state = state;\r\n                }\r\n                return details_1;\r\n            }\r\n            // hash is always after query, so split it off first\r\n            var hashIndex = url.indexOf(\"#\");\r\n            var hash;\r\n            if (hashIndex !== -1) {\r\n                hash = url.substring(hashIndex + 1);\r\n                url = url.substring(0, hashIndex);\r\n            }\r\n            else {\r\n                hash = \"\";\r\n            }\r\n            var queryIndex = url.indexOf(\"?\");\r\n            var rawQuery;\r\n            if (queryIndex !== -1) {\r\n                rawQuery = url.substring(queryIndex + 1);\r\n                url = url.substring(0, queryIndex);\r\n            }\r\n            var query = parseQuery(rawQuery);\r\n            var pathname = base ? base.remove(url) : url;\r\n            if (pathname === \"\") {\r\n                pathname = \"/\";\r\n            }\r\n            var details = {\r\n                hash: hash,\r\n                query: query,\r\n                pathname: pathname\r\n            };\r\n            if (state) {\r\n                details.state = state;\r\n            }\r\n            return details;\r\n        },\r\n        keyed: function (location, key) {\r\n            location.key = key;\r\n            return location;\r\n        },\r\n        stringify: function (location) {\r\n            if (typeof location === \"string\") {\r\n                var firstChar = location.charAt(0);\r\n                if (firstChar === \"#\" || firstChar === \"?\") {\r\n                    return location;\r\n                }\r\n                return base ? base.add(location) : location;\r\n            }\r\n            var pathname = location.pathname !== undefined\r\n                ? base\r\n                    ? base.add(location.pathname)\r\n                    : location.pathname\r\n                : \"\";\r\n            return (pathname +\r\n                ensureBeginsWith(stringifyQuery(location.query), \"?\") +\r\n                ensureBeginsWith(location.hash, \"#\"));\r\n        }\r\n    };\r\n}\n\nfunction createKeyGenerator() {\r\n    var major = 0;\r\n    return {\r\n        major: function (previous) {\r\n            if (previous) {\r\n                major = previous[0] + 1;\r\n            }\r\n            return [major++, 0];\r\n        },\r\n        minor: function (current) {\r\n            return [current[0], current[1] + 1];\r\n        }\r\n    };\r\n}\n\nfunction navigateWith(args) {\r\n    var responseHandler = args.responseHandler, utils = args.utils, keygen = args.keygen, current = args.current, push = args.push, replace = args.replace;\r\n    var pending;\r\n    function createNavigation(location, action, finish, cancel) {\r\n        var navigation = {\r\n            location: location,\r\n            action: action,\r\n            finish: function () {\r\n                if (pending !== navigation) {\r\n                    return;\r\n                }\r\n                finish();\r\n                pending = undefined;\r\n            },\r\n            cancel: function (nextAction) {\r\n                if (pending !== navigation) {\r\n                    return;\r\n                }\r\n                cancel(nextAction);\r\n                navigation.cancelled = true;\r\n                pending = undefined;\r\n            },\r\n            cancelled: false\r\n        };\r\n        return navigation;\r\n    }\r\n    function emitNavigation(nav) {\r\n        pending = nav;\r\n        responseHandler(nav);\r\n    }\r\n    function cancelPending(action) {\r\n        if (pending) {\r\n            pending.cancel(action);\r\n            pending = undefined;\r\n        }\r\n    }\r\n    function prepare(to, navType) {\r\n        var currentLocation = current();\r\n        var location = utils.location(to, currentLocation);\r\n        switch (navType) {\r\n            case \"anchor\":\r\n                return utils.stringify(location) === utils.stringify(currentLocation)\r\n                    ? replaceNav(location)\r\n                    : pushNav(location);\r\n            case \"push\":\r\n                return pushNav(location);\r\n            case \"replace\":\r\n                return replaceNav(location);\r\n            default:\r\n                throw new Error(\"Invalid navigation type: \" + navType);\r\n        }\r\n    }\r\n    function replaceNav(location) {\r\n        var keyed = utils.keyed(location, keygen.minor(current().key));\r\n        return createNavigation(keyed, \"replace\", replace.finish(keyed), replace.cancel);\r\n    }\r\n    function pushNav(location) {\r\n        var keyed = utils.keyed(location, keygen.major(current().key));\r\n        return createNavigation(keyed, \"push\", push.finish(keyed), push.cancel);\r\n    }\r\n    return {\r\n        prepare: prepare,\r\n        emitNavigation: emitNavigation,\r\n        createNavigation: createNavigation,\r\n        cancelPending: cancelPending\r\n    };\r\n}\n\nfunction noop() { }\r\nfunction confirmation() {\r\n    var confirmFn;\r\n    return {\r\n        confirmNavigation: function (info, allow, prevent) {\r\n            if (!confirmFn) {\r\n                allow();\r\n            }\r\n            else {\r\n                confirmFn(info, allow, prevent || noop);\r\n            }\r\n        },\r\n        confirm: function (fn) {\r\n            confirmFn = fn ? fn : null;\r\n        }\r\n    };\r\n}\n\nfunction hasBase(path, prefix) {\r\n    return new RegExp(\"^\" + prefix + \"(\\\\/|\\\\?|#|$)\", \"i\").test(path);\r\n}\r\nfunction createBase(base, options) {\r\n    if (typeof base !== \"string\" ||\r\n        base.charAt(0) !== \"/\" ||\r\n        base.charAt(base.length - 1) === \"/\") {\r\n        throw new Error('The base segment \"' +\r\n            base +\r\n            '\" is not valid.' +\r\n            ' The \"base\" option must begin with a forward slash and end with a' +\r\n            \" non-forward slash character.\");\r\n    }\r\n    var _a = options || {}, _b = _a.emptyRoot, emptyRoot = _b === void 0 ? false : _b, _c = _a.strict, strict = _c === void 0 ? false : _c;\r\n    return {\r\n        add: function (path) {\r\n            if (emptyRoot) {\r\n                if (path === \"/\") {\r\n                    return base;\r\n                }\r\n                else if (path.startsWith(\"/?\") || path.startsWith(\"/#\")) {\r\n                    return \"\" + base + path.substr(1);\r\n                }\r\n            }\r\n            else if (path.charAt(0) === \"?\" || path.charAt(0) === \"#\") {\r\n                return path;\r\n            }\r\n            return \"\" + base + path;\r\n        },\r\n        remove: function (pathname) {\r\n            if (pathname === \"\") {\r\n                return \"\";\r\n            }\r\n            var exists = hasBase(pathname, base);\r\n            if (!exists) {\r\n                if (strict) {\r\n                    throw new Error(\"Expected a string that begins with \\\"\" + base + \"\\\", but received \\\"\" + pathname + \"\\\".\");\r\n                }\r\n                else {\r\n                    return pathname;\r\n                }\r\n            }\r\n            if (pathname === base) {\r\n                if (strict && !emptyRoot) {\r\n                    throw new Error(\"Received string \\\"\" + base + \"\\\", which is the same as the base, but \\\"emptyRoot\\\" is not true.\");\r\n                }\r\n                return \"/\";\r\n            }\r\n            return pathname.substr(base.length);\r\n        }\r\n    };\r\n}\n\n// deprecated name\r\nvar navigationConfirmation = confirmation;\n\nexport { locationUtils, createKeyGenerator as keyGenerator, confirmation, navigationConfirmation, navigateWith, createBase };\n","function domExists() {\r\n    return !!(window && window.location);\r\n}\r\n/*\r\n * Ignore popstate events that don't define event.state\r\n * unless they come from Chrome on iOS (because it emits\r\n * events where event.state is undefined when you click\r\n * the back button)\r\n */\r\nfunction ignorablePopstateEvent(event) {\r\n    return (event.state === undefined && navigator.userAgent.indexOf(\"CriOS\") === -1);\r\n}\r\n/*\r\n * IE 11 might throw, so just catch and return empty object when that happens\r\n */\r\nfunction getStateFromHistory() {\r\n    try {\r\n        return window.history.state || {};\r\n    }\r\n    catch (e) {\r\n        return {};\r\n    }\r\n}\n\nexport { domExists, ignorablePopstateEvent, getStateFromHistory };\n","import { locationUtils, keyGenerator, confirmation, navigateWith } from '@hickory/root';\nexport { createBase } from '@hickory/root';\nimport { domExists, getStateFromHistory, ignorablePopstateEvent } from '@hickory/dom-utils';\n\nfunction noop() { }\r\nfunction browser(fn, options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (!domExists()) {\r\n        throw new Error(\"Cannot use @hickory/browser without a DOM\");\r\n    }\r\n    var utils = locationUtils(options);\r\n    var keygen = keyGenerator();\r\n    var _a = confirmation(), confirm = _a.confirm, confirmNavigation = _a.confirmNavigation;\r\n    function fromBrowser(providedState) {\r\n        var _a = window.location, pathname = _a.pathname, search = _a.search, hash = _a.hash;\r\n        var url = pathname + search + hash;\r\n        var _b = providedState || getStateFromHistory(), key = _b.key, state = _b.state;\r\n        if (!key) {\r\n            key = keygen.major();\r\n            window.history.replaceState({ key: key, state: state }, \"\", url);\r\n        }\r\n        var location = utils.location({ url: url, state: state });\r\n        return utils.keyed(location, key);\r\n    }\r\n    function url(location) {\r\n        return utils.stringify(location);\r\n    }\r\n    // set action before location because fromBrowser enforces\r\n    // that the location has a key\r\n    var lastAction = getStateFromHistory().key !== undefined ? \"pop\" : \"push\";\r\n    var _b = navigateWith({\r\n        responseHandler: fn,\r\n        utils: utils,\r\n        keygen: keygen,\r\n        current: function () { return browserHistory.location; },\r\n        push: {\r\n            finish: function (location) {\r\n                return function () {\r\n                    var path = url(location);\r\n                    var key = location.key, state = location.state;\r\n                    try {\r\n                        window.history.pushState({ key: key, state: state }, \"\", path);\r\n                    }\r\n                    catch (e) {\r\n                        window.location.assign(path);\r\n                    }\r\n                    browserHistory.location = location;\r\n                    lastAction = \"push\";\r\n                };\r\n            },\r\n            cancel: noop\r\n        },\r\n        replace: {\r\n            finish: function (location) {\r\n                return function () {\r\n                    var path = url(location);\r\n                    var key = location.key, state = location.state;\r\n                    try {\r\n                        window.history.replaceState({ key: key, state: state }, \"\", path);\r\n                    }\r\n                    catch (e) {\r\n                        window.location.replace(path);\r\n                    }\r\n                    browserHistory.location = location;\r\n                    lastAction = \"replace\";\r\n                };\r\n            },\r\n            cancel: noop\r\n        }\r\n    }), emitNavigation = _b.emitNavigation, cancelPending = _b.cancelPending, createNavigation = _b.createNavigation, prepare = _b.prepare;\r\n    // when true, pop will ignore the navigation\r\n    var reverting = false;\r\n    function popstate(event) {\r\n        if (reverting) {\r\n            reverting = false;\r\n            return;\r\n        }\r\n        if (ignorablePopstateEvent(event)) {\r\n            return;\r\n        }\r\n        cancelPending(\"pop\");\r\n        var location = fromBrowser(event.state);\r\n        var diff = browserHistory.location.key[0] - location.key[0];\r\n        var revert = function () {\r\n            reverting = true;\r\n            window.history.go(diff);\r\n        };\r\n        confirmNavigation({\r\n            to: location,\r\n            from: browserHistory.location,\r\n            action: \"pop\"\r\n        }, function () {\r\n            emitNavigation(createNavigation(location, \"pop\", function () {\r\n                browserHistory.location = location;\r\n                lastAction = \"pop\";\r\n            }, function (nextAction) {\r\n                if (nextAction !== \"pop\") {\r\n                    revert();\r\n                }\r\n            }));\r\n        }, revert);\r\n    }\r\n    window.addEventListener(\"popstate\", popstate, false);\r\n    var browserHistory = {\r\n        location: fromBrowser(),\r\n        current: function () {\r\n            emitNavigation(createNavigation(browserHistory.location, lastAction, noop, noop));\r\n        },\r\n        url: url,\r\n        navigate: function (to, navType) {\r\n            if (navType === void 0) { navType = \"anchor\"; }\r\n            var navigation = prepare(to, navType);\r\n            cancelPending(navigation.action);\r\n            confirmNavigation({\r\n                to: navigation.location,\r\n                from: browserHistory.location,\r\n                action: navigation.action\r\n            }, function () {\r\n                emitNavigation(navigation);\r\n            });\r\n        },\r\n        go: function (num) {\r\n            window.history.go(num);\r\n        },\r\n        confirm: confirm,\r\n        cancel: function () {\r\n            cancelPending();\r\n        },\r\n        destroy: function () {\r\n            window.removeEventListener(\"popstate\", popstate);\r\n            emitNavigation = noop;\r\n        }\r\n    };\r\n    return browserHistory;\r\n}\n\nexport { browser };\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n* @private\n*/\nclass TreeIterator {\n  constructor(set, type) {\n    const node = set._tree;\n    const keys = Object.keys(node);\n    this.set = set;\n    this.type = type;\n    this.path = keys.length > 0 ? [{\n      node,\n      keys\n    }] : [];\n  }\n\n  next() {\n    const value = this.dive();\n    this.backtrack();\n    return value;\n  }\n\n  dive() {\n    if (this.path.length === 0) {\n      return {\n        done: true\n      };\n    }\n\n    const {\n      node,\n      keys\n    } = last(this.path);\n\n    if (last(keys) === LEAF) {\n      return {\n        done: false,\n        value: this.result()\n      };\n    }\n\n    this.path.push({\n      node: node[last(keys)],\n      keys: Object.keys(node[last(keys)])\n    });\n    return this.dive();\n  }\n\n  backtrack() {\n    if (this.path.length === 0) {\n      return;\n    }\n\n    last(this.path).keys.pop();\n\n    if (last(this.path).keys.length > 0) {\n      return;\n    }\n\n    this.path.pop();\n    this.backtrack();\n  }\n\n  key() {\n    return this.set._prefix + this.path.map(({\n      keys\n    }) => last(keys)).filter(key => key !== LEAF).join('');\n  }\n\n  value() {\n    return last(this.path).node[LEAF];\n  }\n\n  result() {\n    if (this.type === VALUES) {\n      return this.value();\n    }\n\n    if (this.type === KEYS) {\n      return this.key();\n    }\n\n    return [this.key(), this.value()];\n  }\n\n  [Symbol.iterator]() {\n    return this;\n  }\n\n}\n/** @ignore */\n\n\nconst ENTRIES = 'ENTRIES';\n/** @ignore */\n\nconst KEYS = 'KEYS';\n/** @ignore */\n\nconst VALUES = 'VALUES';\n/** @ignore */\n\nconst LEAF = '';\n\nconst last = function (array) {\n  return array[array.length - 1];\n};\n\n/**\n* @ignore\n*/\n\nconst fuzzySearch = function (node, query, maxDistance) {\n  const stack = [{\n    distance: 0,\n    i: 0,\n    key: '',\n    node\n  }];\n  const results = {};\n  const innerStack = [];\n\n  while (stack.length > 0) {\n    const {\n      node,\n      distance,\n      key,\n      i,\n      edit\n    } = stack.pop();\n    Object.keys(node).forEach(k => {\n      if (k === LEAF) {\n        const totDistance = distance + (query.length - i);\n        const [, d] = results[key] || [null, Infinity];\n\n        if (totDistance <= maxDistance && totDistance < d) {\n          results[key] = [node[k], totDistance];\n        }\n      } else {\n        withinDistance(query, k, maxDistance - distance, i, edit, innerStack).forEach(({\n          distance: d,\n          i,\n          edit\n        }) => {\n          stack.push({\n            node: node[k],\n            distance: distance + d,\n            key: key + k,\n            i,\n            edit\n          });\n        });\n      }\n    });\n  }\n\n  return results;\n};\n/**\n* @ignore\n*/\n\nconst withinDistance = function (a, b, maxDistance, i, edit, stack) {\n  stack.push({\n    distance: 0,\n    ia: i,\n    ib: 0,\n    edit\n  });\n  const results = [];\n\n  while (stack.length > 0) {\n    const {\n      distance,\n      ia,\n      ib,\n      edit\n    } = stack.pop();\n\n    if (ib === b.length) {\n      results.push({\n        distance,\n        i: ia,\n        edit\n      });\n      continue;\n    }\n\n    if (a[ia] === b[ib]) {\n      stack.push({\n        distance,\n        ia: ia + 1,\n        ib: ib + 1,\n        edit: NONE\n      });\n    } else {\n      if (distance >= maxDistance) {\n        continue;\n      }\n\n      if (edit !== ADD) {\n        stack.push({\n          distance: distance + 1,\n          ia,\n          ib: ib + 1,\n          edit: DELETE\n        });\n      }\n\n      if (ia < a.length) {\n        if (edit !== DELETE) {\n          stack.push({\n            distance: distance + 1,\n            ia: ia + 1,\n            ib,\n            edit: ADD\n          });\n        }\n\n        if (edit !== DELETE && edit !== ADD) {\n          stack.push({\n            distance: distance + 1,\n            ia: ia + 1,\n            ib: ib + 1,\n            edit: CHANGE\n          });\n        }\n      }\n    }\n  }\n\n  return results;\n};\nconst NONE = 0;\nconst CHANGE = 1;\nconst ADD = 2;\nconst DELETE = 3;\n\n/**\n* A class implementing the same interface as a standard JavaScript `Map` with\n* string keys, but adding support for efficiently searching entries with prefix\n* or fuzzy search. This is the class internally used by `MiniSearch` as the\n* inverted index data structure. The implementation is a radix tree (compressed\n* prefix tree).\n*\n* @implements {Map}\n*/\n\nclass SearchableMap {\n  constructor(tree = {}, prefix = '') {\n    /** @private */\n    this._tree = tree;\n    /** @private */\n\n    this._prefix = prefix;\n  }\n  /**\n  * Creates and returns a mutable view of this `SearchableMap`, containing only\n  * entries that share the given prefix.\n  *\n  * @example\n  * let map = new SearchableMap()\n  * map.set(\"unicorn\", 1)\n  * map.set(\"universe\", 2)\n  * map.set(\"university\", 3)\n  * map.set(\"unique\", 4)\n  * map.set(\"hello\", 5)\n  *\n  * let uni = map.atPrefix(\"uni\")\n  * uni.get(\"unique\") // => 4\n  * uni.get(\"unicorn\") // => 1\n  * uni.get(\"hello\") // => undefined\n  *\n  * let univer = map.atPrefix(\"univer\")\n  * univer.get(\"unique\") // => undefined\n  * univer.get(\"universe\") // => 2\n  * univer.get(\"university\") // => 3\n  *\n  * @param {string} prefix - The prefix\n  * @return {SearchableMap} A `SearchableMap` representing a mutable view of the original Map at the given prefix\n  */\n\n\n  atPrefix(prefix) {\n    if (!prefix.startsWith(this._prefix)) {\n      throw new Error('Mismatched prefix');\n    }\n\n    const [node, path] = trackDown(this._tree, prefix.slice(this._prefix.length));\n\n    if (node === undefined) {\n      const [parentNode, key] = last$1(path);\n      const nodeKey = Object.keys(parentNode).find(k => k !== LEAF && k.startsWith(key));\n\n      if (nodeKey !== undefined) {\n        return new SearchableMap({\n          [nodeKey.slice(key.length)]: parentNode[nodeKey]\n        }, prefix);\n      }\n    }\n\n    return new SearchableMap(node || {}, prefix);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/clear\n  * @return {undefined}\n  */\n\n\n  clear() {\n    delete this._size;\n    this._tree = {};\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/delete\n  * @param {string} key\n  * @return {undefined}\n  */\n\n\n  delete(key) {\n    delete this._size;\n    return remove(this._tree, key);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/entries\n  * @return {Iterator}\n  */\n\n\n  entries() {\n    return new TreeIterator(this, ENTRIES);\n  }\n  /**\n   * @callback SearchableMap~forEachFn\n   * @param {string} key - Key\n   * @param {any} value - Value associated to key\n   * @return any\n   */\n\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/forEach\n  * @param {SearchableMap~forEachFn} fn\n  * @return {undefined}\n  */\n\n\n  forEach(fn) {\n    for (const [key, value] of this) {\n      fn(key, value, this);\n    }\n  }\n  /**\n  * Returns a key-value object of all the entries that have a key within the\n  * given edit distance from the search key. The keys of the returned object are\n  * the matching keys, while the values are two-elements arrays where the first\n  * element is the value associated to the key, and the second is the edit\n  * distance of the key to the search key.\n  *\n  * @example\n  * let map = new SearchableMap()\n  * map.set('hello', 'world')\n  * map.set('hell', 'yeah')\n  * map.set('ciao', 'mondo')\n  *\n  * // Get all entries that match the key 'hallo' with a maximum edit distance of 2\n  * map.fuzzyGet('hallo', 2)\n  * // => { \"hello\": [\"world\", 1], \"hell\": [\"yeah\", 2] }\n  *\n  * // In the example, the \"hello\" key has value \"world\" and edit distance of 1\n  * // (change \"e\" to \"a\"), the key \"hell\" has value \"yeah\" and edit distance of 2\n  * // (change \"e\" to \"a\", delete \"o\")\n  *\n  * @param {string} key - The search key\n  * @param {number} maxEditDistance - The maximum edit distance\n  * @return {Object<string, Array>} A key-value object of the matching keys to their value and edit distance\n  */\n\n\n  fuzzyGet(key, maxEditDistance) {\n    return fuzzySearch(this._tree, key, maxEditDistance);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/get\n  * @param {string} key\n  * @return {any}\n  */\n\n\n  get(key) {\n    const node = lookup(this._tree, key);\n    return node !== undefined ? node[LEAF] : undefined;\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/has\n  * @param {string} key\n  * @return {boolean}\n  */\n\n\n  has(key) {\n    const node = lookup(this._tree, key);\n    return node !== undefined && node.hasOwnProperty(LEAF);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/keys\n  * @return {Iterator}\n  */\n\n\n  keys() {\n    return new TreeIterator(this, KEYS);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/set\n  * @param {string} key\n  * @param {any} value\n  * @return {SearchableMap} The `SearchableMap` itself, to allow chaining\n  */\n\n\n  set(key, value) {\n    if (typeof key !== 'string') {\n      throw new Error('key must be a string');\n    }\n\n    delete this._size;\n    const node = createPath(this._tree, key);\n    node[LEAF] = value;\n    return this;\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/size\n  * @type {number}\n  */\n\n\n  get size() {\n    if (this._size) {\n      return this._size;\n    }\n    /** @ignore */\n\n\n    this._size = 0;\n    this.forEach(() => {\n      this._size += 1;\n    });\n    return this._size;\n  }\n  /**\n   * @callback SearchableMap~updateFn\n   * @param {any} currentValue - The current value\n   * @return any - the updated value\n   */\n\n  /**\n  * Updates the value at the given key using the provided function. The function\n  * is called with the current value at the key, and its return value is used as\n  * the new value to be set.\n  *\n  * @example\n  * // Increment the current value by one\n  * searchableMap.update('somekey', (currentValue) => currentValue == null ? 0 : currentValue + 1)\n  *\n  * @param {string} key - The key\n  * @param {SearchableMap~updateFn} fn - The function used to compute the new value from the current one\n  * @return {SearchableMap} The `SearchableMap` itself, to allow chaining\n  */\n\n\n  update(key, fn) {\n    if (typeof key !== 'string') {\n      throw new Error('key must be a string');\n    }\n\n    delete this._size;\n    const node = createPath(this._tree, key);\n    node[LEAF] = fn(node[LEAF]);\n    return this;\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/values\n  * @return {Iterator}\n  */\n\n\n  values() {\n    return new TreeIterator(this, VALUES);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/@@iterator\n  * @return {Iterator}\n  */\n\n\n  [Symbol.iterator]() {\n    return this.entries();\n  }\n\n}\n/**\n* Creates a `SearchableMap` from an `Iterable` of entries\n*\n* @param {Iterable|Array} entries - Entries to be inserted in the `SearchableMap`\n* @return {SearchableMap} A new `SearchableMap` with the given entries\n**/\n\n\nSearchableMap.from = function (entries) {\n  const tree = new SearchableMap();\n\n  for (const [key, value] of entries) {\n    tree.set(key, value);\n  }\n\n  return tree;\n};\n/**\n* Creates a `SearchableMap` from the iterable properties of a JavaScript object\n*\n* @param {Object} object - Object of entries for the `SearchableMap`\n* @return {SearchableMap} A new `SearchableMap` with the given entries\n**/\n\n\nSearchableMap.fromObject = function (object) {\n  return SearchableMap.from(Object.entries(object));\n};\n\nconst trackDown = function (tree, key, path = []) {\n  if (key.length === 0) {\n    return [tree, path];\n  }\n\n  const nodeKey = Object.keys(tree).find(k => k !== LEAF && key.startsWith(k));\n\n  if (nodeKey === undefined) {\n    return trackDown(undefined, '', [...path, [tree, key]]);\n  }\n\n  return trackDown(tree[nodeKey], key.slice(nodeKey.length), [...path, [tree, nodeKey]]);\n};\n\nconst lookup = function (tree, key) {\n  if (key.length === 0) {\n    return tree;\n  }\n\n  const nodeKey = Object.keys(tree).find(k => k !== LEAF && key.startsWith(k));\n\n  if (nodeKey === undefined) {\n    return undefined;\n  }\n\n  return lookup(tree[nodeKey], key.slice(nodeKey.length));\n};\n\nconst createPath = function (tree, key) {\n  if (key.length === 0) {\n    return tree;\n  }\n\n  const nodeKey = Object.keys(tree).find(k => k !== LEAF && key.startsWith(k));\n\n  if (nodeKey === undefined) {\n    const toSplit = Object.keys(tree).find(k => k !== LEAF && k.startsWith(key[0]));\n\n    if (toSplit === undefined) {\n      tree[key] = {};\n    } else {\n      const prefix = commonPrefix(key, toSplit);\n      tree[prefix] = {\n        [toSplit.slice(prefix.length)]: tree[toSplit]\n      };\n      delete tree[toSplit];\n      return createPath(tree[prefix], key.slice(prefix.length));\n    }\n\n    return tree[key];\n  }\n\n  return createPath(tree[nodeKey], key.slice(nodeKey.length));\n};\n\nconst commonPrefix = function (a, b, i = 0, length = Math.min(a.length, b.length), prefix = '') {\n  if (i >= length) {\n    return prefix;\n  }\n\n  if (a[i] !== b[i]) {\n    return prefix;\n  }\n\n  return commonPrefix(a, b, i + 1, length, prefix + a[i]);\n};\n\nconst remove = function (tree, key) {\n  const [node, path] = trackDown(tree, key);\n\n  if (node === undefined) {\n    return;\n  }\n\n  delete node[LEAF];\n  const keys = Object.keys(node);\n\n  if (keys.length === 0) {\n    cleanup(path);\n  }\n\n  if (keys.length === 1) {\n    merge(path, keys[0], node[keys[0]]);\n  }\n};\n\nconst cleanup = function (path) {\n  if (path.length === 0) {\n    return;\n  }\n\n  const [node, key] = last$1(path);\n  delete node[key];\n\n  if (Object.keys(node).length === 0) {\n    cleanup(path.slice(0, -1));\n  }\n};\n\nconst merge = function (path, key, value) {\n  if (path.length === 0) {\n    return;\n  }\n\n  const [node, nodeKey] = last$1(path);\n  node[nodeKey + key] = value;\n  delete node[nodeKey];\n};\n\nconst last$1 = function (array) {\n  return array[array.length - 1];\n};\n\nconst OR = 'or';\nconst AND = 'and';\n/**\n* MiniSearch is the main entrypoint class, and represents a full-text search\n* engine.\n*\n* @example\n* const documents = [\n*   {\n*     id: 1,\n*     title: 'Moby Dick',\n*     text: 'Call me Ishmael. Some years ago...',\n*     category: 'fiction'\n*   },\n*   {\n*     id: 2,\n*     title: 'Zen and the Art of Motorcycle Maintenance',\n*     text: 'I can see by my watch...',\n*     category: 'fiction'\n*   },\n*   {\n*     id: 3,\n*     title: 'Neuromancer',\n*     text: 'The sky above the port was...',\n*     category: 'fiction'\n*   },\n*   {\n*     id: 4,\n*     title: 'Zen and the Art of Archery',\n*     text: 'At first sight it must seem...',\n*     category: 'non-fiction'\n*   },\n*   // ...and more\n* ]\n*\n* // Create a search engine that indexes the 'title' and 'text' fields for\n* // full-text search. Search results will include 'title' and 'category' (plus the\n* // id field, that is always stored and returned)\n* const miniSearch = MiniSearch.new({\n*   fields: ['title', 'text'],\n*   storeFields: ['title', 'category']\n* })\n*\n* // Add documents to the index\n* miniSearch.addAll(documents)\n*\n* // Search for documents:\n* let results = miniSearch.search('zen art motorcycle')\n* // => [\n*   { id: 2, title: 'Zen and the Art of Motorcycle Maintenance', category: 'fiction', score: 2.77258 },\n*   { id: 4, title: 'Zen and the Art of Archery', category: 'non-fiction', score: 1.38629 }\n* ]\n* */\n\nclass MiniSearch {\n  /**\n   * @callback MiniSearch~extractField\n   * @param {Object} document - A document object\n   * @param {string} fieldName - Name of the field to extract\n   * @return string - Value of the field\n   */\n\n  /**\n   * @callback MiniSearch~tokenize\n   * @param {string} text - Text to tokenize\n   * @param {?string} fieldName - Name of the field to tokenize\n   * @return string[] - Tokenized terms\n   */\n\n  /**\n   * @callback MiniSearch~processTerm\n   * @param {string} text - The text to tokenize\n   * @param {?string} fieldName - The name of the field to tokenize\n   * @return string|null|undefined|false - Processed term, or a falsy value to discard the term\n   */\n\n  /**\n  * @param {Object} options - Configuration options\n  * @param {Array<string>} options.fields - Fields to be indexed. Required.\n  * @param {string} [options.idField='id'] - ID field, uniquely identifying a document\n  * @param {Array<string>} [options.storeFields] - Fields to store, so that search results would include them. By default none, so resuts would only contain the id field.\n  * @param {MiniSearch~extractField} [options.extractField] - Function used to get the value of a field in a document\n  * @param {MiniSearch~tokenize} [options.tokenize] - Function used to split a field into individual terms\n  * @param {MiniSearch~processTerm} [options.processTerm] - Function used to process a term before indexing it or searching\n  * @param {Object} [options.searchOptions] - Default search options (see the `search` method for details)\n  *\n  * @example\n  * // Create a search engine that indexes the 'title' and 'text' fields of your\n  * // documents:\n  * const miniSearch = MiniSearch.new({ fields: ['title', 'text'] })\n  *\n  * @example\n  * // Your documents are assumed to include a unique 'id' field, but if you want\n  * // to use a different field for document identification, you can set the\n  * // 'idField' option:\n  * const miniSearch = MiniSearch.new({ idField: 'key', fields: ['title', 'text'] })\n  *\n  * @example\n  * // The full set of options (here with their default value) is:\n  * const miniSearch = MiniSearch.new({\n  *   // idField: field that uniquely identifies a document\n  *   idField: 'id',\n  *\n  *   // extractField: function used to get the value of a field in a document.\n  *   // By default, it assumes the document is a flat object with field names as\n  *   // property keys and field values as string property values, but custom logic\n  *   // can be implemented by setting this option to a custom extractor function.\n  *   extractField: (document, fieldName) => document[fieldName],\n  *\n  *   // tokenize: function used to split fields into individual terms. By\n  *   // default, it is also used to tokenize search queries, unless a specific\n  *   // `tokenize` search option is supplied. When tokenizing an indexed field,\n  *   // the field name is passed as the second argument.\n  *   tokenize: (string, _fieldName) => string.split(SPACE_OR_PUNCTUATION),\n  *\n  *   // processTerm: function used to process each tokenized term before\n  *   // indexing. It can be used for stemming and normalization. Return a falsy\n  *   // value in order to discard a term. By default, it is also used to process\n  *   // search queries, unless a specific `processTerm` option is supplied as a\n  *   // search option. When processing a term from a indexed field, the field\n  *   // name is passed as the second argument.\n  *   processTerm: (term, _fieldName) => term.toLowerCase(),\n  *\n  *   // searchOptions: default search options, see the `search` method for\n  *   // details\n  *   searchOptions: undefined,\n  *\n  *   // fields: document fields to be indexed. Mandatory, but not set by default\n  *   fields: undefined\n  *\n  *   // storeFields: document fields to be stored and returned as part of the\n  *   // search results.\n  *   storeFields: []\n  * })\n  */\n  constructor(options = {}) {\n    /** @private */\n    this._options = _objectSpread2(_objectSpread2({}, defaultOptions), options);\n    this._options.searchOptions = _objectSpread2(_objectSpread2({}, defaultSearchOptions), this._options.searchOptions || {});\n    const {\n      fields\n    } = this._options;\n\n    if (fields == null) {\n      throw new Error('MiniSearch: option \"fields\" must be provided');\n    }\n    /** @private */\n\n\n    this._index = new SearchableMap();\n    /** @private */\n\n    this._documentCount = 0;\n    /** @private */\n\n    this._documentIds = {};\n    /** @private */\n\n    this._fieldIds = {};\n    /** @private */\n\n    this._fieldLength = {};\n    /** @private */\n\n    this._averageFieldLength = {};\n    /** @private */\n\n    this._nextId = 0;\n    /** @private */\n\n    this._storedFields = {};\n    addFields(this, fields);\n  }\n  /**\n  * Adds a document to the index\n  *\n  * @param {Object} document - the document to be indexed\n  */\n\n\n  add(document) {\n    const {\n      extractField,\n      tokenize,\n      processTerm,\n      fields,\n      idField\n    } = this._options;\n    const id = extractField(document, idField);\n\n    if (id == null) {\n      throw new Error(`MiniSearch: document does not have ID field \"${idField}\"`);\n    }\n\n    const shortDocumentId = addDocumentId(this, id);\n    saveStoredFields(this, shortDocumentId, document);\n    fields.forEach(field => {\n      const fieldValue = extractField(document, field);\n\n      if (fieldValue == null) {\n        return;\n      }\n\n      const tokens = tokenize(fieldValue.toString(), field);\n      addFieldLength(this, shortDocumentId, this._fieldIds[field], this.documentCount - 1, tokens.length);\n      tokens.forEach(term => {\n        const processedTerm = processTerm(term, field);\n\n        if (isTruthy(processedTerm)) {\n          addTerm(this, this._fieldIds[field], shortDocumentId, processedTerm);\n        }\n      });\n    });\n  }\n  /**\n  * Adds all the given documents to the index\n  *\n  * @param {Object[]} documents - an array of documents to be indexed\n  */\n\n\n  addAll(documents) {\n    documents.forEach(document => this.add(document));\n  }\n  /**\n  * Adds all the given documents to the index asynchronously.\n  *\n  * Returns a promise that resolves to undefined when the indexing is done. This\n  * method is useful when index many documents, to avoid blocking the main\n  * thread. The indexing is performed asynchronously and in chunks.\n  *\n  * @param {Object[]} documents - an array of documents to be indexed\n  * @param {Object} [options] - Configuration options\n  * @param {number} [options.chunkSize] - Size of the document chunks indexed, 10 by default\n  * @return {Promise} A promise resolving to `null` when the indexing is done\n  */\n\n\n  addAllAsync(documents, options = {}) {\n    const {\n      chunkSize = 10\n    } = options;\n    const acc = {\n      chunk: [],\n      promise: Promise.resolve(null)\n    };\n    const {\n      chunk,\n      promise\n    } = documents.reduce(({\n      chunk,\n      promise\n    }, document, i) => {\n      chunk.push(document);\n\n      if ((i + 1) % chunkSize === 0) {\n        return {\n          chunk: [],\n          promise: promise.then(() => this.addAll(chunk))\n        };\n      } else {\n        return {\n          chunk,\n          promise\n        };\n      }\n    }, acc);\n    return promise.then(() => this.addAll(chunk));\n  }\n  /**\n  * Removes the given document from the index.\n  *\n  * The document to delete must NOT have changed between indexing and deletion,\n  * otherwise the index will be corrupted. Therefore, when reindexing a document\n  * after a change, the correct order of operations is:\n  *\n  *   1. remove old version\n  *   2. apply changes\n  *   3. index new version\n  *\n  * @param {Object} document - the document to be removed\n  */\n\n\n  remove(document) {\n    const {\n      tokenize,\n      processTerm,\n      extractField,\n      fields,\n      idField\n    } = this._options;\n    const id = extractField(document, idField);\n\n    if (id == null) {\n      throw new Error(`MiniSearch: document does not have ID field \"${idField}\"`);\n    }\n\n    const [shortDocumentId] = Object.entries(this._documentIds).find(([_, longId]) => id === longId) || [];\n\n    if (shortDocumentId == null) {\n      throw new Error(`MiniSearch: cannot remove document with ID ${id}: it is not in the index`);\n    }\n\n    fields.forEach(field => {\n      const fieldValue = extractField(document, field);\n\n      if (fieldValue == null) {\n        return;\n      }\n\n      const tokens = tokenize(fieldValue.toString(), field);\n      tokens.forEach(term => {\n        const processedTerm = processTerm(term, field);\n\n        if (isTruthy(processedTerm)) {\n          removeTerm(this, this._fieldIds[field], shortDocumentId, processedTerm);\n        }\n      });\n    });\n    delete this._storedFields[shortDocumentId];\n    delete this._documentIds[shortDocumentId];\n    this._documentCount -= 1;\n  }\n  /**\n  * Removes all the given documents from the index. If called with no arguments,\n  * it removes _all_ documents from the index.\n  *\n  * @param {Array<Object>} [documents] - the documents to be removed\n  */\n\n\n  removeAll(documents) {\n    if (arguments.length === 0) {\n      this._index = new SearchableMap();\n      this._documentCount = 0;\n      this._documentIds = {};\n      this._fieldLength = {};\n      this._averageFieldLength = {};\n      this._storedFields = {};\n      this._nextId = 0;\n    } else {\n      documents.forEach(document => this.remove(document));\n    }\n  }\n  /**\n   * @callback MiniSearch~prefixFn\n   * @param {string} term - Search term\n   * @param {number} i - Index of the term in the query terms array\n   * @param {string[]} terms - Array of all query terms\n   * @return boolean - `true` to perform prefix search, `false` to not perform it\n   */\n\n  /**\n   * @callback MiniSearch~fuzzyFn\n   * @param {string} term - Search term\n   * @param {number} i - Index of the search term in the tokenized search query\n   * @param {string[]} terms - Array of all query terms\n   * @return number|false - Maximum edit distance, or `false` to not perform fuzzy search\n   */\n\n  /**\n   * @callback MiniSearch~filter\n   * @param {Object} result - A search result\n   * @return boolean - `true` to keep the result, `false` to filter it out\n   */\n\n  /**\n  * Search for documents matching the given search query.\n  *\n  * The result is a list of scored document IDs matching the query, sorted by\n  * descending score, and each including data about which terms were matched and\n  * in which fields.\n  *\n  * @param {string} queryString - Query string to search for\n  * @param {Object} [options] - Search options. Each option, if not given, defaults to the corresponding value of `searchOptions` given to the constructor, or to the library default.\n  * @param {Array<string>} [options.fields] - Fields to search in. If omitted, all fields are searched\n  * @param {Object<string, number>} [options.boost] - Key-value object of boosting values for fields\n  * @param {boolean|MiniSearch~prefixFn} [options.prefix=false] - Whether to perform prefix search. Value can be a boolean, or a function computing the boolean from each tokenized and processed query term. If a function is given, it is called with the following arguments: `term: string` - the query term; `i: number` - the term index in the query terms; `terms: Array<string>` - the array of query terms.\n  * @param {number|false|MiniSearch~fuzzyFn} [options.fuzzy=false] - If set to a number greater than or equal 1, it performs fuzzy search within a maximum edit distance equal to that value. If set to a number less than 1, it performs fuzzy search with a maximum edit distance equal to the term length times the value, rouded at the nearest integer. If set to a function, it calls the function for each tokenized and processed query term and expects a numeric value indicating the maximum edit distance, or a falsy falue if fuzzy search should not be performed. If a function is given, it is called with the following arguments: `term: string` - the query term; `i: number` - the term index in the query terms; `terms: Array<string>` - the array of query terms.\n  * @param {string} [options.combineWith='OR'] - How to combine term queries (it can be 'OR' or 'AND')\n  * @param {MiniSearch~tokenize} [options.tokenize] - Function used to tokenize the search query. It defaults to the same tokenizer used for indexing.\n  * @param {MiniSearch~processTerm} [options.processTerm] - Function used to process each search term. Return a falsy value to discard a term. Defaults to the same function used to process terms upon indexing.\n  * @param {MiniSearch~filter} [options.filter] - Function used to filter search results, for example on the basis of stored fields\n  * @return {Array<{ id: any, score: number, match: Object }>} A sorted array of scored document IDs matching the search\n  *\n  * @example\n  * // Search for \"zen art motorcycle\" with default options: terms have to match\n  * // exactly, and individual terms are joined with OR\n  * miniSearch.search('zen art motorcycle')\n  * // => [ { id: 2, score: 2.77258, match: { ... } }, { id: 4, score: 1.38629, match: { ... } } ]\n  *\n  * @example\n  * // Search only in the 'title' field\n  * miniSearch.search('zen', { fields: ['title'] })\n  *\n  * @example\n  * // Boost a field\n  * miniSearch.search('zen', { boost: { title: 2 } })\n  *\n  * @example\n  * // Search for \"moto\" with prefix search (it will match documents\n  * // containing terms that start with \"moto\" or \"neuro\")\n  * miniSearch.search('moto neuro', { prefix: true })\n  *\n  * @example\n  * // Search for \"ismael\" with fuzzy search (it will match documents containing\n  * // terms similar to \"ismael\", with a maximum edit distance of 0.2 term.length\n  * // (rounded to nearest integer)\n  * miniSearch.search('ismael', { fuzzy: 0.2 })\n  *\n  * @example\n  * // Mix of exact match, prefix search, and fuzzy search\n  * miniSearch.search('ismael mob', {\n  *  prefix: true,\n  *  fuzzy: 0.2\n  * })\n  *\n  * @example\n  * // Perform fuzzy and prefix search depending on the search term. Here\n  * // performing prefix and fuzzy search only on terms longer than 3 characters\n  * miniSearch.search('ismael mob', {\n  *  prefix: term => term.length > 3\n  *  fuzzy: term => term.length > 3 ? 0.2 : null\n  * })\n  *\n  * @example\n  * // Combine search terms with AND (to match only documents that contain both\n  * // \"motorcycle\" and \"art\")\n  * miniSearch.search('motorcycle art', { combineWith: 'AND' })\n  *\n  * @example\n  * // Filter only results in the 'fiction' category (assuming that 'category'\n  * // is a stored field)\n  * miniSearch.search('motorcycle art', {\n  *   filter: (result) => result.category === 'fiction'\n  * })\n  */\n\n\n  search(queryString, options = {}) {\n    const {\n      tokenize,\n      processTerm,\n      searchOptions\n    } = this._options;\n    options = _objectSpread2(_objectSpread2({\n      tokenize,\n      processTerm\n    }, searchOptions), options);\n    const {\n      tokenize: searchTokenize,\n      processTerm: searchProcessTerm\n    } = options;\n    const queries = searchTokenize(queryString).map(term => searchProcessTerm(term)).filter(isTruthy).map(termToQuery(options));\n    const results = queries.map(query => this.executeQuery(query, options));\n    const combinedResults = this.combineResults(results, options.combineWith);\n    return Object.entries(combinedResults).reduce((results, [docId, {\n      score,\n      match,\n      terms\n    }]) => {\n      const result = {\n        id: this._documentIds[docId],\n        terms: uniq(terms),\n        score,\n        match\n      };\n      Object.assign(result, this._storedFields[docId]);\n\n      if (options.filter == null || options.filter(result)) {\n        results.push(result);\n      }\n\n      return results;\n    }, []).sort(({\n      score: a\n    }, {\n      score: b\n    }) => a < b ? 1 : -1);\n  }\n  /**\n  * Provide suggestions for the given search query\n  *\n  * The result is a list of suggested modified search queries, derived from the\n  * given search query, each with a relevance score, sorted by descending score.\n  *\n  * @param {string} queryString - Query string to be expanded into suggestions\n  * @param {Object} [options] - Search options. The supported options and default values are the same as for the `search` method, except that by default prefix search is performed on the last term in the query.\n  * @return {Array<{ suggestion: string, score: number }>} A sorted array of suggestions sorted by relevance score.\n  *\n  * @example\n  * // Get suggestions for 'neuro':\n  * miniSearch.autoSuggest('neuro')\n  * // => [ { suggestion: 'neuromancer', terms: [ 'neuromancer' ], score: 0.46240 } ]\n  *\n  * @example\n  * // Get suggestions for 'zen ar':\n  * miniSearch.autoSuggest('zen ar')\n  * // => [\n  * //  { suggestion: 'zen archery art', terms: [ 'zen', 'archery', 'art' ], score: 1.73332 },\n  * //  { suggestion: 'zen art', terms: [ 'zen', 'art' ], score: 1.21313 }\n  * // ]\n  *\n  * @example\n  * // Correct spelling mistakes using fuzzy search:\n  * miniSearch.autoSuggest('neromancer', { fuzzy: 0.2 })\n  * // => [ { suggestion: 'neuromancer', terms: [ 'neuromancer' ], score: 1.03998 } ]\n  *\n  * @example\n  * // Get suggestions for 'zen ar', but only within the 'fiction' category\n  * // (assuming that 'category' is a stored field):\n  * miniSearch.autoSuggest('zen ar', {\n  *   filter: (result) => result.category === 'fiction'\n  * })\n  * // => [\n  * //  { suggestion: 'zen archery art', terms: [ 'zen', 'archery', 'art' ], score: 1.73332 },\n  * //  { suggestion: 'zen art', terms: [ 'zen', 'art' ], score: 1.21313 }\n  * // ]\n  */\n\n\n  autoSuggest(queryString, options = {}) {\n    options = _objectSpread2(_objectSpread2({}, defaultAutoSuggestOptions), options);\n    const suggestions = this.search(queryString, options).reduce((suggestions, {\n      score,\n      terms\n    }) => {\n      const phrase = terms.join(' ');\n\n      if (suggestions[phrase] == null) {\n        suggestions[phrase] = {\n          score,\n          terms,\n          count: 1\n        };\n      } else {\n        suggestions[phrase].score += score;\n        suggestions[phrase].count += 1;\n      }\n\n      return suggestions;\n    }, {});\n    return Object.entries(suggestions).map(([suggestion, {\n      score,\n      terms,\n      count\n    }]) => ({\n      suggestion,\n      terms,\n      score: score / count\n    })).sort(({\n      score: a\n    }, {\n      score: b\n    }) => a < b ? 1 : -1);\n  }\n  /**\n  * Number of documents in the index\n  *\n  * @type {number}\n  */\n\n\n  get documentCount() {\n    return this._documentCount;\n  }\n  /**\n  * Deserializes a JSON index (serialized with `miniSearch.toJSON()`) and\n  * instantiates a MiniSearch instance. It should be given the same options\n  * originally used when serializing the index.\n  *\n  * @example\n  * // If the index was serialized with:\n  * let miniSearch = new MiniSearch({ fields: ['title', 'text'] })\n  * miniSearch.addAll(documents)\n  *\n  * const json = JSON.stringify(miniSearch)\n  * // It can later be deserialized like this:\n  * miniSearch = MiniSearch.loadJSON(json, { fields: ['title', 'text'] })\n  *\n  * @param {string} json - JSON-serialized index\n  * @param {Object} options - configuration options, same as the constructor\n  * @return {MiniSearch} an instance of MiniSearch\n  */\n\n\n  static loadJSON(json, options) {\n    if (options == null) {\n      throw new Error('MiniSearch: loadJSON should be given the same options used when serializing the index');\n    }\n\n    return MiniSearch.loadJS(JSON.parse(json), options);\n  }\n  /**\n  * Get the default value of an option. It will throw an error if no option with\n  * the given name exists.\n  *\n  * @param {string} optionName - name of the option\n  * @return {any} the default value of the given option\n  *\n  * @example\n  * // Get default tokenizer\n  * MiniSearch.getDefault('tokenize')\n  *\n  * @example\n  * // Get default term processor\n  * MiniSearch.getDefault('processTerm')\n  *\n  * @example\n  * // Unknown options will throw an error\n  * MiniSearch.getDefault('notExisting')\n  * // => throws 'MiniSearch: unknown option \"notExisting\"'\n  */\n\n\n  static getDefault(optionName) {\n    if (defaultOptions.hasOwnProperty(optionName)) {\n      return defaultOptions[optionName];\n    } else {\n      throw new Error(`MiniSearch: unknown option \"${optionName}\"`);\n    }\n  }\n  /**\n  * @private\n  */\n\n\n  static loadJS(js, options = {}) {\n    const {\n      index,\n      documentCount,\n      nextId,\n      documentIds,\n      fieldIds,\n      fieldLength,\n      averageFieldLength,\n      storedFields\n    } = js;\n    const miniSearch = new MiniSearch(options);\n    miniSearch._index = new SearchableMap(index._tree, index._prefix);\n    miniSearch._documentCount = documentCount;\n    miniSearch._nextId = nextId;\n    miniSearch._documentIds = documentIds;\n    miniSearch._fieldIds = fieldIds;\n    miniSearch._fieldLength = fieldLength;\n    miniSearch._averageFieldLength = averageFieldLength;\n    miniSearch._fieldIds = fieldIds;\n    miniSearch._storedFields = storedFields || {};\n    return miniSearch;\n  }\n  /**\n  * @private\n  * @ignore\n  */\n\n\n  executeQuery(query, options = {}) {\n    options = _objectSpread2(_objectSpread2({}, this._options.searchOptions), options);\n\n    const boosts = (options.fields || this._options.fields).reduce((boosts, field) => _objectSpread2(_objectSpread2({}, boosts), {}, {\n      [field]: getOwnProperty(boosts, field) || 1\n    }), options.boost || {});\n\n    const {\n      boostDocument,\n      weights: {\n        fuzzy: fuzzyWeight = 0.9,\n        prefix: prefixWeight = 0.75\n      }\n    } = options;\n    const exactMatch = termResults(this, query.term, boosts, boostDocument, this._index.get(query.term));\n\n    if (!query.fuzzy && !query.prefix) {\n      return exactMatch;\n    }\n\n    const results = [exactMatch];\n\n    if (query.prefix) {\n      this._index.atPrefix(query.term).forEach((term, data) => {\n        const weightedDistance = 0.3 * (term.length - query.term.length) / term.length;\n        results.push(termResults(this, term, boosts, boostDocument, data, prefixWeight, weightedDistance));\n      });\n    }\n\n    if (query.fuzzy) {\n      const maxDistance = query.fuzzy < 1 ? Math.round(query.term.length * query.fuzzy) : query.fuzzy;\n      Object.entries(this._index.fuzzyGet(query.term, maxDistance)).forEach(([term, [data, distance]]) => {\n        const weightedDistance = distance / term.length;\n        results.push(termResults(this, term, boosts, boostDocument, data, fuzzyWeight, weightedDistance));\n      });\n    }\n\n    return results.reduce(combinators[OR], {});\n  }\n  /**\n  * @private\n  * @ignore\n  */\n\n\n  combineResults(results, combineWith = OR) {\n    if (results.length === 0) {\n      return {};\n    }\n\n    const operator = combineWith.toLowerCase();\n    return results.reduce(combinators[operator], null);\n  }\n  /**\n  * Allows serialization of the index to JSON, to possibly store it and later\n  * deserialize it with `MiniSearch.loadJSON`.\n  *\n  * Normally one does not directly call this method, but rather call the\n  * standard JavaScript `JSON.stringify()` passing the `MiniSearch` instance,\n  * and JavaScript will internally call this method. Upon deserialization, one\n  * must pass to `loadJSON` the same options used to create the original\n  * instance that was serialized.\n  *\n  * @example\n  * // Serialize the index:\n  * let miniSearch = new MiniSearch({ fields: ['title', 'text'] })\n  * miniSearch.addAll(documents)\n  * const json = JSON.stringify(miniSearch)\n  *\n  * // Later, to deserialize it:\n  * miniSearch = MiniSearch.loadJSON(json, { fields: ['title', 'text'] })\n  *\n  * @return {Object} the serializeable representation of the search index\n  */\n\n\n  toJSON() {\n    return {\n      index: this._index,\n      documentCount: this._documentCount,\n      nextId: this._nextId,\n      documentIds: this._documentIds,\n      fieldIds: this._fieldIds,\n      fieldLength: this._fieldLength,\n      averageFieldLength: this._averageFieldLength,\n      storedFields: this._storedFields\n    };\n  }\n\n}\n\nMiniSearch.SearchableMap = SearchableMap;\n\nconst addTerm = function (self, fieldId, documentId, term) {\n  self._index.update(term, indexData => {\n    indexData = indexData || {};\n    const fieldIndex = indexData[fieldId] || {\n      df: 0,\n      ds: {}\n    };\n\n    if (fieldIndex.ds[documentId] == null) {\n      fieldIndex.df += 1;\n    }\n\n    fieldIndex.ds[documentId] = (fieldIndex.ds[documentId] || 0) + 1;\n    return _objectSpread2(_objectSpread2({}, indexData), {}, {\n      [fieldId]: fieldIndex\n    });\n  });\n};\n\nconst removeTerm = function (self, fieldId, documentId, term) {\n  if (!self._index.has(term)) {\n    warnDocumentChanged(self, documentId, fieldId, term);\n    return;\n  }\n\n  self._index.update(term, indexData => {\n    const fieldIndex = indexData[fieldId];\n\n    if (fieldIndex == null || fieldIndex.ds[documentId] == null) {\n      warnDocumentChanged(self, documentId, fieldId, term);\n      return indexData;\n    }\n\n    if (fieldIndex.ds[documentId] <= 1) {\n      if (fieldIndex.df <= 1) {\n        delete indexData[fieldId];\n        return indexData;\n      }\n\n      fieldIndex.df -= 1;\n    }\n\n    if (fieldIndex.ds[documentId] <= 1) {\n      delete fieldIndex.ds[documentId];\n      return indexData;\n    }\n\n    fieldIndex.ds[documentId] -= 1;\n    return _objectSpread2(_objectSpread2({}, indexData), {}, {\n      [fieldId]: fieldIndex\n    });\n  });\n\n  if (Object.keys(self._index.get(term)).length === 0) {\n    self._index.delete(term);\n  }\n};\n\nconst warnDocumentChanged = function (self, shortDocumentId, fieldId, term) {\n  if (console == null || console.warn == null) {\n    return;\n  }\n\n  const fieldName = Object.entries(self._fieldIds).find(([name, id]) => id === fieldId)[0];\n  console.warn(`MiniSearch: document with ID ${self._documentIds[shortDocumentId]} has changed before removal: term \"${term}\" was not present in field \"${fieldName}\". Removing a document after it has changed can corrupt the index!`);\n};\n\nconst addDocumentId = function (self, documentId) {\n  const shortDocumentId = self._nextId.toString(36);\n\n  self._documentIds[shortDocumentId] = documentId;\n  self._documentCount += 1;\n  self._nextId += 1;\n  return shortDocumentId;\n};\n\nconst addFields = function (self, fields) {\n  fields.forEach((field, i) => {\n    self._fieldIds[field] = i;\n  });\n};\n\nconst termResults = function (self, term, boosts, boostDocument, indexData, weight = 1, editDistance = 0) {\n  if (indexData == null) {\n    return {};\n  }\n\n  return Object.entries(boosts).reduce((results, [field, boost]) => {\n    const fieldId = self._fieldIds[field];\n    const {\n      df,\n      ds\n    } = indexData[fieldId] || {\n      ds: {}\n    };\n    Object.entries(ds).forEach(([documentId, tf]) => {\n      const docBoost = boostDocument ? boostDocument(self._documentIds[documentId], term) : 1;\n\n      if (!docBoost) {\n        return;\n      }\n\n      const normalizedLength = self._fieldLength[documentId][fieldId] / self._averageFieldLength[fieldId];\n      results[documentId] = results[documentId] || {\n        score: 0,\n        match: {},\n        terms: []\n      };\n      results[documentId].terms.push(term);\n      results[documentId].match[term] = getOwnProperty(results[documentId].match, term) || [];\n      results[documentId].score += docBoost * score(tf, df, self._documentCount, normalizedLength, boost, editDistance);\n      results[documentId].match[term].push(field);\n    });\n    return results;\n  }, {});\n};\n\nconst getOwnProperty = function (object, property) {\n  return Object.prototype.hasOwnProperty.call(object, property) ? object[property] : undefined;\n};\n\nconst addFieldLength = function (self, documentId, fieldId, count, length) {\n  self._averageFieldLength[fieldId] = self._averageFieldLength[fieldId] || 0;\n  const totalLength = self._averageFieldLength[fieldId] * count + length;\n  self._fieldLength[documentId] = self._fieldLength[documentId] || {};\n  self._fieldLength[documentId][fieldId] = length;\n  self._averageFieldLength[fieldId] = totalLength / (count + 1);\n};\n\nconst saveStoredFields = function (self, documentId, doc) {\n  const {\n    storeFields,\n    extractField\n  } = self._options;\n\n  if (storeFields == null || storeFields.length === 0) {\n    return;\n  }\n\n  self._storedFields[documentId] = self._storedFields[documentId] || {};\n  storeFields.forEach(fieldName => {\n    const fieldValue = extractField(doc, fieldName);\n\n    if (fieldValue === undefined) {\n      return;\n    }\n\n    self._storedFields[documentId][fieldName] = fieldValue;\n  });\n};\n\nconst combinators = {\n  [OR]: function (a, b) {\n    return Object.entries(b).reduce((combined, [documentId, {\n      score,\n      match,\n      terms\n    }]) => {\n      if (combined[documentId] == null) {\n        combined[documentId] = {\n          score,\n          match,\n          terms\n        };\n      } else {\n        combined[documentId].score += score;\n        combined[documentId].score *= 1.5;\n        combined[documentId].terms = [...combined[documentId].terms, ...terms];\n        Object.assign(combined[documentId].match, match);\n      }\n\n      return combined;\n    }, a || {});\n  },\n  [AND]: function (a, b) {\n    if (a == null) {\n      return b;\n    }\n\n    return Object.entries(b).reduce((combined, [documentId, {\n      score,\n      match,\n      terms\n    }]) => {\n      if (a[documentId] === undefined) {\n        return combined;\n      }\n\n      combined[documentId] = combined[documentId] || {};\n      combined[documentId].score = a[documentId].score + score;\n      combined[documentId].match = _objectSpread2(_objectSpread2({}, a[documentId].match), match);\n      combined[documentId].terms = [...a[documentId].terms, ...terms];\n      return combined;\n    }, {});\n  }\n};\n\nconst tfIdf = function (tf, df, n) {\n  return tf * Math.log(n / df);\n};\n\nconst score = function (termFrequency, documentFrequency, documentCount, normalizedLength, boost, editDistance) {\n  const weight = boost / (1 + 0.333 * boost * editDistance);\n  return weight * tfIdf(termFrequency, documentFrequency, documentCount) / normalizedLength;\n};\n\nconst termToQuery = options => (term, i, terms) => {\n  const fuzzy = typeof options.fuzzy === 'function' ? options.fuzzy(term, i, terms) : options.fuzzy;\n  const prefix = typeof options.prefix === 'function' ? options.prefix(term, i, terms) : options.prefix;\n  return {\n    term,\n    fuzzy,\n    prefix\n  };\n};\n\nconst uniq = function (array) {\n  return array.filter((element, i, array) => array.indexOf(element) === i);\n};\n\nconst isTruthy = x => !!x;\n\nconst defaultOptions = {\n  idField: 'id',\n  extractField: (document, fieldName) => document[fieldName],\n  tokenize: (string, _fieldName) => string.split(SPACE_OR_PUNCTUATION),\n  processTerm: (term, _fieldName) => term.toLowerCase(),\n  fields: undefined,\n  searchOptions: undefined,\n  storeFields: []\n};\nconst defaultSearchOptions = {\n  combineWith: OR,\n  prefix: false,\n  fuzzy: false,\n  weights: {}\n};\nconst defaultAutoSuggestOptions = {\n  prefix: (term, i, terms) => i === terms.length - 1\n}; // This regular expression matches any Unicode space or punctuation character\n// Adapted from https://unicode.org/cldr/utility/list-unicodeset.jsp?a=%5Cp%7BZ%7D%5Cp%7BP%7D&abb=on&c=on&esc=on\n\nconst SPACE_OR_PUNCTUATION = /[\\n\\r -#%-*,-/:;?@[-\\]_{}\\u00A0\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u1680\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2000-\\u200A\\u2010-\\u2029\\u202F-\\u2043\\u2045-\\u2051\\u2053-\\u205F\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u3000-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]+/u;\n\nexport default MiniSearch;\n//# sourceMappingURL=index.js.map\n","export default {\n  baseUrl: process.env.BASE_URL,\n  repo: {\n    url: process.env.REPO_URL,\n    owner: 'stalniy',\n    name: 'freaksidea-pwa'\n  }\n};\n","import config from '../config/app';\n\nconst identity = x => x;\nconst FORMATS = {\n  json: JSON,\n  raw: {\n    parse: identity,\n    stringify: identity,\n  }\n};\n\nexport function fetch(rawUrl, options = {}) {\n  const format = FORMATS[options.format || 'json'];\n\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    const url = options.absoluteUrl ? rawUrl : config.baseUrl + rawUrl;\n\n    xhr.open(options.method || 'GET', url);\n\n    if (options.headers) {\n      Object.keys(options.headers).forEach((name) => {\n        xhr.setRequestHeader(name, options.headers[name]);\n      });\n    }\n\n    xhr.onload = () => resolve({\n      status: xhr.status,\n      headers: {\n        'content-type': xhr.getResponseHeader('Content-Type'),\n      },\n      body: format.parse(xhr.responseText)\n    });\n    xhr.ontimeout = xhr.onerror = reject; // eslint-disable-line no-multi-assign\n    xhr.send(options.data ? format.stringify(options.data) : null);\n  });\n}\n","export function notFoundError(message) {\n  return Object.assign(new Error(message), {\n    code: 'NOT_FOUND'\n  });\n}\n","const json = (...args) => JSON.stringify(args);\n\nexport function memoize(fn, generateKey = json) {\n  const cache = new Map();\n  const memoized = function (...args) {\n    const key = generateKey(...args);\n\n    if (!cache.has(key)) {\n      cache.set(key, fn.apply(this, args));\n    }\n\n    return cache.get(key);\n  };\n  memoized.cache = cache;\n\n  return memoized;\n}\n\nexport function debounce(fn, timeout) {\n  let timerId;\n  return function (...args) {\n    clearTimeout(timerId);\n    timerId = setTimeout(() => fn.apply(this, args), timeout);\n  };\n}\n\nexport function interpolate(template, object) {\n  let hasMissing = false;\n  const result = template.replace(/:([\\w_-]+)\\??/g, (_, name) => {\n    if (!object[name] || object[name] === 'undefined') {\n      hasMissing = true;\n    }\n    return object[name];\n  });\n\n  return hasMissing ? null : result;\n}\n","function extractField(object, fieldName) {\n  switch (fieldName) {\n    case 'summary':\n      return object.meta ? object.meta.description : null;\n    case 'headings':\n      return object[fieldName].map(h => h.title).join(' ');\n    default:\n      return object[fieldName];\n  }\n}\n\nexport default {\n  extractField,\n  fields: ['title', 'headings', 'summary'],\n  searchOptions: {\n    boost: {\n      title: 2,\n    },\n  },\n};\n","import MiniSearch from 'minisearch';\nimport { fetch } from './http';\nimport { notFoundError } from './error';\nimport { memoize } from './utils';\nimport searchOptions from '../config/search';\n\nfunction markHints(result) {\n  const hints = {};\n\n  result.terms.forEach((term) => {\n    const regexp = new RegExp(`(${term})`, 'gi');\n\n    result.match[term].forEach((field) => {\n      const value = result.doc[field];\n\n      if (typeof value === 'string') {\n        hints[field] = value.replace(regexp, '<mark>$1</mark>');\n      } else if (field === 'headings') {\n        const markedValue = value.reduce((items, h) => {\n          if (h.title.toLowerCase().includes(term)) {\n            items.push({\n              id: h.id,\n              title: h.title.replace(regexp, '<mark>$1</mark>'),\n            });\n          }\n          return items;\n        }, []);\n        hints[field] = markedValue.length ? markedValue : null;\n      }\n    });\n  });\n\n  return hints;\n}\n\nfunction timeOf(date) {\n  return new Date(date).getTime();\n}\n\nexport default class Content {\n  constructor({ pages, summaries, searchIndexes }) {\n    this._pages = pages;\n    this._summaries = summaries;\n    this._searchIndexes = searchIndexes;\n    this._loadSearchIndex = memoize(this._loadSearchIndex);\n    this._getSummary = memoize(this._getSummary);\n    this._getItems = memoize(this._getItems);\n    this.byCategories = memoize(this.byCategories);\n    this.getPopularTags = memoize(this.getPopularTags);\n    this.load = memoize(this.load);\n  }\n\n  async load(locale, name) {\n    const url = this._pages[locale][name];\n\n    if (!url) {\n      throw notFoundError(`Page with ${name} is not found`);\n    }\n\n    const response = await fetch(url);\n    return response.body;\n  }\n\n  async _getSummary(locale) {\n    const response = await fetch(this._summaries[locale]);\n    return response.body;\n  }\n\n  async _getItems(locale, categories = null) {\n    const groups = await this.byCategories(locale, categories);\n    return Object.keys(groups)\n      .reduce((all, category) => all.concat(groups[category]), []);\n  }\n\n  async getNearestFor(locale, pageId, categories = null) {\n    const items = await this._getItems(locale, categories);\n    const index = items.findIndex(item => item.id === pageId);\n\n    if (index === -1) {\n      return [];\n    }\n\n    const prevIndex = index - 1;\n    const nextIndex = index + 1;\n\n    return [\n      prevIndex < 0 ? undefined : items[prevIndex],\n      nextIndex >= items.length ? undefined : items[nextIndex]\n    ];\n  }\n\n  async byCategories(locale, categories = null) {\n    const { items } = await this._getSummary(locale);\n    const groups = {};\n\n    items.forEach((item) => {\n      item.categories.forEach((category) => {\n        groups[category] = groups[category] || [];\n        groups[category].push(item);\n      });\n    });\n\n    if (!Array.isArray(categories)) {\n      return groups;\n    }\n\n    return categories.reduce((filtered, category) => {\n      if (groups[category]) {\n        filtered[category] = groups[category];\n      }\n      return filtered;\n    }, {});\n  }\n\n  async paginate(locale, categories, pagination) {\n    const items = await this._getItems(locale, categories);\n    const pagesAmount = Math.ceil(items.length / pagination.pageSize);\n    const startIndex = (pagination.page - 1) * pagination.pageSize;\n\n    return {\n      pagesAmount,\n      items: items.slice(startIndex, startIndex + pagination.pageSize),\n    };\n  }\n\n  async findSimilar(locale, item) {\n    const summary = await this._getSummary(locale);\n\n    if (!item.meta || !item.meta.keywords) {\n      return [];\n    }\n\n    const similarItems = item.meta.keywords.reduce((all, tag) => {\n      const itemsByTag = summary.byTags[tag];\n      const expectedSize = all.size + 1;\n\n      for (let i = 0; expectedSize !== all.size && i < itemsByTag.length; i++) {\n        const similarItem = summary.items[itemsByTag[i]];\n\n        if (similarItem.alias !== item.alias) {\n          all.add(similarItem);\n        }\n      }\n      return all;\n    }, new Set());\n\n    return Array.from(similarItems)\n      .sort((item, anotherItem) => timeOf(anotherItem.createdAt) - timeOf(item.createdAt));\n  }\n\n  async find(indexName, locale, value) {\n    const summary = await this._getSummary(locale);\n    const indexes = summary[indexName][value];\n\n    if (!indexes || !indexes.length) {\n      throw notFoundError(`Cannot find content by \"${value}\" using \"${indexName}\"`);\n    }\n\n    return summary.items[indexes[0]];\n  }\n\n  _analyzeTags(tags, tagNames) {\n    let minCount = 0;\n    let maxCount = 0;\n\n    for (let i = 0; i < tagNames.length; i++) {\n      const count = tags[tagNames[i]].length;\n\n      if (count < minCount) {\n        minCount = count;\n      }\n\n      if (count > maxCount) {\n        maxCount = count;\n      }\n    }\n\n    return { maxCount, minCount };\n  }\n\n  async getPopularTags(locale) {\n    const summary = await this._getSummary(locale);\n    const tags = Object.keys(summary.byTags);\n    const { maxCount, minCount } = this._analyzeTags(summary.byTags, tags);\n    const diff = maxCount - minCount;\n\n    return tags\n      .map((name) => ({\n        name,\n        weight: 1 - (maxCount - summary.byTags[name].length) / diff,\n        count: summary.byTags[name].length\n      }))\n      .filter(tag => tag.weight >= 0.1)\n      .slice(0, 30);\n  }\n\n  async at(locale, index) {\n    const { items } = await this._getSummary(locale);\n    return items[index];\n  }\n\n  async _loadSearchIndex(locale) {\n    const indexUrl = this._searchIndexes[locale];\n    const response = await fetch(indexUrl);\n    return MiniSearch.loadJS(response.body, searchOptions);\n  }\n\n  async search(locale, query, options) {\n    const [searchIndex, summary] = await Promise.all([\n      this._loadSearchIndex(locale),\n      this._getSummary(locale)\n    ]);\n    return searchIndex.search(query, options)\n      .slice(0, 15)\n      .map((result) => {\n        const [index] = summary.byId[result.id];\n        result.doc = summary.items[index];\n        result.hints = markHints(result);\n        return result;\n      });\n  }\n}\n","export var pages = {\"ru\": {\"about\": import.meta.ROLLUP_FILE_URL_0f9a297a,\n\"notfound\": import.meta.ROLLUP_FILE_URL_f2663564},\n\"uk\": {\"about\": import.meta.ROLLUP_FILE_URL_3e491da2}};\nexport var summaries = {\"ru\": import.meta.ROLLUP_FILE_URL_a67b6f0b,\n\"uk\": import.meta.ROLLUP_FILE_URL_8029d924};;\nexport var searchIndexes = {\"ru\": import.meta.ROLLUP_FILE_URL_0c034826,\n\"uk\": import.meta.ROLLUP_FILE_URL_9b945dd7};","export var pages = {\"ru\": {\"sjfilemanager-konfighuriruem-failovyi-menedzher\": import.meta.ROLLUP_FILE_URL_160d29c0,\n\"magento-sozdanie-crud-modulya\": import.meta.ROLLUP_FILE_URL_b9e352cb,\n\"magento-backend-sozdanie-crud-modulya\": import.meta.ROLLUP_FILE_URL_be97c2b3,\n\"magento-backend-gruzim-kartinku-cherez-adminku\": import.meta.ROLLUP_FILE_URL_c36fd6ee,\n\"magento-eav-ili-druzhim-tsitatu-s-produktom\": import.meta.ROLLUP_FILE_URL_7b139d95,\n\"kolektsioniruem-dannye-ili-uchim-doctrine-delat-multiple-insert\": import.meta.ROLLUP_FILE_URL_97b3a404,\n\"one-by-one-ili-parsim-huge-xml\": import.meta.ROLLUP_FILE_URL_c656f488,\n\"magento-dobavlyaem-kommentarij-k-zakazu\": import.meta.ROLLUP_FILE_URL_e968b8af,\n\"ajax-avtorizatsiya-i-registratsiya-v-magento\": import.meta.ROLLUP_FILE_URL_98dac54e,\n\"bloki-kak-vyvesti-spisok-vsekh-novinok-ili-spets-predlozhenii-v-magento\": import.meta.ROLLUP_FILE_URL_85142711,\n\"bannery-v-magento-ili-delaem-staticheskie-bloki-poleznymi\": import.meta.ROLLUP_FILE_URL_d08bebac,\n\"stranitsy-vsekh-novinok-i-spets-predlozhenij-s-filtrami-v-magento\": import.meta.ROLLUP_FILE_URL_6c1ba520,\n\"symfony-14-mirim-i18n-i-searchable-doctrine-12-shablony\": import.meta.ROLLUP_FILE_URL_75e0bd28,\n\"chtenie-direktorij-i-poisk-fajlov-v-php\": import.meta.ROLLUP_FILE_URL_db617b84,\n\"magento-import-eksport-cli-terminal-versiya\": import.meta.ROLLUP_FILE_URL_140ec40f,\n\"magento-konfighuratsiia-ot-a-do-ia-layout-updates\": import.meta.ROLLUP_FILE_URL_52ac2365,\n\"magento-konfighuratsiia-ot-a-do-ia-bazovye-nastroiki-modulia\": import.meta.ROLLUP_FILE_URL_6d2629d3,\n\"magento-konfiguratsiya-ot-a-do-ya-systemxml\": import.meta.ROLLUP_FILE_URL_935ddd08,\n\"magento-modeli-ot-a-do-ya-3-kita\": import.meta.ROLLUP_FILE_URL_9515ba35,\n\"magento-modeli-ot-a-do-ya-modeli-yadra\": import.meta.ROLLUP_FILE_URL_a1fd3245,\n\"magento-modeli-ot-a-do-ya-sobytiya-i-rewrite-klassov\": import.meta.ROLLUP_FILE_URL_e0fe4b47,\n\"upravlenie-prostranstvom-i-vremenem-magento-cron-esli-prosto\": import.meta.ROLLUP_FILE_URL_15556fb7,\n\"internatsionalizatsiya-v-magento\": import.meta.ROLLUP_FILE_URL_4e393c8e,\n\"vvedenie-rubyrack\": import.meta.ROLLUP_FILE_URL_3250754d,\n\"generiruem-krasivyj-otchet-iz-junit-xml-pri-pomoschi-xslt\": import.meta.ROLLUP_FILE_URL_ca10578e,\n\"kak-uskorit-magento-1x-v-2-raza-pri-pomoschi-php-7\": import.meta.ROLLUP_FILE_URL_1d903a7d,\n\"nastrojka-fastlane-dlya-ionic\": import.meta.ROLLUP_FILE_URL_702b7aa8,\n\"kak-keshirovat-client-side-perevody-v-magento\": import.meta.ROLLUP_FILE_URL_737953b7,\n\"kak-vklyuchit-kapchu-v-magento-1x\": import.meta.ROLLUP_FILE_URL_9ccf6d07,\n\"kak-vklyuchit-google-recaptcha-v-magento-1x\": import.meta.ROLLUP_FILE_URL_7746aba0,\n\"kak-podklyuchit-google-recaptcha-na-lyubuyu-formu-v-magento\": import.meta.ROLLUP_FILE_URL_5c634984,\n\"optimiziruem-servernuyu-chast-magento-1x\": import.meta.ROLLUP_FILE_URL_28432639,\n\"optimizatsiya-zagruzki-stranitsy-v-magento-1x\": import.meta.ROLLUP_FILE_URL_0f0df70f,\n\"3g-mts-konnekt-nactrojka-zte-ac5710-modema-pod-linux\": import.meta.ROLLUP_FILE_URL_18ed02c9,\n\"chto-nuzhno-znat-novichku-v-linux\": import.meta.ROLLUP_FILE_URL_f129d474,\n\"chto-nuzhno-znat-novichku-v-linux-ls-l-ili-naznachenie-osnovnykh-direktorij\": import.meta.ROLLUP_FILE_URL_bc242e49,\n\"chto-nuzhno-znat-novichku-v-linux-manipulyatsiya-fajlami\": import.meta.ROLLUP_FILE_URL_6e5490e5,\n\"chto-nuzhno-znat-novichku-v-linux-i-o-pereadresatsiya\": import.meta.ROLLUP_FILE_URL_63b324fd,\n\"chto-nuzhno-znat-novichku-v-linux-prava-dostupa\": import.meta.ROLLUP_FILE_URL_32c6f5b5,\n\"chto-nuzhno-znat-novichku-v-linux-upravlenie-zadachami\": import.meta.ROLLUP_FILE_URL_e31e65a7,\n\"uchimsya-programmirovat-v-shell\": import.meta.ROLLUP_FILE_URL_d82f8fdf,\n\"uchimsya-programmirovat-v-shell-funktsii\": import.meta.ROLLUP_FILE_URL_fee77e3d,\n\"uchimsya-programmirovat-v-shell-manipulyatsii-s-peremennymi\": import.meta.ROLLUP_FILE_URL_9ec06e85,\n\"uchimsya-programmirovat-v-shell-upravlyayuschie-konstruktsii\": import.meta.ROLLUP_FILE_URL_2f579b27,\n\"uchimsya-programmirovat-v-shell-i-o-pereadresatsiya-chast-2\": import.meta.ROLLUP_FILE_URL_d5a103f0,\n\"uchimsya-programmirovat-v-shell-upravlyayuschie-konstruktsii-chast-2\": import.meta.ROLLUP_FILE_URL_ead83c24,\n\"uchimsya-programmirovat-v-shell-osnovnye-oshibki-i-metody-ustraneniya\": import.meta.ROLLUP_FILE_URL_4e9ac49f,\n\"uchimsya-programmirovat-v-shell-obrabotka-oshibok\": import.meta.ROLLUP_FILE_URL_4fef1425,\n\"uchimsya-programmirovat-v-shell-obrabotka-signalov\": import.meta.ROLLUP_FILE_URL_e106e7db,\n\"vklyuchaem-http-keshirovanie-v-nginx-i-apache2\": import.meta.ROLLUP_FILE_URL_de402d09,\n\"sjfilemanager-besplatnyi-ajax-fail-menedzher\": import.meta.ROLLUP_FILE_URL_d875b99b,\n\"delaem-syntax-highlighter-plugin-dlya-tinymce\": import.meta.ROLLUP_FILE_URL_9226621f,\n\"ajax-formy-v-magento\": import.meta.ROLLUP_FILE_URL_9b478595,\n\"sjfilemanager-evolyutsiya-php-ajax-fajlovyj-menedzher\": import.meta.ROLLUP_FILE_URL_9e00937f,\n\"vvedenie-v-knockout-novyj-vzglyad-na-postroenie-javascript-prilozhenij\": import.meta.ROLLUP_FILE_URL_fd108628,\n\"knockout-nablyudaem-za-vsem-i-vezde\": import.meta.ROLLUP_FILE_URL_259eb0d5,\n\"sostavnye-nablyudateli-v-knockout\": import.meta.ROLLUP_FILE_URL_b608dbcf,\n\"nablyudaemye-massivy-v-knockout\": import.meta.ROLLUP_FILE_URL_722cb3a2,\n\"bajndingi-v-knockout-upravlenie-vidimostyu-i-soderzhimym\": import.meta.ROLLUP_FILE_URL_fefd4c54,\n\"upravlyayuschie-konstruktsii-v-knockout\": import.meta.ROLLUP_FILE_URL_4fad12db,\n\"obrabotka-sobytij-i-rabota-s-polyami-form-v-knockout\": import.meta.ROLLUP_FILE_URL_49052f78,\n\"sozdanie-custom-bajndingov-v-knockout\": import.meta.ROLLUP_FILE_URL_0d6ae288,\n\"best-practisies-v-knockout-uproschaem-view\": import.meta.ROLLUP_FILE_URL_bb0d2bc3,\n\"borba-so-spamom-pri-pomoschi-canvas\": import.meta.ROLLUP_FILE_URL_50a23d76,\n\"minifikatsiya-javascript-v-magento-1x\": import.meta.ROLLUP_FILE_URL_fa739e15,\n\"arkhitektura-frontend-prilozheniya\": import.meta.ROLLUP_FILE_URL_ee9bb5bd,\n\"avtorizatsiya-v-angular2\": import.meta.ROLLUP_FILE_URL_f0626f8b,\n\"avtorizatsiya-v-javascript\": import.meta.ROLLUP_FILE_URL_d7354680,\n\"circuit-breaker-shablon-na-klientskoj-storone\": import.meta.ROLLUP_FILE_URL_74002ada,\n\"droblenie-na-moduli-v-angular2\": import.meta.ROLLUP_FILE_URL_e99661bc,\n\"e2e-testirovanie-razbivaem-stranitsu-na-fragmenty\": import.meta.ROLLUP_FILE_URL_163901fe,\n\"integratsiya-fastlane-s-hockeyapp\": import.meta.ROLLUP_FILE_URL_c386540d,\n\"integratsiya-fastlane-s-testflight\": import.meta.ROLLUP_FILE_URL_96eede5c,\n\"kak-vypustit-ionic-prilozhenie-v-appstore\": import.meta.ROLLUP_FILE_URL_aa100de0,\n\"kak-vypustit-ionic-prilozhenie-v-googleplay\": import.meta.ROLLUP_FILE_URL_b1f018b4,\n\"offline-prilozhenie-na-baze-angular2-i-js-data\": import.meta.ROLLUP_FILE_URL_952068d0,\n\"struktura-papok-dlya-sovremennogo-javascript-prilozheniya\": import.meta.ROLLUP_FILE_URL_f49e2b12,\n\"template-driven-modalki-v-angular2\": import.meta.ROLLUP_FILE_URL_70faee6a,\n\"testirovanie-s-protractorjs\": import.meta.ROLLUP_FILE_URL_e82e9107,\n\"integratsiya-mobile-friendly-slajdera-v-magento\": import.meta.ROLLUP_FILE_URL_2e77e4cf,\n\"progressivnyj-internet-magazin-service-worker-v-magento\": import.meta.ROLLUP_FILE_URL_452efa29,\n\"kak-tegirovat-testy-protractor-s-mocha-i-jasmine\": import.meta.ROLLUP_FILE_URL_92e4b2ab,\n\"chto-takoe-zonejs\": import.meta.ROLLUP_FILE_URL_40447068,\n\"chto-takoe-casl-ili-kak-vnedrit-proverku-prav-dostupa-v-vashe-prilozhenie\": import.meta.ROLLUP_FILE_URL_f8edd017,\n\"upravlenie-pravami-dostupa-v-expressjs-pri-pomoschi-casl\": import.meta.ROLLUP_FILE_URL_fe30a85d,\n\"casl-i-cancan-kak-rassharit-prava-dostupa-mezhdu-ui-i-api\": import.meta.ROLLUP_FILE_URL_35639540}};\nexport var summaries = {\"ru\": import.meta.ROLLUP_FILE_URL_a3f47f99};;\nexport var searchIndexes = {\"ru\": import.meta.ROLLUP_FILE_URL_d214f01d};","import ContentType from './ContentType';\nimport * as pagesDetails from '../content/pages.pages';\nimport * as articlesDetails from '../content/articles.pages';\n\nconst contentTypes = {\n  page: new ContentType(pagesDetails),\n  article: new ContentType(articlesDetails),\n};\n\nexport default (type) => {\n  const contentLoader = contentTypes[type];\n\n  if (!contentLoader) {\n    throw new TypeError(`Unknown content loader \"${type}\".`);\n  }\n\n  return contentLoader;\n};\n","import { html } from 'lit-element';\nimport content from './content';\n\nfunction respondWithError(error) {\n  if (error.code === 'NOT_FOUND') {\n    return {\n      body: {\n        main: html`<app-page name=\"notfound\"></app-page>`\n      }\n    };\n  }\n\n  throw error;\n}\n\nconst identity = x => x;\nexport const loadPages = (type, transformParams = identity) => async (match) => {\n  const vars = await transformParams(match);\n  const loader = content(type);\n\n  if (typeof vars.id === 'string' && vars.id.endsWith('/')) {\n    vars.redirectTo = vars.id.slice(0, -1);\n  } else if (vars.id) {\n    vars.page = await loader.load(vars.lang, vars.id);\n  }\n\n  return vars;\n};\n\nexport const respondWithPage = render => ({ match, error, resolved }) => {\n  if (error) {\n    return respondWithError(error);\n  } if (resolved.redirectTo) {\n    return {\n      redirect: {\n        name: 'page',\n        params: {\n          id: resolved.redirectTo,\n          lang: match.params.lang,\n        }\n      }\n    };\n  }\n\n  return { body: render(resolved, match.params) };\n};\n\nexport const renderArticles = respondWithPage((vars) => {\n  if (vars.page) {\n    return {\n      main: html`<fi-page-article .page=\"${vars.page}\"></fi-page-article>`\n    };\n  }\n\n  return {\n    main: html`<fi-page-articles .categories=\"${vars.categories}\"></fi-page-articles>`,\n  };\n});\n\nexport const renderPage = respondWithPage(vars => ({\n  main: html`<app-page name=\"${vars.id}\"></app-page>`,\n}));\n","/**\n * Interpolates the values into the string.\n * @param text\n * @param values\n * @param config\n */\nexport function interpolate(text, values, config) {\n    return Object.entries(extract(values || {})).reduce((text, [key, value]) => text.replace(new RegExp(`{{[  ]*${key}[  ]*}}`, `gm`), String(extract(value))), text);\n}\n/**\n * Returns a string based on a chain of keys using the dot notation.\n * @param key\n * @param config\n */\nexport function lookup(key, config) {\n    // Split the key in parts (example: hello.world)\n    const parts = key.split(\".\");\n    // Find the string by traversing through the strings matching the chain of keys\n    let string = config.strings;\n    // Shift through all of the parts of the key while matching with the strings.\n    // Do not continue if the string is not defined or if we have traversed all of the key parts\n    while (string != null && parts.length > 0) {\n        string = string[parts.shift()];\n    }\n    // Make sure the string is in fact a string!\n    return string != null ? string.toString() : null;\n}\n/**\n * Extracts either the value from the function or returns the value that was passed in.\n * @param obj\n */\nexport function extract(obj) {\n    return (typeof obj === \"function\") ? obj() : obj;\n}\n//# sourceMappingURL=helpers.js.map","import { LANG_CHANGED_EVENT } from \"./config\";\nimport { extract, interpolate, lookup } from \"./helpers\";\n/**\n * Default configuration object.\n */\nexport const defaultTranslateConfig = () => {\n    return {\n        loader: () => Promise.resolve({}),\n        empty: key => `[${key}]`,\n        lookup: lookup,\n        interpolate: interpolate,\n        translationCache: {}\n    };\n};\n// The current configuration.\nexport let translateConfig = defaultTranslateConfig();\n/**\n * Registers a translation config.\n * @param config\n */\nexport function registerTranslateConfig(config) {\n    return (translateConfig = Object.assign(Object.assign({}, translateConfig), config));\n}\n/**\n * Dispatches a language changed event.\n * @param detail\n */\nexport function dispatchLangChanged(detail) {\n    window.dispatchEvent(new CustomEvent(LANG_CHANGED_EVENT, { detail }));\n}\n/**\n * Updates the configuration object with a new language and strings.\n * Then dispatches that the language has changed.\n * @param newLang\n * @param newStrings\n * @param config\n */\nexport function updateLang(newLang, newStrings, config = translateConfig) {\n    dispatchLangChanged({\n        previousStrings: config.strings,\n        previousLang: config.lang,\n        lang: (config.lang = newLang),\n        strings: (config.strings = newStrings)\n    });\n}\n/**\n * Listens for changes in the language.\n * Returns a method for unsubscribing from the event.\n * @param callback\n * @param options\n */\nexport function listenForLangChanged(callback, options) {\n    const handler = (e) => callback(e.detail);\n    window.addEventListener(LANG_CHANGED_EVENT, handler, options);\n    return () => window.removeEventListener(LANG_CHANGED_EVENT, handler);\n}\n/**\n * Sets a new current language and dispatches a global language changed event.\n * @param lang\n * @param config\n */\nexport async function use(lang, config = translateConfig) {\n    // Load the translations and set the cache\n    const strings = await config.loader(lang, config);\n    config.translationCache = {};\n    // Dispatch global language changed event while setting the new values\n    updateLang(lang, strings, config);\n}\n/**\n * Translates a key and interpolates if values are defined.\n * Uses the current strings and translation cache to fetch the translation.\n * @param key (eg. \"common.get_started\")\n * @param values (eg. { count: 42 })\n * @param config\n */\nexport function get(key, values, config = translateConfig) {\n    // Either use the translation from the cache or get it and add it to the cache\n    let translation = config.translationCache[key]\n        || (config.translationCache[key] = config.lookup(key, config) || config.empty(key, config));\n    // Extract the values\n    values = values != null ? extract(values) : null;\n    // Interpolate the values and return the translation\n    return values != null ? config.interpolate(translation, values, config) : translation;\n}\n//# sourceMappingURL=util.js.map","export const CLEANUP_PARTS_MS = 1000 * 60;\nexport const LANG_CHANGED_EVENT = \"langChanged\";\n//# sourceMappingURL=config.js.map","import { NodePart, AttributePart } from \"lit-html\";\n/** #################################################################################\n ** The purpose of this module is to provide an API to clean up the node parts cache.\n ** This is to avoid memory leaks from parts being added and removed to the template.\n ** This is necessary since lit-html currently do not provide a way of cleaning up after a directive.\n ** In the ideal world we would be able to cache the parts in a weakmap, however that makes\n ** us unable to loop over the map which is required for updating the translations when the lang changes.\n ** This module will be obsolete the day lit-html provides a way of cleaning up after a directive\n ** ##################################################################################\n\n/**\n * Check whether the part is still connected / has been removed from the DOM.\n * @param part\n */\nexport function isConnected(part) {\n    if (part instanceof NodePart) {\n        return part.startNode.isConnected;\n    }\n    else if (part instanceof AttributePart) {\n        return part.committer.element.isConnected;\n    }\n    else {\n        return part.element.isConnected;\n    }\n}\n/**\n * Removes the disconnected parts from the cache.\n */\nexport function removeDisconnectedParts(map) {\n    for (const [part] of map) {\n        if (!isConnected(part)) {\n            map.delete(part);\n        }\n    }\n}\n/**\n * Invokes a callback when the browser is idle.\n * Fallback to setTimeout.\n * @param cb\n */\nexport function whenIdle(cb) {\n    \"requestIdleCallback\" in window ? window.requestIdleCallback(cb) : setTimeout(cb);\n}\n/**\n * Starts an interval that cleans up the part cache map each X ms.\n * @param map\n * @param ms\n */\nexport function attachPartsGarbageCollector(map, ms) {\n    setInterval(() => whenIdle(() => removeDisconnectedParts(map)), ms);\n}\n//# sourceMappingURL=cleanup.js.map","import { directive } from \"lit-html\";\nimport { attachPartsGarbageCollector, isConnected } from \"./cleanup\";\nimport { CLEANUP_PARTS_MS } from \"./config\";\nimport { listenForLangChanged } from \"./util\";\n// Caches the parts and the translations.\n// In the ideal world this would be a weakmap, but it is not possible to loop over weakmaps.\n// This is the best solution until lit-html provides an API to clean up after directives.\nexport const partCache = new Map();\n/**\n * Listens for changes in the language and updates all of the cached parts if necessary\n */\nfunction attachTranslateListener() {\n    listenForLangChanged((e) => {\n        for (const [part, cb] of partCache) {\n            if (isConnected(part)) {\n                updatePart(part, cb, e);\n            }\n        }\n    });\n}\nattachTranslateListener();\nattachPartsGarbageCollector(partCache, CLEANUP_PARTS_MS);\n/**\n * Handles the translation.\n * @param part\n * @param cb\n * @param e\n */\nfunction updatePart(part, cb, e) {\n    // Grab the new value\n    const newValue = cb(e);\n    // Only set the value if it has changed\n    if (part.value === newValue) {\n        return;\n    }\n    // Set the new value\n    part.setValue(newValue);\n    part.commit();\n}\n/**\n * A lit directive that invokes the callback when the language changes.\n * @param key\n * @param values\n * @param listen\n */\nexport const langChanged = directive((cb) => (part) => {\n    partCache.set(part, cb);\n    updatePart(part, cb);\n});\n//# sourceMappingURL=directive.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isPrimitive } from '../lib/parts.js';\nimport { directive, NodePart } from '../lit-html.js';\n// For each part, remember the value that was last rendered to the part by the\n// unsafeHTML directive, and the DocumentFragment that was last set as a value.\n// The DocumentFragment is used as a unique key to check if the last value\n// rendered to the part was with unsafeHTML. If not, we'll always re-render the\n// value passed to unsafeHTML.\nconst previousValues = new WeakMap();\n/**\n * Renders the result as HTML, rather than text.\n *\n * Note, this is unsafe to use with any user-provided input that hasn't been\n * sanitized or escaped, as it may lead to cross-site-scripting\n * vulnerabilities.\n */\nexport const unsafeHTML = directive((value) => (part) => {\n    if (!(part instanceof NodePart)) {\n        throw new Error('unsafeHTML can only be used in text bindings');\n    }\n    const previousValue = previousValues.get(part);\n    if (previousValue !== undefined && isPrimitive(value) &&\n        value === previousValue.value && part.value === previousValue.fragment) {\n        return;\n    }\n    const template = document.createElement('template');\n    template.innerHTML = value; // innerHTML casts to string internally\n    const fragment = document.importNode(template.content, true);\n    part.setValue(fragment);\n    previousValues.set(part, { value, fragment });\n});\n//# sourceMappingURL=unsafe-html.js.map","export var pages = {\"ru\": {\"default\": import.meta.ROLLUP_FILE_URL_6025a122},\n\"uk\": {\"default\": import.meta.ROLLUP_FILE_URL_7be7167e}};\n","import { registerTranslateConfig, use, get, listenForLangChanged } from 'lit-translate';\nimport { memoize } from './utils';\nimport { fetch } from './http';\nimport { pages as langUrls } from '../content/app.i18n';\n\nfunction lookup(path, config) {\n  const keys = path.split('.');\n  let pointer = config.strings;\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n\n    if (!pointer || !pointer[key]) {\n      return undefined;\n    }\n\n    pointer = pointer[key];\n  }\n\n  return pointer;\n}\n\nfunction missingKey(path) {\n  console.warn(`missing i18n key: ${path}`); // eslint-disable-line no-console\n  return path;\n}\n\nconst VAR_REGEXP = /%\\{(\\w+)\\}/g;\n\nexport function interpolate(string, vars) {\n  return string.replace(VAR_REGEXP, (_, varName) => vars[varName]);\n}\n\nconst i18n = registerTranslateConfig({\n  async loader(lang) {\n    const response = await fetch(langUrls[lang].default);\n    return response.body;\n  },\n  lookup,\n  interpolate,\n  empty: missingKey,\n});\n\nconst dateTime = memoize((locale, format) => new Intl.DateTimeFormat(locale, get(`dateTimeFormats.${format}`)));\n\nexport const LOCALES = process.env.SUPPORTED_LANGS;\n\nexport const defaultLocale = LOCALES[0];\n\nexport const locale = () => i18n.lang;\n\nexport const t = get;\n\nexport const translationExists = key => !!lookup(key, i18n);\n\nexport function setLocale(lang) {\n  if (!LOCALES.includes(lang)) {\n    throw new Error(`Locale ${lang} is not supported. Supported: ${LOCALES.join(', ')}`);\n  }\n\n  return use(lang);\n}\n\nexport function d(date, format = 'default') {\n  const actualDate = typeof date === 'string' ? new Date(date) : date;\n  return dateTime(i18n.lang, format).format(actualDate);\n}\n\nexport {\n  listenForLangChanged\n};\n","import { html } from 'lit-element';\nimport { loadPages, renderPage, renderArticles } from '../services/pageController';\nimport { interpolate } from '../services/utils';\nimport { LOCALES, defaultLocale } from '../services/i18n';\nimport routes from './routes.yml';\n\nexport default {\n  About: () => ({\n    respond: () => ({\n      body: {\n        main: html`<fi-page-about></fi-page-about>`\n      }\n    })\n  }),\n  Article(route) {\n    const categories = route.meta ? route.meta.categories : [];\n    const normalize = (rawId) => {\n      if (!rawId) {\n        return;\n      }\n\n      if (!rawId.startsWith('show-')) {\n        return rawId;\n      }\n\n      return rawId.replace(/^show-\\d+-+/, '')\n        .replace(/-{2,}/g, '-')\n        .replace(/-$/, '');\n    };\n\n    return {\n      resolve: loadPages('article', async ({ params }) => ({\n        ...params,\n        categories,\n        id: normalize(params.id)\n      })),\n      respond: renderArticles,\n    };\n  },\n  Page(route) {\n    const categories = route.meta ? route.meta.categories : [];\n\n    return {\n      resolve: loadPages('page', ({ params }) => ({\n        ...params,\n        categories,\n        id: interpolate(route.path, params),\n      })),\n      respond: renderPage,\n    };\n  },\n  NotFound: () => ({\n    respond: ({ match }) => {\n      const { pathname } = match.location;\n      const index = pathname.indexOf('/', 1);\n      const lang = index === -1 ? pathname.slice(1) : pathname.slice(1, index);\n      const { search: query, hash } = window.location;\n\n      if (routes.redirects[lang]) {\n        const prefix = index === - 1 ? '' : pathname.slice(index);\n        const url = routes.redirects[lang] + prefix + query + hash;\n        return {\n          redirect: { url }\n        };\n      }\n\n      if (!LOCALES.includes(lang)) {\n        return {\n          redirect: { url: `/${defaultLocale}${pathname}${query}${hash}` }\n        };\n      }\n\n      return {\n        body: html`<app-page name=\"notfound\"></app-page>`\n      };\n    }\n  })\n};\n","export function parse(querystring) {\n  return querystring\n    ? JSON.parse(`{\"${querystring.replace(/&/g, '\",\"').replace(/=/g, '\":\"')}\"}`)\n    : {};\n}\n\nexport function stringify(querystring) {\n  if (!querystring) {\n    return '';\n  }\n\n  return Object.keys(querystring)\n    .reduce((qs, key) => {\n      qs.push(`${key}=${querystring[key]}`);\n      return qs;\n    }, [])\n    .join('&');\n}\n","import { prepareRoutes, createRouter } from '@curi/router';\nimport { browser, createBase } from '@hickory/browser';\nimport routesConfig from '../config/routes.yml';\nimport controllers from '../config/controllers';\nimport config from '../config/app';\nimport { locale } from './i18n';\nimport * as queryString from './querystring';\n\nfunction buildPath(rawRoute) {\n  if (!rawRoute.restrictions) {\n    return rawRoute.path;\n  }\n\n  return rawRoute.path.replace(/:([\\w_-]+)(\\?)?/g, (_, name, questionMark = '') => {\n    const restriction = rawRoute.restrictions[name];\n    return restriction ? `:${name}(${restriction})${questionMark}` : name + questionMark;\n  });\n}\n\nfunction buildRoutes(rawRoutes, controllers) {\n  return rawRoutes.map((rawRoute) => {\n    if (rawRoute.redirect) {\n      return {\n        name: rawRoute.name,\n        path: buildPath(rawRoute),\n        respond: () => ({ redirect: rawRoute.redirect })\n      };\n    }\n\n    const buildController = controllers[rawRoute.controller];\n\n    if (!buildController) {\n      throw new Error(`Did you forget to specify controller for route \"${rawRoute.name}\"?`);\n    }\n\n    const route = {\n      name: rawRoute.name,\n      path: buildPath(rawRoute),\n      ...buildController(rawRoute),\n    };\n\n    if (rawRoute.meta && rawRoute.meta.encode === false) {\n      route.pathOptions = {\n        compile: { encode: x => x }\n      };\n    }\n\n    if (rawRoute.children) {\n      route.children = buildRoutes(rawRoute.children, controllers);\n    }\n\n    return route;\n  });\n}\n\nconst routes = buildRoutes(routesConfig.routes, controllers).concat({\n  name: 'notFound',\n  path: '(.*)',\n  respond: controllers.NotFound().respond\n});\nconst router = createRouter(browser, prepareRoutes(routes), {\n  history: {\n    base: config.baseUrl ? createBase(config.baseUrl) : undefined,\n    query: queryString\n  }\n});\n\nconst originalUrl = router.url;\nrouter.url = (options) => {\n  const params = { lang: locale(), ...options.params };\n  return originalUrl({ ...options, params });\n};\n\nif ('scrollRestoration' in window.history) {\n  window.history.scrollRestoration = 'manual';\n}\n\nexport default router;\n","var pathname = function (route, params) {\r\n    return route.methods.pathname(params);\r\n};\r\nvar find = function (name, children) {\r\n    return children.some(function (node) {\r\n        if (node.name === name) {\r\n            return true;\r\n        }\r\n        else if (node.children) {\r\n            return find(name, node.children);\r\n        }\r\n        return false;\r\n    });\r\n};\r\nvar active = function (route, response, options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (response.name !== route.name &&\r\n        (!options.partial || !find(response.name, route.children))) {\r\n        return false;\r\n    }\r\n    var keys = route.keys;\r\n    if (keys.length) {\r\n        if (!options.params) {\r\n            return false;\r\n        }\r\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n            var key = keys_1[_i];\r\n            var param = options.params[key];\r\n            if (!param || param !== response.params[key]) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    if (options.components) {\r\n        return options.components(response.location);\r\n    }\r\n    return true;\r\n};\r\nvar ancestors = function (route) {\r\n    var ancestors = [];\r\n    var parent = route.parent;\r\n    while (parent !== undefined) {\r\n        ancestors.unshift(parent);\r\n        parent = parent.parent;\r\n    }\r\n    return ancestors;\r\n};\r\nvar prefetch = function (route, options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (!route.methods.resolve) {\r\n        return Promise.resolve({\r\n            resolved: null,\r\n            error: \"Could not prefetch data for \" + route.name + \" because it does not have a resolve function.\"\r\n        });\r\n    }\r\n    return route.methods\r\n        .resolve(options.match, options.external)\r\n        .then(function (resolved) { return ({ resolved: resolved, error: null }); }, function (error) { return ({ error: error, resolved: null }); });\r\n};\n\nexport { active, ancestors, pathname, prefetch };\n","import { css } from 'lit-element';\n\nexport default css`\n  .row {\n    display: flex;\n  }\n\n  .col {\n    flex-grow: 1;\n    flex-basis: 0;\n    max-width: 100%;\n  }\n`;\n","import { LitElement, html, css } from 'lit-element';\nimport { topMenu, menu } from '../config/menu.yml';\nimport router from '../services/router';\nimport gridCss from '../styles/grid';\n\nfunction createNotificationsRoot() {\n  const root = document.createElement('div');\n\n  Object.assign(root.style, {\n    position: 'fixed',\n    right: '10px',\n    bottom: '10px',\n    zIndex: 50,\n    width: '320px'\n  });\n  document.body.appendChild(root);\n  return root;\n}\n\nexport default class App extends LitElement {\n  static cName = 'fi-app';\n  static properties = {\n    ready: { type: Boolean }\n  };\n\n  constructor() {\n    super();\n    this._route = null;\n    this.ready = false;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    router.observe((route) => {\n      this._route = route.response;\n      this.requestUpdate();\n    }, { initial: true });\n  }\n\n  notify(message, options = {}) {\n    const notification = document.createElement('app-notification');\n\n    notification.message = message;\n\n    if (typeof options.onClick === 'function') {\n      notification.addEventListener('click', options.onClick, false);\n    }\n\n    this._notificationsRoot = this._notificationsRoot || createNotificationsRoot();\n    this._notificationsRoot.appendChild(notification);\n  }\n\n  render() {\n    if (!this._route || !this.ready) {\n      return html``;\n    }\n\n    return html`\n      <div class=\"wrapper\">\n        <fi-header .items=\"${topMenu}\"></fi-header>\n        <fi-menu .items=\"${menu}\" .activeItem=\"${this._route.name}\"></fi-menu>\n        <section class=\"row content\" id=\"content\">\n          <main>${this._route.body.main}</main>\n          <aside>\n            <fi-search-block reset-after-search></fi-search-block>\n            <fi-popular-articles></fi-popular-articles>\n            <fi-popular-tags></fi-popular-tags>\n          </aside>\n        </section>\n      </div>\n      <fi-footer></fi-footer>\n    `;\n  }\n}\n\nApp.styles = [\n  gridCss,\n  css`\n    :host {\n      display: block;\n    }\n\n    fi-menu {\n      margin-top: 50px;\n    }\n\n    .wrapper {\n      padding: 0 40px;\n    }\n\n    .content {\n      margin-top: 35px;\n    }\n\n    .content > main {\n      flex-basis: 70%;\n      max-width: 70%;\n    }\n\n    .content > aside {\n      flex-basis: 30%;\n      max-width: 30%;\n      padding-left: 20px;\n    }\n  `\n];\n","import { directive } from 'lit-html';\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html';\nimport { langChanged, get, translate } from 'lit-translate';\nimport { d as formatDate } from '../services/i18n';\n\nexport const d = directive((date, format) => (part) => {\n  const value = formatDate(date, format);\n\n  if (part.value !== value) {\n    part.setValue(value);\n  }\n});\n\nexport const t = translate;\n\nexport const ut = directive((key, values) => langChanged(() => unsafeHTML(get(key, values))));\n","import { langChanged } from \"../directive\";\nimport { get } from \"../util\";\n/**\n * A lit directive that updates the translation when the language changes.\n * @param key\n * @param values\n * @param config\n */\nexport const translate = (key, values, config) => langChanged(() => get(key, values, config));\n//# sourceMappingURL=translate.js.map","import { LitElement, html, css } from 'lit-element';\nimport { ut } from '../directives/i18n';\n\nexport default class AppNotification extends LitElement {\n  static cName = 'app-notification';\n  static properties = {\n    type: { type: String },\n    message: { type: String }\n  };\n\n  constructor() {\n    super();\n    this.type = 'info';\n    this.message = '';\n  }\n\n  render() {\n    return html`${ut(this.message)}`;\n  }\n}\n\nAppNotification.styles = css`\n  :host {\n    display: block;\n    background: rgb(29, 31, 33);\n    border-radius: 7px;\n    padding: 1rem;\n    color: #fff;\n    cursor: pointer;\n  }\n`;\n","import { css } from 'lit-element';\n\nexport default css`\n  .block {\n    border-radius: 5px;\n    box-shadow: 0px 0px 20px #EAEEEF;\n    margin-bottom: 20px;\n    font-size: 12px;\n    padding: 20px 10px 20px 20px;\n  }\n\n  .block .title {\n    color: #323232;\n    font-weight: normal;\n    font-size: 20px;\n    margin: 0;\n    margin-bottom: 20px;\n  }\n`;\n","import { css } from 'lit-element';\n\nexport default css`\n  .md pre {\n    overflow: auto;\n  }\n\n  .md a {\n    color: var(--app-link-active-color);\n  }\n`;\n","import { LitElement, html, css } from 'lit-element';\nimport blockCss from '../styles/block';\nimport mdCss from '../styles/md';\nimport { t, ut } from '../directives/i18n';\n\nexport default class Block extends LitElement {\n  static cName = 'fi-block';\n  static properties = {\n    name: { type: String },\n    sticky: { type: Boolean },\n  };\n\n  constructor() {\n    super();\n    this.name = '';\n    this.sticky = false;\n  }\n\n  render() {\n    return html`\n      <section class=\"block\">\n        <h3 class=\"title\">${t(`blocks.${this.name}.title`)}</h3>\n        <div class=\"md\">${ut(`blocks.${this.name}.content`)}</div>\n      </section>\n    `;\n  }\n}\n\nBlock.styles = [\n  blockCss,\n  mdCss,\n  css`\n    :host {\n      display: block;\n    }\n\n    :host([sticky]) {\n      position: sticky;\n      top: 10px;\n    }\n  `\n]\n","import { LitElement, html, css, unsafeCSS } from 'lit-element';\nimport footerUrl from '../assets/footer.jpg';\nimport { t } from '../directives/i18n';\n\nexport default class Footer extends LitElement {\n  static cName = 'fi-footer';\n\n  year = new Date().getFullYear();\n\n  render() {\n    return html`\n      <p class=\"links\">\n        <a href=\"https://github.com/stalniy\" target=\"_blank\" rel=\"noopener\">\n          <svg aria-labelledby=\"simpleicons-github-icon\" role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#FFFFFF\" d=\"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12\"></path></svg>\n        </a>\n        <a href=\"https://twitter.com/sergiy_stotskiy\" target=\"_blank\" rel=\"noopener\">\n          <svg aria-labelledby=\"simpleicons-twitter-icon\" role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#FFFFFF\" d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"></path></svg>\n        </a>\n        <a href=\"https://medium.com/@sergiy.stotskiy\" target=\"_blank\" rel=\"noopener\">\n          <svg aria-labelledby=\"simpleicons-medium-icon\" role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#FFFFFF\" d=\"M2.846 6.36c.03-.295-.083-.586-.303-.784l-2.24-2.7v-.403H7.26l5.378 11.795 4.728-11.795H24v.403l-1.917 1.837c-.165.126-.247.333-.213.538v13.5c-.034.204.048.41.213.537l1.87 1.837v.403h-9.41v-.403l1.937-1.882c.19-.19.19-.246.19-.538V7.794l-5.39 13.688h-.727L4.278 7.794v9.174c-.052.386.076.774.347 1.053l2.52 3.06v.402H0v-.403l2.52-3.06c.27-.278.39-.67.326-1.052V6.36z\"></path></svg>\n        </a>\n        <a href=\"https://www.linkedin.com/in/sergii-stotskyi-b747ba23/\" target=\"_blank\" rel=\"noopener\">\n          <svg role=\"img\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"#FFFFFF\" d=\"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z\"/></svg>\n        </a>\n      </p>\n      <p class=\"copyright md\">${t('copyright', { year: this.year })}</p>\n    `;\n  }\n}\n\nFooter.styles = css`\n  :host {\n    --fi-footer-background: #838385;\n    --fi-footer-text-color: #fff;\n    --fi-footer-text-size: 13px;\n    --fi-footer-height: 100px;\n\n    display: block;\n    margin-top: 30px;\n    height: var(--fi-footer-height);\n    padding-top: 50px;\n    background: var(--fi-footer-background) url(${unsafeCSS(footerUrl)}) no-repeat center 0;\n    font-size: var(--fi-footer-text-size);\n    text-align: center;\n    color: var(--fi-footer-text-color);\n  }\n\n  .copyright {\n    text-shadow: #000 0 5px 3px;\n  }\n\n  .links svg {\n    width: 18px;\n    height: 18px;\n  }\n\n  .links a {\n    margin: 0 5px;\n    text-decoration: none;\n  }\n`;\n","export default \"data:image/jpeg;base64,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\"","import { css } from 'lit-element';\n\nexport default css`\n  article, .article {\n    margin-bottom: 30px;\n  }\n\n  article .summary,\n  .article .summary {\n    color: var(--fi-article-summary-color, #333);\n    padding-left: 5px;\n  }\n\n  article .summary img,\n  .article .summary img {\n    width: 100%;\n    max-height: 200px;\n    object-fit: cover;\n  }\n\n  article .title,\n  .article .title {\n    font-size: 22px;\n    color: var(--fi-article-title-color, #323232);\n    text-decoration: none;\n    font-weight: normal;\n    margin: 0;\n    margin-bottom: 10px;\n  }\n\n  article .title a,\n  .article .title a {\n    font-size: inherit;\n    color: inherit;\n  }\n`;\n","import { css } from 'lit-element';\n\nexport default css`\n  .form-group {\n    margin-bottom: 10px;\n    box-shadow: 0 0 20px #eaeeef;\n  }\n\n  .form-group.focused {\n    box-shadow: #769fa9 0 6px 20px;\n  }\n\n  input, textarea {\n    box-sizing: border-box;\n    width: 100%;\n    border: 0;\n    padding: 5px 10px;\n    font-size: 14px;\n    line-height: 20px;\n    color: #555555;\n    border-radius: 3px;\n  }\n\n  .btn {\n    background: #e9ebf1;\n    cursor: pointer;\n    vertical-align: middle;\n    display: inline-block;\n    padding: 5px 10px;\n    border-radius: 4px;\n    box-shadow: 1px 1px 2px rgba(0,0,0,0.2);\n    color: #666;\n    font-size: 13px;\n  }\n\n  .form-actions {\n    text-align: right;\n  }\n`;\n","import { css, unsafeCSS } from 'lit-element';\nimport iconIdea from '../assets/icon/idea.jpg';\n\nexport default css`\n.icon-idea {\n  display: inline-block;\n  margin-right: 10px;\n  background: url(${unsafeCSS(iconIdea)}) no-repeat 0 top;\n  vertical-align: middle;\n  width: 20px;\n  height: 33px;\n}\n\n.icon-idea.icon-sm {\n  background-image: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQIBAQIDAgECAwMCAgICAwMDAwMDAwMEAwQEBAQDBAQFBgYGBQQHBwgIBwcKCgoKCgwMDAwMDAwMDAz/2wBDAQICAgQDBAcEBAcKCAcICgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAiAAoDAREAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAABAYCAwcJ/8QANxAAAAMFBAYFDQAAAAAAAAAAAQIDAAQFBhESMTJhBxMUFzRTFRYzUlQhNTdBQ0RRcYGDkqHw/8QAGwEAAQUBAQAAAAAAAAAAAAAAAAECAwYIBAX/xAA4EQABAgMDBwYPAAAAAAAAAAABAAIDERIEBTEGMkFRUnGhFTRTYYHwBwgUFxghI0JDYoORsdHh/9oADAMBAAIRAxEAPwDtZF5hfX46kUF7USeymNqkyHMUCAF3kDK9sQZR5X2i3mJbzaokOK15pa1zgGAEykAfVLTPHSrrZ7E1kmUgg4qzetHOWHC/D2vN+eTS+kRe+w3m0sPidNhm9WYm8gwtZzuGpA6QZWOXSM6wtzXBF0i5iqGKAGqBhNZUs0qHqrTNvS8I3i83vfF+utN2RoUOxRiHRAXSe0k+0pbTIzzhoqJGAChu+/4UKBREBL24auqa0LqjLvhy8L0d9juNo7zb3N0DebeTfR2d/wA2Kr/KMba96rt17ktx2ao8o7hNMNUQBzQMbZklEyGNYEKDUxgthaC+yLXpcSjv1gnKHgtsxe8cm79sygbWnX/UsjwmkTSHCZ4hc+BIUESMeGRFQhnJYa6sia5hAbY1qFg1foz0i0XczK/eP5u6JuLf4i7HmxV+JIk7h3G5Dzl6YZe7DAPaY8Sn8XOrCE8/iyfrv2KP7L//2Q==');\n  width: 10px;\n  height: 17px;\n}\n\na:visited .icon-idea,\n.icon-idea.is-off {\n  background-position: 0 bottom;\n}\n\n.icon-comment {\n  display: inline-block;\n  background-image: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQIBAQIDAgECAwMCAgICAwMDAwMDAwMEAwQEBAQDBAQFBgYGBQQHBwgIBwcKCgoKCgwMDAwMDAwMDAz/2wBDAQICAgQDBAcEBAcKCAcICgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAQAA8DAREAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAgQFCf/EACQQAAMAAgEDAwUAAAAAAAAAAAECAwQFEQASFQYTIRQiMlGR/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDczG0Wvpg49UwIuzzDu/j43LMSeSXZlJPRAbLQ69Na1G18VqLYiofHRkfuypqQOGPdyDwR8c9BVl6ZzVhOOTHDu819taUFe4qCSOf70CWfrcx86WgXXwxpZBnX6hBSsanHsLGZKgFO5VH5D9jk/BIf/9k=');\n  background-repeat: no-repeat;\n  background-position: 0 center;\n  width: 15px;\n  height: 17px;\n  vertical-align: middle;\n}\n`;\n","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAMDAwMDAwQEBAQFBQUFBQcHBgYHBwsICQgJCAsRCwwLCwwLEQ8SDw4PEg8bFRMTFRsfGhkaHyYiIiYwLTA+PlQBAwMDAwMDBAQEBAUFBQUFBwcGBgcHCwgJCAkICxELDAsLDAsRDxIPDg8SDxsVExMVGx8aGRofJiIiJjAtMD4+VP/CABEIAEIAFAMBIgACEQEDEQH/xAAaAAEAAwADAAAAAAAAAAAAAAAGAgUHAAQJ/9oACAEBAAAAAPS6oUlYQ7pjT4CdDqjyg7EMyCatYZnr3DyH/8QAGgEAAgIDAAAAAAAAAAAAAAAAAAEEBQYHCP/aAAgBAhAAAADmbL6recxoD//EABoBAAICAwAAAAAAAAAAAAAAAAABAgMEBQb/2gAIAQMQAAAA6TBu0sUwP//EACsQAAICAQIFAgUFAAAAAAAAAAECAxEEAAUSISIxUQYTEDJBcYEUIzNCkf/aAAgBAQABPwDPzpXlaCFuELyZh30ZsvGYOszX4JsHWDmR5uOslhT2YeCNe6Y55Q/zB2vWTOrDWFDlyxu0Q6eOvzWvUeMYHXLj7P0v9/odCSSd1iQWzEAawcVcLFSFaNDmfJPc63OIS4Uy8AkPAaWrsjXpxVl3AfsClUktRPD/AL8M/PljcwY/8n9m71fb86/VbltztJG69RtlKrTHyarWBuUGfirKAFayrKWqiNRZQTOn9z5vde7++tyzInQ1WpMjKEj+yX4b58PnXq6B8KRM+Najl6ZB4b6H7HU26tJ0rZJ5DWx7NFg7dGk8aPM/XJYBpm+nPxrd8aDL2zKimTjUpdA0bXmKOvT+17e2745KyPwtxAFxVrzF0Pjs0USZ+4lUVSJaFCuR518P/8QAIxEAAgIBAgcBAQAAAAAAAAAAAQIDBAUAEAYHERMhQUJR8f/aAAgBAgEBPwDM5yTIPZvS3ZorKSt21WQr2gp8AfhGsRzIzUuMqvJgrdpu0AZ0BCyEfQ8e9cY8pMxnOJ2u469WrY+06PajYsJFb7KAKQeuqdWtQqwVa6COGCNY40B8BVHQDYKT/NgWHvf/xAAiEQACAQIFBQAAAAAAAAAAAAABAgMEEQAQITFBBRIyUWH/2gAIAQMBAT8Ahp1QKgQFSNdN8TUESysBKqi+x4xSdVigpuyRGZ18Tx8vhmd2LNqSbnKx9jK2f//Z\"","import { css } from 'lit-element';\n\nexport default css`\n  h1 {\n    margin-top: 0;\n    font-size: 26px;\n    font-weight: normal;\n    color: #323232;\n  }\n\n  .description {\n    margin-top: 10px;\n    color: #333;\n    padding-left: 5px;\n  }\n\n  .description img {\n    max-width: 100%;\n  }\n\n  .description a {\n    font-size: 15px\n  }\n`;\n","import { css } from 'lit-element';\n\nexport default css`\n  .hljs,\n  code[data-filename] {\n    display: block;\n    overflow-x: auto;\n    padding: 1rem;\n    background: #1d1f21;\n    border-radius: 7px;\n    box-shadow: rgba(0, 0, 0, 0.55) 0px 11px 11px 0px;\n    font-size: 0.8rem;\n    color: #c5c8c6;\n  }\n\n  .hljs::selection,\n  .hljs span::selection,\n  code[data-filename]::selection,\n  code[data-filename] span::selection {\n    background: #373b41;\n  }\n\n  code[data-filename] {\n    position: relative;\n    padding-top: 22px;\n  }\n\n  code[data-filename]:before {\n    position: absolute;\n    top: 0;\n    right: 0;\n    font-size: 0.7rem;\n    content: attr(data-filename);\n    padding: 2px 6px;\n    border-radius: 0 0 0 7px;\n    border-left: 1px solid #c5c8c6;\n    border-bottom: 1px solid #c5c8c6;\n    color: #fff;\n  }\n\n  .hljs-title,\n  .hljs-name {\n    color: #f0c674;\n  }\n\n  .hljs-comment {\n    color: #707880;\n  }\n\n  .hljs-meta,\n  .hljs-meta .hljs-keyword {\n    color: #f0c674;\n  }\n\n  .hljs-number,\n  .hljs-symbol,\n  .hljs-literal,\n  .hljs-deletion,\n  .hljs-link {\n    color: #cc6666\n  }\n\n  .hljs-string,\n  .hljs-doctag,\n  .hljs-addition,\n  .hljs-regexp,\n  .hljs-selector-attr,\n  .hljs-selector-pseudo {\n    color: #b5bd68;\n  }\n\n  .hljs-attribute,\n  .hljs-code,\n  .hljs-selector-id {\n    color: #b294bb;\n  }\n\n  .hljs-keyword,\n  .hljs-selector-tag,\n  .hljs-bullet,\n  .hljs-tag {\n    color: #81a2be;\n  }\n\n  .hljs-subst,\n  .hljs-variable,\n  .hljs-template-tag,\n  .hljs-template-variable {\n    color: #8abeb7;\n  }\n\n  .hljs-type,\n  .hljs-built_in,\n  .hljs-builtin-name,\n  .hljs-quote,\n  .hljs-section,\n  .hljs-selector-class {\n    color: #de935f;\n  }\n\n  .hljs-emphasis {\n    font-style: italic;\n  }\n\n  .hljs-strong {\n    font-weight: bold;\n  }\n\n  @media (min-width: 768px) {\n    code[data-filename] {\n      padding-top: 1rem;\n    }\n\n    code[data-filename]:before {\n      font-size: inherit;\n      opacity: 0.5;\n      transition: opacity .5s;\n    }\n\n    code[data-filename]:hover:before {\n      opacity: 1;\n    }\n  }\n`;\n","import { LitElement, html, css } from 'lit-element';\nimport { codeCss } from '../styles';\nimport logoUrl from '../assets/main.jpg';\nimport { t } from '../directives/i18n';\n\nexport default class Header extends LitElement {\n  static cName = 'fi-header';\n  static properties = {\n    items: { type: Array }\n  };\n\n  constructor() {\n    super();\n    this.items = [];\n  }\n\n  render() {\n    return html`\n      <header>\n        <app-link to=\"home\">\n          <img src=\"${logoUrl}\" />\n        </app-link>\n      </header>\n      <!-- <fi-lang-picker></fi-lang-picker> -->\n    `;\n  }\n\n  _renderLink(route) {\n    return html`\n      <app-link to=\"${route.name}\">${t(`topMenu.${route.name}`)}</app-link>\n    `;\n  }\n}\n\nHeader.styles = [\n  codeCss,\n  css`\n    :host {\n      display: block;\n      --fi-header-menu-text: #ccc;\n      --fi-header-menu-size: 11px;\n    }\n\n    header {\n      display: flex;\n      align-items: flex-end;\n      min-height: 150px;\n    }\n\n    header img {\n      width: 100%;\n      max-height: 400px;\n      object-fit: cover;\n    }\n\n    app-link[to=\"home\"] {\n      text-decoration: none;\n    }\n  `\n];\n","export default \"/8648e125d2f7ec5f.jpg\"","import { LitElement, html, css } from 'lit-element';\nimport router from '../services/router';\n\nexport default class Link extends LitElement {\n  static cName = 'app-link';\n  static properties = {\n    to: { type: String },\n    params: { type: Object },\n    query: { type: Object },\n    hash: { type: String },\n    active: { type: Boolean },\n    nav: { type: String },\n  };\n\n  constructor() {\n    super();\n\n    this.to = '';\n    this.active = false;\n    this.query = null;\n    this.params = null;\n    this.hash = '';\n    this.nav = null;\n    this._url = null;\n    this._unwatchRouter = null;\n  }\n\n  _isActive() {\n    const url = this._getUrl();\n    const { pathname } = window.location;\n\n    if (url.length > pathname.length) {\n      return false;\n    }\n\n    if (this.nav === 'exact') {\n      return url === pathname;\n    }\n\n    return url === pathname || pathname.startsWith(url);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.addEventListener('click', this._navigate.bind(this), false);\n\n    if (this.nav !== null) {\n      this._unwatchRouter = router.observe(() => {\n        this.active = this._isActive();\n      }, { initial: true });\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    if (this._unwatchRouter) {\n      this._unwatchRouter();\n    }\n  }\n\n  update(changed) {\n    const isUrlChanged = ['to', 'query', 'params', 'hash'].some(prop => changed.has(prop));\n\n    if (this._url === null || isUrlChanged) {\n      this._url = this._generateUrl();\n    }\n\n    if (this.nav !== null && changed.has('active')) {\n      const toggle = this.active ? 'add' : 'remove';\n      this.classList[toggle]('active');\n    }\n\n    return super.update(changed);\n  }\n\n  _getUrl() {\n    this._url = this._url || this._generateUrl();\n    return this._url;\n  }\n\n  _generateUrl() {\n    return router.url({\n      name: this.to,\n      hash: this.hash,\n      params: this.params,\n      query: this.query,\n    });\n  }\n\n  render() {\n    return html`\n      <a itemprop=\"url\" href=\"${this._url}\">\n        <slot></slot>\n      </a>\n    `;\n  }\n\n  _navigate(event) {\n    if (!event.ctrlKey) {\n      event.preventDefault();\n      router.navigate({ url: this._url });\n    }\n  }\n}\n\nLink.styles = css`\n  :host {\n    display: inline-block;\n    vertical-align: baseline;\n    text-decoration: none;\n    cursor: pointer;\n    border-bottom: 2px solid transparent;\n  }\n\n  :host(:hover),\n  :host(.active) {\n    color: #81a2be;\n    text-decoration: underline;\n  }\n\n  a {\n    font-size: inherit;\n    color: inherit;\n    text-decoration: inherit;\n  }\n\n  a:hover {\n    text-decoration: inherit;\n  }\n`;\n","import { LitElement, html, css } from 'lit-element';\nimport { t } from '../directives/i18n'\n\nexport default class Menu extends LitElement {\n  static cName = 'fi-menu';\n  static properties = {\n    items: { type: Array },\n    activeItem: { type: String },\n  };\n\n  constructor() {\n    super();\n\n    this.items = [];\n    this.activeItem = null;\n  }\n\n  render() {\n    return html`\n      <nav\n        role=\"navigation\"\n        itemscope\n        itemtype=\"http://schema.org/SiteNavigationElement\"\n      >\n        ${this.items.map(this._renderLink, this)}\n      </nav>\n    `;\n  }\n\n  _renderLink({ name, exact }) {\n    return html`\n      <app-link to=\"${name}\" nav=\"${exact ? 'exact' : ''}\">${t(`categories.${name}.title`)}</app-link>\n    `;\n  }\n}\n\nMenu.styles = css`\n:host {\n  display: block;\n  --fi-menu-text-color: #323232;\n  --fi-menu-text-size: 21px;\n}\n\napp-link {\n  display: inline-block;\n  font-size: var(--fi-menu-text-size);\n}\n\napp-link.active {\n  color: #81a2be;\n}\n\napp-link + app-link {\n  margin-left: 35px;\n}\n`;\n","import { LitElement, html, css } from 'lit-element';\nimport { t, d } from '../directives/i18n';\n\nexport default class ArticleDetails extends LitElement {\n  static cName = 'fi-article-details';\n  static properties = {\n    article: { type: Object, attribute: false },\n    category: { type: String },\n  };\n\n  constructor() {\n    super();\n    this.article = null;\n    this.category = '';\n  }\n\n  render() {\n    const { article } = this;\n    const category = this.category || article.categories[0];\n\n    return html`\n      <time datetime=\"${article.createdAt}\" itemprop=\"datePublished\">\n        ${d(article.createdAt)}\n      </time>\n      <span>\n        ${t('article.author')}\n        <span itemprop=\"author\">${t(`article.authors.${article.author}`)}</span>\n      </span>\n      <slot name=\"more\">\n        <app-link to=\"${category}\" hash=\"comments\" .params=\"${article}\">\n          <i class=\"icon-comment\"></i>${article.commentsCount || 0}\n        </app-link>\n        <app-link to=\"${category}\" .params=\"${article}\" class=\"more\">${t('article.readMore')}</app-link>\n      </slot>\n    `;\n  }\n}\n\nArticleDetails.styles = [\n  css`\n    :host {\n      margin-top: 10px;\n      color: var(--fi-article-details-color, #999);\n      font-size: 11px;\n    }\n\n    :host > * {\n      margin-right: 10px;\n    }\n\n    app-link {\n      margin-right: 10px;\n      color: var(--app-link-active-color);\n      text-decoration: underline;\n    }\n\n    app-link:hover {\n      text-decoration: none;\n    }\n\n    app-link > [class^=\"icon-\"] {\n      margin-right: 5px;\n    }\n  `\n]\n","import { LitElement, html, css } from 'lit-element';\nimport { t } from '../directives/i18n';\nimport formCss from '../styles/form';\nimport gridCss from '../styles/grid';\n\nexport default class ContactForm extends LitElement {\n  static cName = 'fi-contact-form';\n\n  render() {\n    return html`\n      <form>\n        <div class=\"row\">\n          <div class=\"col form-group\">\n            <input name=\"name\" placeholder=\"${t('contacts.name')}\">\n          </div>\n          <div class=\"col form-group\">\n            <input type=\"email\" name=\"email\" placeholder=\"${t('contacts.email')}\">\n          </div>\n        </div>\n        <div class=\"form-group\">\n          <textarea\n            rows=\"5\"\n            name=\"message\"\n            placeholder=\"${t('contacts.message')}\"\n          ></textarea>\n        </div>\n        <div class=\"form-actions\">\n          <button class=\"btn\" type=\"submit\">${t('contacts.submit')}</button>\n        </div>\n    </form>\n    `;\n  }\n}\n\nContactForm.styles = [\n  formCss,\n  gridCss,\n  css`\n    .row .form-group + .form-group {\n      margin-left: 10px;\n    }\n\n    textarea {\n      resize: vertical;\n      min-height: 100px;\n    }\n  `\n];\n","import { LitElement } from 'lit-element';\nimport { listenForLangChanged, locale } from '../services/i18n';\n\nexport default class I18nElement extends LitElement {\n  constructor() {\n    super();\n    this._unwatchLang = null;\n    this._locale = locale();\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._unwatchLang = listenForLangChanged((lang) => {\n      this._locale = lang;\n      this.reload().then(() => this.requestUpdate());\n    });\n  }\n\n  disconnectedCallback() {\n    this._unwatchLang();\n    super.disconnectedCallback();\n  }\n\n  reload() {\n    return Promise.reject(new Error(\n      `${this.constructor.cName} should implement \"reload\" method`\n    ));\n  }\n}\n","import { t, translationExists } from './i18n';\n\nexport function setTitle(title) {\n  document.title = title;\n  setMeta('og:title', title);\n  setMeta('twitter:title', title);\n}\n\nfunction getMetaTag(name) {\n  let meta = document.head.querySelector(`meta[name=\"${name}\"]`);\n\n  if (!meta) {\n    meta = document.createElement('meta');\n    meta.setAttribute('name', name);\n    document.head.appendChild(meta);\n  }\n\n  return meta;\n}\n\nexport function setMeta(name, content, defaultValue = '') {\n  if (typeof name === 'object') {\n    Object.keys(name).forEach(key => setMeta(key, name[key]));\n    return;\n  }\n\n  const value = Array.isArray(content)\n    ? content.concat(defaultValue).join(', ')\n    : content || defaultValue;\n\n  getMetaTag(name).setAttribute('content', value.replace(/[\\n\\r]+/g, ' '));\n}\n\nconst currentUrl = () => {\n  const { search, href } = location;\n  return search ? href.slice(0, -search.length) : href;\n};\n\nfunction setDescription(value) {\n  const defaultValue = t('meta.description');\n  setMeta('description', value, defaultValue);\n  setMeta('twitter:description', value, defaultValue);\n}\n\nexport function setRouteMeta({ response }) {\n  const html = document.documentElement;\n\n  if (html.lang !== response.params.lang) {\n    html.lang = response.params.lang;\n  }\n\n  const prefix = `meta.${response.name}`;\n\n  if (translationExists(prefix)) {\n    setTitle(t(`${prefix}.title`));\n    setMeta('keywords', t(`${prefix}.keywords`), t('meta.keywords'));\n    setDescription(t(`${prefix}.description`));\n  } else {\n    setTitle(t('title'));\n    setMeta('keywords', t('meta.keywords'));\n    setDescription('');\n  }\n\n  setCanonicalUrl(currentUrl());\n}\n\nlet canonicalLink;\nfunction setCanonicalUrl(value) {\n  setMeta('og:url', value);\n  canonicalLink = canonicalLink || document.head.querySelector('link[rel=\"canonical\"]');\n  canonicalLink.setAttribute('href', value);\n}\n\nexport function setPageMeta(page) {\n  const meta = page.meta || {};\n\n  setTitle(page.title);\n  setMeta('keywords', meta.keywords || '', t('meta.keywords'));\n  setDescription(meta.description);\n  setCanonicalUrl(currentUrl());\n}\n","import router from '../services/router';\n\nfunction scrollToElement(root, id) {\n  const element = root.getElementById(id);\n\n  if (!element) {\n    return;\n  }\n\n  const headerHeight = 85;\n  element.scrollIntoView(true);\n  document.documentElement.scrollTop -= headerHeight;\n}\n\nfunction closest(startNode, tagName) {\n  let current = startNode;\n  const maxIterations = 3;\n  let i = 0;\n\n  while (current && i < maxIterations) {\n    if (current.tagName === tagName) {\n      return current;\n    }\n\n    current = current.parentNode;\n    i++;\n  }\n\n  return null;\n}\n\nexport function tryToNavigateElement(root, target) {\n  let hash;\n\n  if (target.tagName[0] === 'H' && target.id) {\n    hash = target.id;\n  } else {\n    const clickedTarget = closest(target, 'A');\n    const hashIndex = clickedTarget ? clickedTarget.href.indexOf('#') : -1;\n\n    if (hashIndex !== -1) {\n      scrollToElement(root, clickedTarget.href.slice(hashIndex + 1));\n    }\n  }\n\n  if (hash) {\n    const { location } = router.current().response;\n    const url = `${location.pathname}${window.location.search}#${hash}`;\n    router.navigate({ url });\n    scrollToElement(root, hash);\n  }\n}\n\nexport function scrollToSectionIn(root) {\n  const { hash } = router.current().response.location;\n\n  if (hash) {\n    scrollToElement(root, hash);\n  } else {\n    window.scroll(0, 0);\n  }\n}\n","import { html } from 'lit-element';\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html';\nimport { iconsCss, mdCss, pageCss, codeCss } from '../styles';\nimport I18nElement from './I18nElement';\nimport { interpolate, locale } from '../services/i18n';\nimport content from '../services/content';\nimport { setPageMeta } from '../services/meta';\nimport { tryToNavigateElement, scrollToSectionIn } from '../hooks/scrollToSection';\n\nfunction renderContent(page, vars) {\n  return unsafeHTML(interpolate(page.content, vars));\n}\n\nexport default class Page extends I18nElement {\n  static cName = 'app-page';\n  static properties = {\n    type: { type: String },\n    name: { type: String },\n    vars: { type: Object, attribute: false },\n    content: { type: Function, attribute: false },\n    nav: { type: Array },\n    _page: { type: Object },\n  };\n\n  constructor() {\n    super();\n\n    this._page = null;\n    this.nav = [];\n    this.name = null;\n    this.vars = {};\n    this.type = 'page';\n    this.content = renderContent;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.shadowRoot.addEventListener('click', (event) => {\n      tryToNavigateElement(this.shadowRoot, event.target);\n    }, false);\n  }\n\n  async updated(changed) {\n    if (this._page === null || changed.has('name') || changed.has('type')) {\n      await this.reload();\n    }\n  }\n\n  async reload() {\n    this._page = await content(this.type).load(locale(), this.name);\n    setPageMeta(this._page);\n    await this.updateComplete;\n    scrollToSectionIn(this.shadowRoot);\n  }\n\n  render() {\n    if (!this._page) {\n      return html``;\n    }\n\n    return html`\n      <article itemscope itemtype=\"http://schema.org/Article\">\n        <h1><i class=\"icon-idea\"></i>${interpolate(this._page.title)}</h1>\n        <div class=\"description md\">${this.content(this._page, this.vars)}</div>\n      </article>\n    `;\n  }\n\n  _renderContent(page, vars) {\n    return unsafeHTML(interpolate(page.content, vars));\n  }\n}\n\nPage.styles = [\n  iconsCss,\n  pageCss,\n  mdCss,\n  codeCss,\n];\n","import { LitElement, html, css } from 'lit-element';\n\nconst BORN_AT = new Date(1989, 7, 31);\n\nfunction calcYears() {\n  const now = new Date();\n  const years = now.getFullYear() - BORN_AT.getFullYear();\n\n  now.setFullYear(BORN_AT.getFullYear());\n\n  return now.getTime() - BORN_AT.getTime() > 0 ? years : years - 1;\n}\n\nexport default class PageAbout extends LitElement {\n  static cName = 'fi-page-about';\n\n  constructor() {\n    super();\n\n    this.vars = {\n      years: calcYears(),\n    };\n  }\n\n  render() {\n    return html`\n      <app-page name=\"about\" .vars=\"${this.vars}\"></app-page>\n      <fi-contact-form></fi-contact-form>\n    `;\n  }\n}\n\nPageAbout.styles = css`\n  :host {\n    display: block;\n    padding-bottom: 100px;\n  }\n\n  fi-contact-form {\n    display: block;\n    margin-top: 10px;\n    max-width: 440px;\n  }\n`;\n","import { html, css } from 'lit-element';\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html';\nimport { iconsCss, pageCss, mdCss, codeCss } from '../styles';\nimport { t } from '../directives/i18n';\nimport { setPageMeta } from '../services/meta';\nimport I18nElement from './I18nElement';\nimport { tryToNavigateElement, scrollToSectionIn } from '../hooks/scrollToSection';\n\nexport default class PageArticle extends I18nElement {\n  static cName = 'fi-page-article';\n  static properties = {\n    page: { type: Object }\n  };\n\n  constructor() {\n    super();\n    this.page = null;\n  }\n\n  _hasTags() {\n    return !!(this.page.meta && this.page.meta.keywords);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.shadowRoot.addEventListener('click', (event) => {\n      tryToNavigateElement(this.shadowRoot, event.target);\n    }, false);\n  }\n\n  async updated(changed) {\n    if (this.page === null || changed.has('page')) {\n      setPageMeta(this.page);\n      await this.updateComplete;\n      scrollToSectionIn(this.shadowRoot);\n    }\n  }\n\n  render() {\n    const similarArticles = this._hasTags()\n      ? html`<fi-similar-articles .to=\"${this.page}\"></fi-similar-articles>`\n      : '';\n    return html`\n      <article itemscope itemtype=\"http://schema.org/Article\">\n        <h1><i class=\"icon-idea\"></i>${this.page.title}</h1>\n        <div class=\"description md\">${unsafeHTML(this.page.content)}</div>\n        <fi-article-details .article=\"${this.page}\">\n          <div class=\"tags\" slot=\"more\">${this._renderTags()}</div>\n        </fi-article-details>\n      </article>\n      ${similarArticles}\n    `;\n  }\n\n  _renderTags() {\n    if (!this._hasTags()) {\n      return '';\n    }\n\n    const tags = this.page.meta.keywords.map(tag => html`\n      <app-link to=\"search\" .query=\"${{ q: tag }}\">${tag}</app-link>\n    `);\n\n    return html`\n      <span>${t('article.tagsTitle')}</span>\n      ${tags}\n    `;\n  }\n}\n\nPageArticle.styles = [\n  iconsCss,\n  pageCss,\n  mdCss,\n  codeCss,\n  css`\n    :host {\n      display: block;\n    }\n\n    .tags,\n    .tags span {\n      display: inline-block;\n    }\n\n    .tags span {\n      vertical-align: middle;\n    }\n\n    app-link {\n      margin-right: 5px;\n      color: #39c;\n    }\n  `\n]\n","import { html, css } from 'lit-element';\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html';\nimport { articleCss, iconsCss, mdCss } from '../styles';\nimport { t } from '../directives/i18n';\nimport { locale } from '../services/i18n';\nimport content from '../services/content';\nimport router from '../services/router';\nimport I18nElement from './I18nElement';\n\nexport default class PageArticles extends I18nElement {\n  static cName = 'fi-page-articles';\n\n  static properties = {\n    categories: { type: Array },\n    pageSize: { type: Number },\n  }\n\n  constructor() {\n    super();\n\n    this.category = null;\n    this.pageSize = Number(process.env.ARTICLES_PAGE_SIZE);\n    this._articles = null;\n    this._page = 1;\n    this._pagesAmount = 1;\n    this._unwatchPage = null;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._unwatchPage = router.observe((route) => {\n      this._page = route.response.location.query.page || 1;\n      this._articles = null;\n      this.requestUpdate();\n    });\n  }\n\n  disconnectedCallback() {\n    this._unwatchPage();\n    super.disconnectedCallback();\n  }\n\n  async update(changed) {\n    if (this._articles === null || changed.has('categories')) {\n      await this.reload();\n    }\n\n    return super.update(changed);\n  }\n\n  async reload() {\n    const { pagesAmount, items } = await content('article').paginate(locale(), this.categories, {\n      page: this._page,\n      pageSize: this.pageSize\n    });\n    this._pagesAmount = pagesAmount;\n    this._articles = items;\n  }\n\n  _categoryOf(article) {\n    return this.categories.length === 1 ? this.categories[0] : article.categories[0];\n  }\n\n  render() {\n    const content = this._articles.length\n      ? this._articles.map(this._renderArticle, this)\n      : html`<slot name=\"empty\">${t('article.emptyCategory')}</slot>`;\n\n    return html`<section>\n      ${content}\n      <fi-pager pages=\"${this._pagesAmount}\" page=\"${this._page}\"></fi-pager>\n    </section>`;\n  }\n\n  _renderArticle(article) {\n    const category = this._categoryOf(article);\n\n    return html`\n      <article itemscope itemtype=\"http://schema.org/Article\">\n        <h2 itemprop=\"headline\" class=\"title\">\n          <app-link to=\"${category}\" .params=${article}>\n            <i class=\"icon-idea\"></i>${article.title}\n          </app-link>\n        </h2>\n        <div itemprop=\"description\" class=\"summary md\">${unsafeHTML(article.summary)}</div>\n        <fi-article-details .article=\"${article}\" category=\"${category}\"></fi-article-details>\n      </article>\n    `;\n  }\n}\n\nPageArticles.styles = [\n  articleCss,\n  iconsCss,\n  mdCss,\n  css`\n    fi-article-details {\n      padding-left: 5px;\n    }\n  `\n]\n","import { LitElement, html, css, unsafeCSS } from 'lit-element';\nimport arrowsImage from '../assets/arrs.jpg';\nimport router from '../services/router';\n\nexport default class Pager extends LitElement {\n  static cName = 'fi-pager';\n  static properties = {\n    page: { type: Number },\n    pages: { type: Number },\n    hash: { type: String },\n  }\n\n  constructor() {\n    super();\n\n    this.page = 1;\n    this.pages = 1;\n    this.hash = '';\n    this._current = null;\n  }\n\n  update(changed) {\n    this._current = router.current();\n    return super.update(changed);\n  }\n\n  render() {\n    if (this.pages < 2) {\n      return html``;\n    }\n\n    return html`\n      ${this._renderLink(this.page - 1, { class: 'prev', prev: true })}\n      ${this._renderPages()}\n      ${this._renderLink(this.page + 1, { class: 'next', next: true })}\n    `;\n  }\n\n  _renderPages() {\n    const items = [];\n\n    for (let page = 1; page <= this.pages; page++) {\n      items.push(this._renderLink(page, {\n        class: this.page === page ? 'active' : ''\n      }));\n    }\n\n    return items;\n  }\n\n  _renderLink(page, attrs) {\n    const { name, params } = this._current.response;\n    const { query } = this._current.response.location;\n\n    return html`\n      <app-link\n        to=\"${name}\"\n        hash=\"${this.hash}\"\n        .params=\"${params}\"\n        .query=\"${{ ...query, page }}\"\n        class=\"${attrs.class}\"\n        style=\"${page < 1 || page > this.pages ? 'display: none': ''}\"\n      >\n        ${attrs.next || attrs.prev ? '' : page}\n      </app-link>\n    `;\n  }\n}\n\nPager.styles = css`\n  :host {\n    display: block;\n  }\n\n  app-link {\n    vertical-align: middle;\n    margin-right: 5px;\n    height: 20px;\n    font-size: 17px;\n    padding: 2px 6px;\n    border-radius: 2px;\n    color: var(--app-link-active-color);\n  }\n\n  app-link.active {\n    background-color: var(--app-link-active-color);\n    color: #fff;\n    text-decoration: none;\n  }\n\n  .next,\n  .prev {\n    padding: 0;\n    background: url(${unsafeCSS(arrowsImage)}) no-repeat 0 0;\n    width: 23px;\n    height: 9px;\n  }\n\n  .prev {\n    background-position: 0 bottom;\n  }\n`;\n","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQIBAQIDAgECAwMCAgICAwMDAwMDAwMEAwQEBAQDBAQFBgYGBQQHBwgIBwcKCgoKCgwMDAwMDAwMDAz/2wBDAQICAgQDBAcEBAcKCAcICgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAASABcDAREAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAABgQFBwn/xAAuEAABAwIEAgkFAQAAAAAAAAACAQMEBQYABwgREjEUITIzNDY3QWETNUJTZHH/xAAXAQEBAQEAAAAAAAAAAAAAAAAFBAID/8QAMREAAQEGAQgKAwAAAAAAAAAAAQIAAwQFESFxBhIiMTJBcrETMzRRYaHB0eHxFEJS/9oADAMBAAIRAxEAPwDs7PzJ1iMTn2adlnSn6eDhiw8VztgTjaEqCSj0NdlVOvb2w4mDl9Lv1V4PlhVRcbWzkU4/hg+oHM/V83kldb9YsGBRaWFMmG/VoNzC7IhgjJKr7QhFbJTDtJsXNMIymDgDEuwHqlaQsUWPhraCZRcaId4S6SnRN867ZjkDqG1p3Pp8u+oXTTnJdiwberEunXvNcKnz2HmKc8bRsGIqUpRIE2JBReLm5um2FprK5c7iXYdmiitNUC4NxUEfrhVjZbMI5cMvPTVISqiq0IsaY4+bINbuvXOXKOuv5b2FbUm3ny4gbuatsg70gU6vqQAFXGFTf8jIvkRXE2TmTcPEoD56sKH8p9d/LFu89yhfw6i7dozfE+m5tEtvU1ddey9p9OuTKW7K3HlQI4THnINOfjTUNgOI1R2VsQOKu/WOC3snQl8ooiHaaKNLkUvgyTuarU6SFuFqqBWwNfNrlvVDdhMdDXKC8Uh8BDwLCp3BwIK7BskxU2VE2xOZOgX/ACHdcT7N3TNFm3QrpgPdp+s/0CrPl3sF538H3Zdz/R+v5xjJ7tSNvWNjX9d7anvZlbGo7er77ma5T+lds9n7VT+XLwbeCph1y+I82QguqRwjkyJOXtz9v9xNv3NS3//Z\"","import { html, css } from 'lit-element';\nimport { blockCss, iconsCss } from '../styles';\nimport content from '../services/content';\nimport { locale } from '../services/i18n';\nimport { t } from '../directives/i18n';\nimport I18nElement from './I18nElement';\n\nexport default class PopularArticles extends I18nElement {\n  static cName = 'fi-popular-articles';\n\n  constructor() {\n    super();\n    this._articles = null;\n  }\n\n  async update(...args) {\n    if (this._articles === null) {\n      this._articles = await this.reload();\n    }\n\n    return super.update(...args);\n  }\n\n  async reload() {\n    const articles = await content('article').byCategories(locale(), 'important');\n    return articles.important.slice(0, 10);\n  }\n\n  render() {\n    const content = this._articles\n      ? this._articles.map(this._renderArticle, this)\n      : t('article.emptyPopular');\n\n    return html`\n      <section class=\"block\">\n        <h3 class=\"title\">${t('article.popular')}</h3>\n        ${content}\n      </section>\n    `;\n  }\n\n  _renderArticle(article) {\n    return html`\n      <h4 itemscope>\n        <app-link to=\"${article.categories[0]}\" .params=\"${article}\">\n          <i class=\"icon-idea icon-sm\"></i>${article.title}\n        </app-link>\n      </h4>\n    `;\n  }\n}\n\nPopularArticles.styles = [\n  blockCss,\n  iconsCss,\n  css`\n    :host {\n      display: block;\n    }\n\n    h4 {\n      font-weight: normal;\n      margin: 0;\n      margin-bottom: 10px;\n    }\n\n    app-link {\n      text-decoration: underline;\n      color: inherit;\n    }\n\n    app-link:hover {\n      text-decoration: none;\n    }\n  `\n];\n","import { html, css } from 'lit-element';\nimport blockCss from '../styles/block';\nimport content from '../services/content';\nimport { locale } from '../services/i18n';\nimport { t } from '../directives/i18n';\nimport I18nElement from './I18nElement';\n\nfunction renderTag(tag) {\n  return html`\n    <app-link\n      active\n      to=\"search\"\n      .query=\"${{ q: tag.name }}\"\n      style=\"${`font-size: ${fontSize(tag.weight)}px`}\"\n    >\n      ${tag.name}\n    </app-link>\n  `;\n}\n\nfunction fontSize(weight) {\n  const minSize = 10;\n  const maxSize = 30;\n  return weight * (maxSize - minSize) + minSize;\n}\n\nexport default class PopularTags extends I18nElement {\n  static cName = 'fi-popular-tags';\n\n  constructor() {\n    super();\n    this._tags = null;\n  }\n\n  async update(...args) {\n    if (this._tags === null) {\n      await this.reload();\n    }\n\n    return super.update(...args);\n  }\n\n  async reload() {\n    this._tags = await content('article').getPopularTags(locale());\n  }\n\n  render() {\n    if (!this._tags) {\n      return html``;\n    }\n\n    return html`\n      <section class=\"block\">\n        <h3 class=\"title\">${t('article.popularTags')}</h3>\n        ${this._tags.map(renderTag)}\n      </section>\n    `;\n  }\n}\n\nPopularTags.styles = [\n  blockCss,\n  css`\n    :host {\n      display: block;\n    }\n\n    h4 {\n      font-weight: normal;\n    }\n\n    app-link {\n      vertical-align: baseline;\n    }\n\n    app-link + app-link {\n      margin-left: 10px;\n    }\n  `\n];\n","import { html, css, unsafeCSS } from 'lit-element';\nimport { t, d } from '../directives/i18n';\nimport { locale } from '../services/i18n';\nimport content from '../services/content';\nimport arrowImage from '../assets/arrow-right.jpg';\nimport I18nElement from './I18nElement';\n\nexport default class SimilarArticles extends I18nElement {\n  static cName = 'fi-similar-articles';\n  static properties = {\n    to: { type: Object },\n  };\n\n  constructor() {\n    super();\n    this.to = null;\n    this._articles = null;\n  }\n\n  async update(changed) {\n    if (this._articles === null || changed.has('to')) {\n      await this.reload();\n    }\n\n    return super.update(changed);\n  }\n\n  async reload() {\n    this._articles = await content('article').findSimilar(locale(), this.to);\n  }\n\n  render() {\n    if (!this._articles.length) {\n      return html``;\n    }\n\n    return html`\n      <h3>${t('article.readSimilar')}</h3>\n      <ul>${this._renderSimilarArticles()}</ul>\n    `;\n  }\n\n  _renderSimilarArticles() {\n    return this._articles.map(article => html`\n      <li>\n        <app-link to=\"${article.categories[0]}\" .params=\"${article}\" active>\n          ${article.title}\n        </app-link>\n        <time>[${d(article.createdAt)}]</time>\n      </li>\n    `);\n  }\n}\n\nSimilarArticles.styles = css`\n  :host {\n    font-size: 15px;\n  }\n\n  h3 {\n    font-weight: normal;\n    color: #8f8f8f;\n    margin-bottom: 10px;\n    font-size: inherit;\n  }\n\n  ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n\n  li {\n    display: flex;\n    padding-left: 15px;\n    background-image: url(${unsafeCSS(arrowImage)});\n    background-position: 0 center;\n    background-repeat: no-repeat\n  }\n\n  time {\n    color: #999;\n    font-size: 12px;\n  }\n\n  time:before {\n    content: \"\\\\2022\";\n    margin: 0 5px;\n  }\n\n  app-link {\n    color: #39c;\n    text-decoration: underline;\n  }\n\n  app-link:hover {\n    color: #39c;\n    text-decoration: none;\n  }\n`;\n","export default \"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABQAAD/7gAOQWRvYmUAZMAAAAAB/9sAhAACAgICAgICAgICAwICAgMEAwICAwQFBAQEBAQFBgUFBQUFBQYGBwcIBwcGCQkKCgkJDAwMDAwMDAwMDAwMDAwMAQMDAwUEBQkGBgkNCwkLDQ8ODg4ODw8MDAwMDA8PDAwMDAwMDwwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAHAAYDAREAAhEBAxEB/8QAVQABAAAAAAAAAAAAAAAAAAAACQEBAAAAAAAAAAAAAAAAAAAAABAAAgICAQUAAAAAAAAAAAAAAgQBAwUGIRITFAcIEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwBK9df1EQ9g7XCvj/OVubRojAuVEyDGeHKr1G8ioHSaiotyEnWcH3JiSGsI4IP/2Q==\"","import { html, LitElement } from 'lit-element';\nimport router from '../services/router';\n\nexport default class LangPicker extends LitElement {\n  static cName = 'fi-lang-picker';\n\n  render() {\n    return html`\n      <select @change=\"${this._changeLang}\">\n        <option value=\"ru\">ru</option>\n        <option value=\"uk\">uk</option>\n      </select>\n    `;\n  }\n\n  _changeLang(event) {\n    const lang = event.target.value;\n    const current = router.current().response\n\n    router.navigate({\n      url: router.url({\n        name: current.name,\n        params: { ...current.params, lang },\n        query: current.location.query,\n        hash: current.location.hash,\n      })\n    });\n  }\n}\n","import 'core-js/modules/web.immediate';\nimport App from './components/App';\nimport AppNotification from './components/AppNotification';\nimport AppBlock from './components/AppBlock';\nimport AppFooter from './components/AppFooter';\nimport AppHeader from './components/AppHeader';\nimport AppLink from './components/AppLink';\nimport AppMenu from './components/AppMenu';\nimport ArticleDetails from './components/ArticleDetails';\nimport ContactForm from './components/ContactForm';\nimport Page from './components/Page';\nimport PageAbout from './components/PageAbout';\nimport PageArticle from './components/PageArticle';\nimport PageArticles from './components/PageArticles';\nimport Pager from './components/Pager';\nimport PopularArticles from './components/PopularArticles';\nimport PopularTags from './components/PopularTags';\nimport SimilarArticles from './components/SimilarArticles';\nimport LangPicker from './components/LangPicker';\nimport { locale, setLocale, defaultLocale } from './services/i18n';\nimport router from './services/router';\nimport { setRouteMeta } from './services/meta';\n\nconst components = [\n  App,\n  AppNotification,\n  AppBlock,\n  AppFooter,\n  AppHeader,\n  AppLink,\n  AppMenu,\n  ArticleDetails,\n  ContactForm,\n  Page,\n  PageAbout,\n  PageArticle,\n  PageArticles,\n  Pager,\n  PopularArticles,\n  PopularTags,\n  SimilarArticles,\n  LangPicker,\n];\n\nexport default function bootstrap(selector) {\n  const app = document.querySelector(selector);\n  components.forEach(c => customElements.define(c.cName, c));\n  router.observe(async (route) => {\n    const lang = route.response.params.lang || defaultLocale;\n\n    if (locale() !== lang) {\n      await setLocale(lang);\n      app.ready = true;\n    }\n\n    setRouteMeta(route);\n  });\n}\n","// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nimport { fetch } from './services/http';\n\nconst { navigator, location } = window;\nconst isLocalhost = location.hostname === 'localhost'\n  || location.hostname === '[::1]'\n  || location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);\nconst isSupportedServiceWorker = 'serviceWorker' in navigator;\n\nconst log = (...args) => console.log(...args); // eslint-disable-line no-console\n\nfunction notifyAboutNewWorker(worker, config) {\n  if (!worker) {\n    return;\n  }\n\n  worker.onstatechange = () => {\n    log('new worker state', worker.state);\n\n    if (worker.state !== 'installed') {\n      return;\n    }\n\n    if (navigator.serviceWorker.controller) {\n      log('New content is available and will be used when all '\n        + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.');\n\n      if (config && config.onUpdate) {\n        config.onUpdate(worker);\n      }\n    } else {\n      log('Content is cached for offline use.');\n\n      if (config && config.onSuccess) {\n        config.onSuccess(worker);\n      }\n    }\n  };\n}\n\nfunction registerValidSW(swUrl, config) {\n  let isRefreshing = false;\n\n  navigator.serviceWorker.addEventListener('controllerchange', () => {\n    if (!isRefreshing) {\n      isRefreshing = true;\n      location.reload();\n    }\n  });\n\n  return navigator.serviceWorker.register(swUrl)\n    .then((registration) => {\n      log('service worker is registered');\n      registration.onupdatefound = () => notifyAboutNewWorker(\n        registration.installing,\n        config\n      );\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  const headers = { 'Service-Worker': 'script' };\n  return fetch(swUrl, { headers, format: 'raw', absoluteUrl: true })\n    .then((response) => {\n      const contentType = response.headers['content-type'] || '';\n\n      if (response.status === 404 || contentType.indexOf('javascript') === -1) {\n        log('cannot detect service worker');\n        navigator.serviceWorker.ready\n          .then(registration => registration.unregister())\n          .then(() => location.reload());\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function register(config) {\n  if (!isSupportedServiceWorker) {\n    return;\n  }\n\n  window.addEventListener('load', () => {\n    const swUrl = `${process.env.BASE_URL}/sw.js`;\n\n    if (isLocalhost) {\n      checkValidServiceWorker(swUrl, config);\n    } else {\n      registerValidSW(swUrl, config);\n    }\n  });\n}\n\nexport function unregister() {\n  if (isSupportedServiceWorker) {\n    navigator.serviceWorker.ready\n      .then(registration => registration.unregister())\n      .catch(error => console.error(error.message));\n  }\n}\n","import bootstrap from './app';\nimport { register } from './serviceWorker';\n\nwindow.__isAppExecuted__ = true;\nconst app = bootstrap('fi-app');\n// register({\n//   onUpdate(worker) {\n//     app.notify('updateAvailable', {\n//       onClick() {\n//         worker.postMessage({ type: 'SKIP_WAITING' });\n//       }\n//     });\n//   }\n// });\n"],"names":["check","it","Math","globalThis","window","self","global","Function","exec","error","fails","Object","defineProperty","get","nativePropertyIsEnumerable","propertyIsEnumerable","getOwnPropertyDescriptor","call","1","V","descriptor","this","enumerable","bitmap","value","configurable","writable","toString","slice","split","classof","IndexedObject","undefined","TypeError","requireObjectCoercible","input","PREFERRED_STRING","isObject","fn","val","valueOf","hasOwnProperty","key","document","EXISTS","createElement","DESCRIPTORS","a","nativeGetOwnPropertyDescriptor","O","P","toIndexedObject","toPrimitive","IE8_DOM_DEFINE","has","createPropertyDescriptor","propertyIsEnumerableModule","f","String","nativeDefineProperty","Attributes","anObject","object","definePropertyModule","createNonEnumerableProperty","setGlobal","functionToString","store","inspectSource","set","WeakMap","test","module","push","version","mode","copyright","id","postfix","random","keys","shared","NATIVE_WEAK_MAP","wmget","wmhas","wmset","metadata","STATE","uid","hiddenKeys","objectHas","defer","channel","port","enforce","getterFor","TYPE","state","type","getInternalState","InternalStateModule","enforceInternalState","TEMPLATE","options","unsafe","simple","noTargetGet","source","join","prototype","aFunction","variable","namespace","method","arguments","length","path","ceil","floor","argument","isNaN","min","max","createMethod","IS_INCLUDES","$this","el","fromIndex","toInteger","index","integer","toAbsoluteIndex","indexOf","includes","concat","getOwnPropertyNames","names","i","result","internalObjectKeys","getOwnPropertySymbols","getBuiltIn","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","target","ownKeys","getOwnPropertyDescriptorModule","replacement","isForced","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","require$$0","userAgent","location","setImmediate","clear","clearImmediate","process","MessageChannel","Dispatch","counter","queue","run","runner","listener","event","post","postMessage","protocol","host","args","apply","nextTick","now","IS_IOS","port2","port1","onmessage","that","b","c","bind","addEventListener","importScripts","html","appendChild","removeChild","setTimeout","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","forced","copyConstructorProperties","sham","redefine","$","task","isCEPolyfill","customElements","polyfillWrapFlushCallback","removeNodes","container","start","end","n","nextSibling","marker","nodeMarker","markerRegex","RegExp","Template","[object Object]","element","parts","nodesToRemove","stack","walker","createTreeWalker","content","lastPartIndex","partIndex","strings","values","node","nextNode","nodeType","hasAttributes","attributes","count","endsWith","name","stringForPart","lastAttributeNameRegex","attributeLookupName","attributeValue","getAttribute","removeAttribute","statics","tagName","currentNode","parent","parentNode","lastIndex","insert","s","createMarker","match","createTextNode","insertBefore","previousSibling","pop","str","suffix","isTemplatePartActive","part","createComment","removeNodesFromTemplate","template","nextActiveIndexInTemplateParts","nodeIndex","removeCount","nodesToRemoveInTemplate","currentRemovingNode","forEach","countNodes","startIndex","directives","directive","d","isDirective","o","noChange","nothing","TemplateInstance","processor","__parts","setValue","commit","fragment","cloneNode","importNode","nodeName","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","upgrade","policy","trustedTypes","createPolicy","createHTML","commentMarker","TemplateResult","l","isCommentBinding","commentOpen","lastIndexOf","attributeMatch","substr","getHTML","innerHTML","isPrimitive","isIterable","Array","isArray","Symbol","iterator","AttributeCommitter","dirty","_createPart","AttributePart","v","text","t","setAttribute","_getValue","committer","NodePart","__pendingValue","startNode","endNode","ref","__insert","__commitText","__commitTemplateResult","Node","__commitNode","__commitIterable","valueAsString","templateFactory","update","instance","_clone","itemParts","itemPart","item","appendIntoPart","insertAfterPart","BooleanAttributePart","Error","PropertyCommitter","super","single","PropertyPart","eventOptionsSupported","capture","removeEventListener","_e","EventPart","eventName","eventContext","__boundHandleEvent","e","handleEvent","newListener","oldListener","shouldRemoveListener","once","passive","shouldAddListener","__options","getOptions","templateCache","templateCaches","stringsArray","keyString","Map","getTemplateElement","defaultTemplateProcessor","prefix","getTemplateCacheKey","scopeName","compatibleShadyCSSVersion","ShadyCSS","prepareTemplateDom","console","warn","shadyTemplateFactory","cacheKey","TEMPLATE_TYPES","shadyRenderSet","Set","prepareTemplateStyles","renderedDOM","add","templateElement","styles","querySelectorAll","condensedStyle","style","textContent","templates","from","removeStylesFromLitTemplates","refNode","insertCount","walkerIndex","insertNodeIntoTemplate","firstChild","querySelector","nativeShadow","removes","JSCompiler_renameProperty","prop","_obj","defaultConverter","Boolean","JSON","stringify","Number","parse","notEqual","old","defaultPropertyDeclaration","attribute","converter","reflect","hasChanged","UpdatingElement","HTMLElement","initialize","observedAttributes","finalize","_classProperties","p","attr","_attributeNameForProperty","_attributeToPropertyMap","superProperties","getPrototypeOf","k","_ensureClassProperties","noAccessor","getPropertyDescriptor","oldValue","requestUpdateInternal","superCtor","props","properties","propKeys","createProperty","fromAttribute","toAttribute","_updateState","_updatePromise","Promise","res","_enableUpdatingResolver","_changedProperties","_saveInstanceProperties","constructor","_v","_instanceProperties","enableUpdating","_attributeToProperty","ctor","attrValue","_propertyValueToAttribute","propName","getPropertyOptions","_propertyValueFromAttribute","shouldRequestUpdate","_valueHasChanged","_reflectingProperties","_hasRequestedUpdate","_enqueueUpdate","updateComplete","performUpdate","L","hasUpdated","_applyInstanceProperties","shouldUpdate","changedProperties","_markUpdated","firstUpdated","updated","_getUpdateComplete","size","_propertyToAttribute","supportsAdoptingStyleSheets","Document","CSSStyleSheet","constructionToken","CSSResult","cssText","safeToken","styleSheet","_styleSheet","replaceSync","unsafeCSS","css","reduce","acc","idx","textFromCSSResult","renderNotImplemented","LitElement","userStyles","getStyles","addStyles","reduceRight","unshift","_styles","map","cssRules","rule","_getUniqueStyles","renderRoot","createRenderRoot","ShadowRoot","adoptStyles","attachShadow","adoptedStyleSheets","_needsShimAdoptedStyleSheets","ScopingShim","prepareAdoptedCssText","localName","connectedCallback","styleElement","templateResult","render","hasRendered","needsScoping","firstScopeRender","renderContainer","createDocumentFragment","assign","appendInto","litRender","delete","pathToRegexp","tokensToFunction","tokensToRegExp","PATH_REGEXP","tokens","defaultDelimiter","delimiter","delimiters","pathEscaped","m","escaped","offset","prev","next","group","modifier","partial","repeat","optional","pattern","escapeGroup","escapeString","matches","encode","encodeURIComponent","token","segment","j","flags","sensitive","strict","route","isEndDelimited","groups","regexpToRegexp","arrayToRegexp","stringToRegexp","isExternalRedirect","redirect","finishResponse","resolvedResults","router","external","_a","_b","resolved","_c","response","body","meta","methods","respond","results","params","query","hash","url","createRedirect","withLeadingSlash","charAt","createRoute","beginning","fullPath","withTrailingSlash","pathOptions","matchOptions","compile","compileOptions","exact","children","re","PathToRegexp","keyNames","childRoutes","_i","_d","child","childRoute","public","compiled","resolve","pathname","extra","matching","parsers","matchRoute","regExpMatch","matchedSegment","parsed","remainder","fullSegments","children_1","matched","createMatch","routeMatches","routeMatches_1","route_1","len","name_1","decodeURIComponent","ensureBeginsWith","defaultParseQuery","defaultStringifyQuery","noop","getStateFromHistory","history","_defineProperty","obj","enumerableOnly","symbols","filter","sym","_objectSpread2","getOwnPropertyDescriptors","defineProperties","TreeIterator","_tree","dive","backtrack","done","last","LEAF","_prefix","VALUES","KEYS","array","withinDistance","maxDistance","edit","distance","ia","ib","NONE","ADD","DELETE","CHANGE","SearchableMap","tree","startsWith","trackDown","last$1","nodeKey","find","_size","remove","maxEditDistance","innerStack","totDistance","Infinity","fuzzySearch","lookup","createPath","entries","fromObject","toSplit","commonPrefix","cleanup","merge","MiniSearch","_options","defaultOptions","searchOptions","defaultSearchOptions","fields","_index","_documentCount","_documentIds","_fieldIds","_fieldLength","_averageFieldLength","_nextId","_storedFields","addFields","extractField","tokenize","processTerm","idField","shortDocumentId","addDocumentId","saveStoredFields","field","fieldValue","addFieldLength","documentCount","term","processedTerm","isTruthy","addTerm","documents","chunkSize","chunk","promise","then","addAll","_","longId","removeTerm","queryString","searchTokenize","searchProcessTerm","termToQuery","executeQuery","combinedResults","combineResults","combineWith","docId","score","terms","uniq","sort","defaultAutoSuggestOptions","suggestions","search","phrase","suggestion","json","loadJS","optionName","js","nextId","documentIds","fieldIds","fieldLength","averageFieldLength","storedFields","miniSearch","boosts","getOwnProperty","boost","boostDocument","weights","fuzzy","fuzzyWeight","prefixWeight","exactMatch","termResults","atPrefix","weightedDistance","round","fuzzyGet","combinators","operator","fieldId","documentId","indexData","fieldIndex","df","ds","warnDocumentChanged","fieldName","weight","editDistance","tf","docBoost","normalizedLength","property","totalLength","doc","storeFields","or","combined","and","termFrequency","documentFrequency","log","x","_fieldName","SPACE_OR_PUNCTUATION","identity","FORMATS","raw","fetch","rawUrl","format","reject","xhr","XMLHttpRequest","absoluteUrl","config","open","headers","setRequestHeader","onload","status","getResponseHeader","responseText","ontimeout","onerror","send","notFoundError","message","code","memoize","generateKey","cache","memoized","interpolate","hasMissing","description","h","title","timeOf","date","Date","getTime","Content","pages","summaries","searchIndexes","_pages","_summaries","_searchIndexes","_loadSearchIndex","_getSummary","_getItems","byCategories","getPopularTags","load","locale","categories","all","category","pageId","items","findIndex","prevIndex","nextIndex","filtered","pagination","pagesAmount","pageSize","page","summary","keywords","similarItems","tag","itemsByTag","byTags","expectedSize","similarItem","alias","anotherItem","createdAt","indexName","indexes","_analyzeTags","tags","tagNames","minCount","maxCount","diff","indexUrl","searchIndex","byId","hints","regexp","markedValue","markHints","ru","about","notfound","uk","sjfilemanager-konfighuriruem-failovyi-menedzher","magento-sozdanie-crud-modulya","magento-backend-sozdanie-crud-modulya","magento-backend-gruzim-kartinku-cherez-adminku","magento-eav-ili-druzhim-tsitatu-s-produktom","kolektsioniruem-dannye-ili-uchim-doctrine-delat-multiple-insert","one-by-one-ili-parsim-huge-xml","magento-dobavlyaem-kommentarij-k-zakazu","ajax-avtorizatsiya-i-registratsiya-v-magento","bloki-kak-vyvesti-spisok-vsekh-novinok-ili-spets-predlozhenii-v-magento","bannery-v-magento-ili-delaem-staticheskie-bloki-poleznymi","stranitsy-vsekh-novinok-i-spets-predlozhenij-s-filtrami-v-magento","symfony-14-mirim-i18n-i-searchable-doctrine-12-shablony","chtenie-direktorij-i-poisk-fajlov-v-php","magento-import-eksport-cli-terminal-versiya","magento-konfighuratsiia-ot-a-do-ia-layout-updates","magento-konfighuratsiia-ot-a-do-ia-bazovye-nastroiki-modulia","magento-konfiguratsiya-ot-a-do-ya-systemxml","magento-modeli-ot-a-do-ya-3-kita","magento-modeli-ot-a-do-ya-modeli-yadra","magento-modeli-ot-a-do-ya-sobytiya-i-rewrite-klassov","upravlenie-prostranstvom-i-vremenem-magento-cron-esli-prosto","internatsionalizatsiya-v-magento","vvedenie-rubyrack","generiruem-krasivyj-otchet-iz-junit-xml-pri-pomoschi-xslt","kak-uskorit-magento-1x-v-2-raza-pri-pomoschi-php-7","nastrojka-fastlane-dlya-ionic","kak-keshirovat-client-side-perevody-v-magento","kak-vklyuchit-kapchu-v-magento-1x","kak-vklyuchit-google-recaptcha-v-magento-1x","kak-podklyuchit-google-recaptcha-na-lyubuyu-formu-v-magento","optimiziruem-servernuyu-chast-magento-1x","optimizatsiya-zagruzki-stranitsy-v-magento-1x","3g-mts-konnekt-nactrojka-zte-ac5710-modema-pod-linux","chto-nuzhno-znat-novichku-v-linux","chto-nuzhno-znat-novichku-v-linux-ls-l-ili-naznachenie-osnovnykh-direktorij","chto-nuzhno-znat-novichku-v-linux-manipulyatsiya-fajlami","chto-nuzhno-znat-novichku-v-linux-i-o-pereadresatsiya","chto-nuzhno-znat-novichku-v-linux-prava-dostupa","chto-nuzhno-znat-novichku-v-linux-upravlenie-zadachami","uchimsya-programmirovat-v-shell","uchimsya-programmirovat-v-shell-funktsii","uchimsya-programmirovat-v-shell-manipulyatsii-s-peremennymi","uchimsya-programmirovat-v-shell-upravlyayuschie-konstruktsii","uchimsya-programmirovat-v-shell-i-o-pereadresatsiya-chast-2","uchimsya-programmirovat-v-shell-upravlyayuschie-konstruktsii-chast-2","uchimsya-programmirovat-v-shell-osnovnye-oshibki-i-metody-ustraneniya","uchimsya-programmirovat-v-shell-obrabotka-oshibok","uchimsya-programmirovat-v-shell-obrabotka-signalov","vklyuchaem-http-keshirovanie-v-nginx-i-apache2","sjfilemanager-besplatnyi-ajax-fail-menedzher","delaem-syntax-highlighter-plugin-dlya-tinymce","ajax-formy-v-magento","sjfilemanager-evolyutsiya-php-ajax-fajlovyj-menedzher","vvedenie-v-knockout-novyj-vzglyad-na-postroenie-javascript-prilozhenij","knockout-nablyudaem-za-vsem-i-vezde","sostavnye-nablyudateli-v-knockout","nablyudaemye-massivy-v-knockout","bajndingi-v-knockout-upravlenie-vidimostyu-i-soderzhimym","upravlyayuschie-konstruktsii-v-knockout","obrabotka-sobytij-i-rabota-s-polyami-form-v-knockout","sozdanie-custom-bajndingov-v-knockout","best-practisies-v-knockout-uproschaem-view","borba-so-spamom-pri-pomoschi-canvas","minifikatsiya-javascript-v-magento-1x","arkhitektura-frontend-prilozheniya","avtorizatsiya-v-angular2","avtorizatsiya-v-javascript","circuit-breaker-shablon-na-klientskoj-storone","droblenie-na-moduli-v-angular2","e2e-testirovanie-razbivaem-stranitsu-na-fragmenty","integratsiya-fastlane-s-hockeyapp","integratsiya-fastlane-s-testflight","kak-vypustit-ionic-prilozhenie-v-appstore","kak-vypustit-ionic-prilozhenie-v-googleplay","offline-prilozhenie-na-baze-angular2-i-js-data","struktura-papok-dlya-sovremennogo-javascript-prilozheniya","template-driven-modalki-v-angular2","testirovanie-s-protractorjs","integratsiya-mobile-friendly-slajdera-v-magento","progressivnyj-internet-magazin-service-worker-v-magento","kak-tegirovat-testy-protractor-s-mocha-i-jasmine","chto-takoe-zonejs","chto-takoe-casl-ili-kak-vnedrit-proverku-prav-dostupa-v-vashe-prilozhenie","upravlenie-pravami-dostupa-v-expressjs-pri-pomoschi-casl","casl-i-cancan-kak-rassharit-prava-dostupa-mezhdu-ui-i-api","contentTypes","ContentType","pagesDetails","article","articlesDetails","contentLoader","loadPages","transformParams","async","vars","loader","redirectTo","lang","respondWithPage","main","respondWithError","renderArticles","renderPage","extract","shift","translateConfig","empty","translationCache","updateLang","newLang","newStrings","detail","previousStrings","previousLang","dispatchEvent","CustomEvent","listenForLangChanged","callback","handler","translation","isConnected","partCache","updatePart","cb","newValue","setInterval","whenIdle","removeDisconnectedParts","requestIdleCallback","langChanged","previousValues","unsafeHTML","previousValue","default","pointer","VAR_REGEXP","varName","i18n","registerTranslateConfig","langUrls","dateTime","Intl","DateTimeFormat","LOCALES","defaultLocale","setLocale","use","About","Article","rawId","Page","NotFound","routes","querystring","qs","buildPath","rawRoute","restrictions","questionMark","restriction","historyConstructor","latestResponse","latestNavigation","cancelWith","cancelCallback","finishCallback","historyOptions","sideEffects","invisibleRedirects","asyncNavNotifiers","observers","oneTimers","resetCallbacks","cancelAndResetNavCallbacks","finishAndResetNavCallbacks","asyncNavComplete","emitImmediate","navigation","emit","emitted","splice","callOneTimersAndSideEffects","navigate","finalizeResponseAndEmit","pending","finish","pendingNav","action","previous","isAsyncRoute","cancel","cancelled","observe","initial","obs","can","details","pathname$1","finished","current","destroy","createRouter","major","confirmFn","utils","parseQuery","stringifyQuery","base","details_1","substring","hashIndex","rawQuery","queryIndex","keyed","firstChar","locationUtils","keygen","minor","confirmNavigation","info","allow","prevent","confirm","fromBrowser","providedState","replaceState","lastAction","responseHandler","createNavigation","nextAction","replaceNav","pushNav","prepare","to","navType","currentLocation","emitNavigation","nav","cancelPending","navigateWith","browserHistory","pushState","reverting","popstate","navigator","ignorablePopstateEvent","revert","go","num","mappedRoutes","prepared","prepared_1","prepareRoutes","buildRoutes","rawRoutes","controllers","buildController","controller","routesConfig","originalUrl","scrollRestoration","App","_route","ready","requestUpdate","notify","notification","onClick","_notificationsRoot","root","position","right","bottom","zIndex","width","createNotificationsRoot","topMenu","menu","gridCss","actualDate","formatDate","ut","AppNotification","Block","sticky","blockCss","mdCss","Footer","getFullYear","year","Header","_renderLink","codeCss","Link","active","_url","_unwatchRouter","_isActive","_getUrl","_navigate","disconnectedCallback","changed","isUrlChanged","some","_generateUrl","toggle","classList","ctrlKey","preventDefault","Menu","activeItem","ArticleDetails","author","commentsCount","ContactForm","formCss","I18nElement","_unwatchLang","_locale","reload","cName","setTitle","setMeta","defaultValue","head","getMetaTag","currentUrl","href","setDescription","setRouteMeta","documentElement","translationExists","setCanonicalUrl","canonicalLink","setPageMeta","scrollToElement","getElementById","scrollIntoView","scrollTop","tryToNavigateElement","clickedTarget","closest","scrollToSectionIn","scroll","renderContent","_page","shadowRoot","_renderContent","iconsCss","pageCss","BORN_AT","calcYears","years","setFullYear","PageAbout","PageArticle","_hasTags","similarArticles","_renderTags","q","PageArticles","_articles","_pagesAmount","_unwatchPage","paginate","_categoryOf","_renderArticle","articleCss","Pager","_current","class","_renderPages","attrs","PopularArticles","important","renderTag","PopularTags","_tags","SimilarArticles","findSimilar","_renderSimilarArticles","LangPicker","_changeLang","components","AppBlock","AppFooter","AppHeader","AppLink","AppMenu","hostname","__isAppExecuted__","selector","app","define","bootstrap"],"mappings":"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"}