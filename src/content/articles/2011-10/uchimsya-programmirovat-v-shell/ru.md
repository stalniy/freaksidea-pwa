---
title: Учимся программировать в Shell
summary: |
  Наибольшая мощь компьютера - это возможность выполнять работу за Вас. Но чтобы
  он что-то делал, ему нужно объяснить что и как. Одним из лучших посредников в
  этом деле является Shell
author: sstotskyi
categories:
  - linux
createdAt: 2011-10-09T11:07:00.000Z
meta:
  keywords:
    - linux
    - Bash
alias: uchimsya-programmirovat-v-shell
---

Shell скрипты - это наборы команд, хранящиеся в файле. При запуске файла, Shell читает его и выполняет команды так, как будто они были введены при помощи клавиатуры. Кроме стандартных команд Shell имеет еще целую кучу возможностей, благодаря которым можно писать достаточно мощные скрипты при помощи нескольких строк.

## Написание первого скрипта

Для написания скрипта Вам нужно сделать 3 вещи:

*   написать скрипт
*   установить права на выполнение
*   положить его туда, где Shell сможет найти его

Shell скрипт - это обычный текстовый файл. По-этому для его написания Вам понадобится текстовый редактор. Существует целая уйма таких редакторов под Linux. Например

*   **vi** (**vim**) - не рекомендую использовать новичкам, иначе поначалу потратите кучу нервов и времени
*   **nano** - именно то что нужно новичку. Все просто, подсказки написаны в футере редактора
*   **gedit** - стандартный графический текстовый редактор в оболочке Gnome
*   **kwrite** - стандартный графический текстовый редактор для KDE

Вы также можете использовать любой другой редактор, который Вам нравится. Я обычно использую **geany** или **vi**. Так давайте уже напишем этот первый скрипт. По традиции представляю Вам скрипт "Hello World" на [Bash](http://ru.wikipedia.org/wiki/Bash)

```bash
#!/bin/bash
# My first script

echo "Hello World!";
```

Сохраните этот файл под любым именем, например **my\_script**. Теперь проанализируем, что же в нем написано.

Первая строка очень важная. Она указывает, какую программу нужно использовать для интерпретации скрипта. Другие языки вроде Perl, Awk, Python, PHP также могут использовать этот механизм.

Вторая строка - это просто комментарий. Все что находится за символом "**#**" игнорируется в Bash. Комментарии становятся полезными, когда Ваш скрипт будет состоять из множества строк. Обычно в комментариях описывают что делает той или иной блок кода, чтобы если вдруг кто-то посторонний посмотрит на код, то ему было понятно.

Последняя строка - команда **echo**. Отправляет текст на стандартный вывод, другими словами просто печатает его.

## 3,2,1,0 - Запуск

Для начала установим права на запуск скрипта при помощи команды **chmod**

```bash
enej@linux:~$ chmod 755 my_script
```

755 - означает, что Вы имеете права на выполнение, чтение и запись. Все остальные могут только читать и выполнять. Если Вы хотите ограничить доступ к скрипту, то установите права 700.

Запустить скрипт можно 2 способами:

```bash
enej@linux:~$ /bin/bash my_script
```

или же

```bash
enej@linux:~$ ./my_script
```

Мы будем использовать второй вариант поскольку права на выполнение установлены, а интерпретатор прописан в первой строчке нашего скрипта.

После запуска Вы должны увидеть "Hello World!". Если нет, тогда убедитесь, что Вы запускает скрипт из директории в которой он лежит.

Прежде чем идти дальше, нужно узнать кое-что о путях. При вводе имени команды система ищет ее в специальных директориях. Если команда не найдена, то получим хорошо известное сообщение об ошибке: command not found.

Посмотреть список директорий, в которых Shell ищет команды - просто

```bash
enej@linux:~$ echo $PATH
```

Вы увидите список директорий разделенных двоеточием, в которых система будет искать команду. В нашем случае этого не происходило, потому что мы указали путь к скрипту ("./");

Добавить в этот список новый каталог можно при помощи следующей команды

```bash
enej@linux:~$ export PATH=$PATH:directory
```

Где directory - путь к любому каталогу.

Хорошей практикой является создание в своей домашней директории каталог **bin**, в который складывать все свои скрипты. Создайте ее при помощи команды **mkdir** и переместите в нее Ваш скрипт.

**P.S.**: если Вы добавили какую-то директорию в переменную PATH, то после выхода из системы Ваши изменения исчезнут. Чтобы изменения сохранились нужно написать эту команду в файл **.bashrc** или **.bash\_profile**, который находится в домашней директории, тогда она будет выполнятся каждый раз когда Вы входите в систему.

По мотивам [http://linuxcommand.org](http://linuxcommand.org)